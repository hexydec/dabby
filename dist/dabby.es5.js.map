{"version":3,"sources":["dabby.es5.js"],"names":["_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","value","length","err","Array","isArray","Object","TypeError","_typeof","obj","constructor","prototype","global","factory","define","amd","exports","module","$","window","from","arrayLike","mapFn","thisArg","slice","call","map","CustomEvent","_CustomEvent","event","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","Event","Element","matches","msMatchesSelector","NodeList","forEach","callback","camelise","prop","replace","text","letter","toUpperCase","dasherise","toLowerCase","filterNodes","dabby","filter","context","not","func","nodes","nodeType","isFunction","n","node","item","Boolean","getEvents","getProp","properties","getVal","val","current","setCss","props","name","keys","k","remove","style","selector","_this","match","isWindow","readyState","addEventListener","once","indexOf","each","concat","querySelectorAll","createElement","attr","innerHTML","content","children","fn","len","ajax","url","settings","extend","method","cache","data","dataType","processData","async","crossDomain","scriptCharset","jsonp","jsonpCallback","Date","now","headers","contentType","statusCode","username","password","test","sync","script","xhr","charset","param","load","error","key","response","complete","apply","src","head","appendChild","status","responseText","callbacks","JSON","parse","e","XMLHttpRequest","open","Authorization","btoa","setRequestHeader","onload","types","ontimeout","onabort","send","success","type","isFunc","getScript","_success","_this2","_url$split","split","_url$split2","uri","html","outerHTML","add","isArr","encodeURIComponent","join","serialize","is","disabled","getAttribute","_this3","events","on","cssText","className","textContent","removeAttribute","setAttribute","cls","substr","classList","css","isPlainObject","getComputedStyle","output","ret","getPropertyValue","_this4","temp","_ret","dataset","stringify","v","hasOwnProperty","hasClass","contains","removeProp","_this5","_ret2","_loop","multiple","String","selected","values","checked","get","offset","coords","doc","documentElement","rect","pos","parent","getBoundingClientRect","top","left","position","parseFloat","scrollTop","scrollLeft","offsetParent","offsetLeft","offsetTop","dim","getAdditionalLength","wh","suffix","valtype","io","whu","isNaN","Node","DOCUMENT_NODE","trigger","_this6","_loop2","target","t","parents","args","preventDefault","stopPropagation","capture","index","removeEventListener","splice","dispatchEvent","clone","cloneNode","empty","before","prepend","append","after","pre","elems","arguments","arg","backwards","forwards","insertAdjacentElement","insertBefore","prependTo","appendTo","insertAfter","parentNode","removeChild","start","end","unwrap","wrap","wrapAll","firstElementChild","closest","eq","find","first","has","subject","last","all","until","sibling","ELEMENT_NODE","siblings","_this7","child","_len","arrs","_key","assign","Function","getPrototypeOf","proto","toString","result"],"mappings":"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","file":"dabby.es5.js","sourcesContent":["\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! dabbyjs v0.9.4 by Will Earp - https://github.com/hexydec/dabby */\n\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn factory(global);\n\t\t});\n\t} else if (typeof exports !== \"undefined\") {\n\t\tmodule.exports = factory(global);\n\t} else if (!global.$) {\n\t\tglobal.$ = factory(global);\n\t}\n})(undefined || window, function (window) {\n\t\"use strict\";\n\n\tif (!Array.from) {\n\t\tArray.from = function (arrayLike, mapFn, thisArg) {\n\t\t\tvar arr = [].slice.call(arrayLike);\n\t\t\tif (typeof mapFn === \"function\") {\n\t\t\t\tarr = arr.map(mapFn, thisArg);\n\t\t\t}\n\t\t\treturn arr;\n\t\t};\n\t}\n\n\t// CustomEvent is not supported in IE11\n\tif (typeof window.CustomEvent !== \"function\") {\n\t\tvar _CustomEvent = function _CustomEvent(event, params) {\n\t\t\tparams = params || { bubbles: false, cancelable: false, detail: undefined };\n\t\t\tvar evt = document.createEvent(\"CustomEvent\");\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\t\treturn evt;\n\t\t};\n\n\t\t_CustomEvent.prototype = window.Event.prototype;\n\t\twindow.CustomEvent = _CustomEvent;\n\t}\n\n\t// support Element.matches() in IE and older Webkit\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector;\n\t}\n\n\tif (!NodeList.prototype.forEach) {\n\t\tNodeList.prototype.forEach = function (callback, thisArg) {\n\t\t\tthisArg = thisArg || window;\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tcallback.call(thisArg, this[i], i, this);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction camelise(prop) {\n\t\treturn prop.replace(/-([a-z])/gi, function (text, letter) {\n\t\t\treturn letter.toUpperCase();\n\t\t});\n\t}\n\n\tfunction dasherise(prop) {\n\t\treturn prop.replace(/[A-Z]/g, function (letter) {\n\t\t\treturn \"-\" + letter.toLowerCase();\n\t\t});\n\t}\n\n\tfunction filterNodes(dabby, filter, context, not) {\n\t\tvar func = void 0,\n\t\t    nodes = dabby.nodeType ? [dabby] : Array.from(dabby);\n\n\t\t// sort out args\n\t\tif (typeof context === \"boolean\") {\n\t\t\tnot = context;\n\t\t\tcontext = null;\n\t\t}\n\n\t\t// function\n\t\tif ($.isFunction(filter)) {\n\t\t\tfunc = filter;\n\n\t\t\t// nodes\n\t\t} else {\n\n\t\t\t// normalise filters\n\t\t\tif (typeof filter === \"string\") {\n\t\t\t\tfilter = [filter];\n\t\t\t} else {\n\t\t\t\tfilter = Array.from($(filter, context));\n\t\t\t}\n\n\t\t\t// filter function\n\t\t\tfunc = function func(n, node) {\n\t\t\t\tvar i = filter.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tif (typeof filter[i] === \"string\" && node.matches ? node.matches(filter[i]) : node === filter[i]) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\t\treturn nodes.filter(function (item, i) {\n\t\t\treturn func.call(item, i, item) !== Boolean(not);\n\t\t}, nodes);\n\t}\n\n\tfunction getEvents() {\n\t\treturn [\"focusin\", \"focusout\", \"focus\", \"blur\", \"resize\", \"scroll\", \"unload\", \"click\", \"dblclick\", \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"mouseenter\", \"mouseleave\", \"contextmenu\", \"change\", \"select\", \"keydown\", \"keypress\", \"keyup\", \"error\", \"submit\"];\n\t}\n\n\tfunction getProp(prop) {\n\t\tvar properties = {\n\t\t\t\"for\": \"htmlFor\",\n\t\t\t\"class\": \"className\",\n\t\t\t\"tabindex\": \"tabIndex\",\n\t\t\t\"readonly\": \"readOnly\",\n\t\t\t\"maxlength\": \"maxLength\",\n\t\t\t\"cellspacing\": \"cellSpacing\",\n\t\t\t\"cellpadding\": \"cellPadding\",\n\t\t\t\"rowspan\": \"rowSpan\",\n\t\t\t\"colspan\": \"colSpan\",\n\t\t\t\"usemap\": \"useMap\",\n\t\t\t\"frameborder\": \"frameBorder\",\n\t\t\t\"contenteditable\": \"contentEditable\"\n\t\t};\n\t\tprop = prop.toLowerCase();\n\t\treturn properties[prop] || prop;\n\t}\n\n\tfunction getVal(val, obj, i, current) {\n\n\t\t// retrieve as function\n\t\tif ($.isFunction(val)) {\n\t\t\tval = val.call(obj, i, $.isFunction(current) ? current() : current); // current can be a function\n\t\t}\n\t\treturn val;\n\t}\n\n\tfunction setCss(dabby, props, value) {\n\n\t\t// set vars\n\t\tvar name = props,\n\t\t    keys = void 0,\n\t\t    k = void 0,\n\t\t    remove = void 0;\n\n\t\t// normalise props\n\t\tif (typeof props === \"string\") {\n\t\t\tprops = {};\n\t\t\tprops[name] = value;\n\t\t}\n\n\t\t// cache properties for loop\n\t\tkeys = Object.keys(props);\n\t\tk = keys.length;\n\n\t\t// set properties\n\t\twhile (k--) {\n\t\t\tvar i = dabby.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar val = props[keys[k]] === \"\" ? undefined : getVal(props[keys[k]], dabby[i], k, dabby[i].style[keys[k]]);\n\t\t\t\tif (typeof val === \"number\") {\n\t\t\t\t\tval += \"px\";\n\t\t\t\t}\n\t\t\t\tdabby[i].style[remove ? \"removeProperty\" : \"setProperty\"](dasherise(keys[k]), val);\n\t\t\t}\n\t\t}\n\t\treturn dabby;\n\t}\n\n\tvar dabby = function dabby(selector, context) {\n\t\tvar _this = this;\n\n\t\tvar nodes = [],\n\t\t    match = void 0,\n\t\t    obj = void 0;\n\n\t\t// enables new object to be created through $()\n\t\tif (!(this instanceof dabby)) {\n\t\t\treturn new dabby(selector, context);\n\n\t\t\t// if no selector, return empty colletion\n\t\t} else if (selector) {\n\n\t\t\t// $ collection\n\t\t\tif (selector instanceof dabby) {\n\t\t\t\treturn selector;\n\n\t\t\t\t// single node\n\t\t\t} else if (selector.nodeType || $.isWindow(selector)) {\n\t\t\t\tnodes = [selector];\n\n\t\t\t\t// ready function\n\t\t\t} else if ($.isFunction(selector)) {\n\t\t\t\tif (document.readyState !== \"loading\") {\n\t\t\t\t\tselector.call(document, $);\n\t\t\t\t} else {\n\t\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", function () {\n\t\t\t\t\t\tselector.call(document, $);\n\t\t\t\t\t}, { once: true });\n\t\t\t\t}\n\n\t\t\t\t// array|NodeList|HTMLCollection of nodes\n\t\t\t} else if (typeof selector !== \"string\") {\n\t\t\t\tnodes = selector;\n\n\t\t\t\t// CSS selector\n\t\t\t} else if (selector.indexOf(\"<\") === -1) {\n\t\t\t\tcontext = context || document;\n\t\t\t\t$(context).each(function (i, obj) {\n\t\t\t\t\tnodes = nodes.concat(Array.from(obj.querySelectorAll(selector)));\n\t\t\t\t});\n\n\t\t\t\t// create a single node and attach properties\n\t\t\t} else if ((match = selector.match(/^<([a-z0-9]+)(( ?\\/)?|><\\/\\1)>$/i)) !== null) {\n\t\t\t\tnodes.push(document.createElement(match[1]));\n\n\t\t\t\t// context is CSS attributes\n\t\t\t\tif (context instanceof Object) {\n\t\t\t\t\tobj = $(nodes);\n\t\t\t\t\t$.each(context, function (prop, value) {\n\t\t\t\t\t\tobj.attr(prop, value);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// parse HTML into nodes\n\t\t\t} else {\n\t\t\t\t//nodes = (context || doc).createRange().createContextualFragment(selector).childNodes; // not supported in iOS 9\n\t\t\t\tobj = document.createElement(\"template\");\n\t\t\t\tobj.innerHTML = selector;\n\t\t\t\tnodes = obj.content ? obj.content.children : obj.children;\n\t\t\t}\n\t\t}\n\n\t\t// build nodes\n\t\tthis.length = 0;\n\t\tArray.from(nodes).forEach(function (node) {\n\t\t\t// HTMLCollection objects don't support forEach\n\t\t\tif ([1, 9, 11].indexOf(node.nodeType) > -1 || $.isWindow(node)) {\n\t\t\t\t// only element, document, documentFragment and window\n\t\t\t\t_this[_this.length++] = node;\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t},\n\t    $ = dabby; // alias in this scope\n\n\t// alias functions\n\tdabby.fn = dabby.prototype;\n\n\t$.each = function (obj, callback) {\n\t\tvar keys = Object.keys(obj),\n\t\t    len = keys.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tif (callback.call(obj[keys[i]], keys[i], obj[keys[i]]) === false) {\n\t\t\t\tbreak; // stop if callback returns false\n\t\t\t}\n\t\t}\n\t\treturn obj;\n\t};\n\n\t$.ajax = function (url, settings) {\n\n\t\t// normalise args\n\t\tif ((typeof url === \"undefined\" ? \"undefined\" : _typeof(url)) === \"object\") {\n\t\t\tsettings = url;\n\t\t} else {\n\t\t\tif ((typeof settings === \"undefined\" ? \"undefined\" : _typeof(settings)) !== \"object\") {\n\t\t\t\tsettings = {};\n\t\t\t}\n\t\t\tsettings.url = url;\n\t\t}\n\n\t\t// set default settings\n\t\tsettings = $.extend({\n\t\t\tmethod: \"GET\",\n\t\t\tcache: null, // start will null so we can see if explicitly set\n\t\t\tdata: null,\n\t\t\tdataType: null, // only changes behavior with json, jsonp, script\n\t\t\tprocessData: true,\n\t\t\tasync: true,\n\t\t\tcrossDomain: false,\n\t\t\tscriptCharset: null,\n\t\t\tjsonp: \"callback\",\n\t\t\tjsonpCallback: \"dabby\" + Date.now(),\n\t\t\theaders: {\n\t\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\n\t\t\t\t\"Content-Type\": settings.contentType || \"application/x-www-form-urlencoded; charset=UTF-8\"\n\t\t\t},\n\t\t\tcontext: null,\n\t\t\tstatusCode: {},\n\t\t\tusername: null,\n\t\t\tpassword: null\n\t\t}, settings);\n\n\t\t// determine datatype\n\t\tif (!settings.dataType && /\\.js($|\\?)/.test(settings.url)) {\n\t\t\tsettings.dataType = \"script\";\n\t\t}\n\n\t\tvar sync = [\"script\", \"jsonp\"].indexOf(settings.dataType) > -1,\n\t\t    script = void 0,\n\t\t    xhr = void 0;\n\n\t\t// add cache buster\n\t\tif (settings.cache || settings.cache === null && sync) {\n\t\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"_=\" + +new Date();\n\t\t}\n\n\t\t// fetch script\n\t\tif (sync || settings.crossDomain) {\n\t\t\tscript = document.createElement(\"script\");\n\t\t\tif (settings.scriptCharset) {\n\t\t\t\tscript.charset = settings.scriptCharset;\n\t\t\t}\n\n\t\t\t// add data to query string\n\t\t\tif (settings.data && settings.processData) {\n\t\t\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + (typeof settings.data === \"string\" ? settings.data : $.param(settings.data));\n\t\t\t}\n\n\t\t\t// add callback parameter\n\t\t\tif (settings.dataType === \"jsonp\") {\n\t\t\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + settings.jsonp + \"=\" + settings.jsonpCallback;\n\t\t\t}\n\n\t\t\t// setup event callbacks\n\t\t\t$.each({\n\t\t\t\tload: \"success\",\n\t\t\t\terror: \"error\"\n\t\t\t}, function (key, value) {\n\t\t\t\tscript.addEventListener(key, function () {\n\t\t\t\t\tvar response = settings.dataType === \"jsonp\" ? window[settings.jsonpCallback] || null : null;\n\t\t\t\t\t[settings[value], settings.complete].forEach(function (callback) {\n\t\t\t\t\t\tif (callback) {\n\t\t\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [null, value] : [response, value]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, { once: true });\n\t\t\t});\n\n\t\t\tscript.src = settings.url;\n\t\t\tscript.async = settings.async;\n\t\t\tdocument.head.appendChild(script);\n\n\t\t\t// make xhr request\n\t\t} else {\n\t\t\tvar callback = function callback(xhr, status) {\n\t\t\t\tvar response = xhr.responseText,\n\t\t\t\t    callbacks = [];\n\n\t\t\t\t// parse JSON\n\t\t\t\tif ([\"json\", null].indexOf(settings.dataType) > -1) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresponse = JSON.parse(response);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// do nothing\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// run callbacks\n\t\t\t\t[settings.statusCode[xhr.status], settings[status], settings.complete].forEach(function (callback) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [xhr, status] : [response, status, xhr]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t// create XHR object\n\t\t\txhr = new XMLHttpRequest();\n\t\t\txhr.open(settings.method, settings.url, settings.async);\n\n\t\t\t// add authoisation header\n\t\t\tif (settings.username) {\n\t\t\t\tsettings.headers.Authorization = btoa(settings.username + \":\" + settings.password);\n\t\t\t}\n\n\t\t\t// headers\n\t\t\t$.each(settings.headers, function (key, value) {\n\t\t\t\txhr.setRequestHeader(key, value);\n\t\t\t});\n\n\t\t\t// callbacks\n\t\t\txhr.onload = function () {\n\t\t\t\tvar types = {\n\t\t\t\t\t200: \"success\",\n\t\t\t\t\t204: \"nocontent\",\n\t\t\t\t\t304: \"notmodified\"\n\t\t\t\t};\n\t\t\t\tcallback(xhr, types[xhr.status] || \"error\");\n\t\t\t};\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tcallback(xhr, \"timeout\");\n\t\t\t};\n\t\t\txhr.onabort = function () {\n\t\t\t\tcallback(xhr, \"abort\");\n\t\t\t};\n\t\t\txhr.send(settings.processData && settings.data && typeof settings.data !== \"string\" ? $.param(settings.data) : settings.data);\n\t\t\treturn xhr;\n\t\t}\n\t};\n\n\t[\"get\", \"post\"].forEach(function (name) {\n\t\t$[name] = function (url, data, success, type) {\n\t\t\tvar isFunc = $.isFunction(data);\n\t\t\tvar settings = (typeof url === \"undefined\" ? \"undefined\" : _typeof(url)) === \"object\" ? url : {\n\t\t\t\turl: url,\n\t\t\t\tdata: isFunc ? {} : data,\n\t\t\t\tsuccess: isFunc ? data : success,\n\t\t\t\tdataType: isFunc ? success : type\n\t\t\t};\n\t\t\tsettings.method = name.toUpperCase();\n\t\t\treturn $.ajax(settings);\n\t\t};\n\t});\n\n\t$.getScript = function (url, success) {\n\t\treturn $.ajax({\n\t\t\turl: url,\n\t\t\tdataType: \"script\",\n\t\t\tsuccess: success\n\t\t});\n\t};\n\n\t$.fn.load = function (url, data, _success) {\n\t\tvar _this2 = this;\n\n\t\tif (this[0]) {\n\n\t\t\t// get selector from URL\n\t\t\tvar _url$split = url.split(\" \", 2),\n\t\t\t    _url$split2 = _slicedToArray(_url$split, 2),\n\t\t\t    uri = _url$split2[0],\n\t\t\t    selector = _url$split2[1];\n\n\t\t\t// check for data\n\n\n\t\t\tif ($.isFunction(data)) {\n\t\t\t\t_success = data;\n\t\t\t\tdata = undefined;\n\t\t\t}\n\n\t\t\t// make AJAX request\n\t\t\t$.ajax(uri, {\n\t\t\t\tdata: data,\n\t\t\t\ttype: data instanceof Object ? \"POST\" : \"GET\",\n\t\t\t\tsuccess: function success(response, status, xhr) {\n\n\t\t\t\t\t// if a selector is specified, find it in the returned document\n\t\t\t\t\tvar html = \"\",\n\t\t\t\t\t    i = _this2.length;\n\n\t\t\t\t\t// refine by selector if supplied\n\t\t\t\t\tif (selector) {\n\t\t\t\t\t\t$(response).filter(selector).each(function (key, obj) {\n\t\t\t\t\t\t\thtml += obj.outerHTML;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = response;\n\t\t\t\t\t}\n\n\t\t\t\t\t// set HTML to nodes in collection\n\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t_this2[i].innerHTML = html;\n\n\t\t\t\t\t\t// fire success callback on nodes\n\t\t\t\t\t\tif (_success) {\n\t\t\t\t\t\t\t_success.call(_this2[i], response, status, xhr);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.param = function (obj) {\n\t\tvar params = [],\n\t\t    add = function add(key, value, params) {\n\t\t\tvar isArr = $.isArray(value);\n\t\t\tif (isArr || (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\") {\n\t\t\t\t$.each(value, function (i, val) {\n\t\t\t\t\tparams = add(key + \"[\" + (isArr ? \"\" : i) + \"]\", val, params);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tparams.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\n\t\t\t}\n\t\t\treturn params;\n\t\t};\n\n\t\t// process values\n\t\t$.each(obj, function (key, item) {\n\t\t\tparams = add(key, item, params);\n\t\t});\n\t\treturn params.join(\"&\");\n\t};\n\n\t$.fn.serialize = function () {\n\t\tvar selector = \"input[name]:not([type=file]):not([type=submit]),textarea[name],select[name]\",\n\t\t    obj = this.is(selector) ? this.filter(selector) : $(selector, this),\n\t\t    add = function add(name, value, params) {\n\t\t\tvar match = void 0;\n\n\t\t\tif ((match = name.match(/([^\\[]*)\\[([^\\]]*)\\](.*)/)) !== null) {\n\t\t\t\tname = match[1];\n\t\t\t\tvar arr = add(match[2] + match[3], value, params[name] || {});\n\t\t\t\tvalue = arr;\n\t\t\t}\n\n\t\t\tif (name !== \"\") {\n\t\t\t\tparams[name] = value;\n\t\t\t} else {\n\t\t\t\tif (!$.isArray(params)) {\n\t\t\t\t\tparams = [];\n\t\t\t\t}\n\t\t\t\tparams = params.concat($.isArray(value) ? value : [value]);\n\t\t\t}\n\t\t\treturn params;\n\t\t};\n\n\t\tvar params = {};\n\n\t\t// process values\n\t\tobj.each(function (key, obj) {\n\t\t\tvar value = $(obj).val();\n\t\t\tif (!obj.disabled && value !== undefined) {\n\t\t\t\tparams = add(obj.getAttribute(\"name\"), value, params);\n\t\t\t}\n\t\t});\n\t\treturn $.param(params);\n\t};\n\n\t$.fn.attr = function (prop, value) {\n\t\tvar _this3 = this;\n\n\t\tvar isArr = $.isArray(prop),\n\t\t    i = void 0,\n\t\t    events = void 0,\n\t\t    arr = {};\n\n\t\t// set properties\n\t\tif (isArr || value || value === null) {\n\t\t\ti = this.length, events = getEvents();\n\n\t\t\t// normalise to array\n\t\t\tif (!isArr) {\n\t\t\t\tarr[prop] = value;\n\t\t\t\tprop = arr;\n\t\t\t}\n\n\t\t\twhile (i--) {\n\t\t\t\t$.each(prop, function (key, val) {\n\t\t\t\t\tif (events.indexOf(key) > -1) {\n\t\t\t\t\t\t$(_this3[i]).on(key, val);\n\t\t\t\t\t} else if (key === \"style\") {\n\t\t\t\t\t\t_this3[i].style.cssText = val;\n\t\t\t\t\t} else if (key === \"class\") {\n\t\t\t\t\t\t_this3[i].className = val;\n\t\t\t\t\t} else if (key === \"text\") {\n\t\t\t\t\t\t_this3[i].textContent = val;\n\t\t\t\t\t} else if (value === null) {\n\t\t\t\t\t\t_this3[i].removeAttribute(key);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this3[i].setAttribute(key, val);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn this;\n\n\t\t\t// retrieve properties\n\t\t} else if (this[0]) {\n\t\t\tif (prop === \"style\") {\n\t\t\t\treturn this[0].style.cssText;\n\t\t\t}\n\t\t\tif (prop === \"class\") {\n\t\t\t\treturn this[0].className;\n\t\t\t}\n\t\t\treturn this[0].getAttribute(prop);\n\t\t}\n\t};\n\n\t[\"addClass\", \"removeClass\", \"toggleClass\"].forEach(function (name) {\n\t\t$.fn[name] = function (cls) {\n\n\t\t\t// remove \"Class\" from name for classList method\n\t\t\tvar func = name.substr(0, name.length - 5),\n\t\t\t    i = this.length;\n\n\t\t\t// manage classes on nodes\n\t\t\twhile (i--) {\n\t\t\t\tvar arr = getVal(cls, this[i], i, this[i].className);\n\t\t\t\tif (typeof arr === \"string\") {\n\t\t\t\t\tarr = arr.split(\" \");\n\t\t\t\t}\n\t\t\t\tvar len = arr.length;\n\t\t\t\tfor (var n = 0; n < len; n++) {\n\t\t\t\t\tthis[i].classList[func](arr[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t});\n\n\t$.fn.css = function (props, value) {\n\n\t\t// set the values\n\t\tif (value !== undefined || $.isPlainObject(props)) {\n\t\t\treturn setCss(this, props, value);\n\n\t\t\t// retrieve value from first property\n\t\t} else if (this[0]) {\n\t\t\tvar name = props,\n\t\t\t    i = void 0,\n\t\t\t    style = getComputedStyle(this[0], \"\"),\n\t\t\t    output = {},\n\t\t\t    ret = false;\n\n\t\t\tif (typeof name === \"string\") {\n\t\t\t\tprops = [name];\n\t\t\t\tret = true;\n\t\t\t}\n\t\t\ti = props.length;\n\t\t\twhile (i--) {\n\t\t\t\toutput[props[i]] = style.getPropertyValue(dasherise(props[i]));\n\t\t\t\tif (ret) {\n\t\t\t\t\treturn output[props[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t};\n\n\t$.fn.data = function (name, data) {\n\t\tvar _this4 = this;\n\n\t\t// convert data to object\n\t\tif ((typeof name === \"undefined\" ? \"undefined\" : _typeof(name)) === \"object\") {\n\t\t\tdata = name;\n\t\t} else if (data !== undefined) {\n\t\t\tvar temp = {};\n\t\t\ttemp[name] = data;\n\t\t\tdata = temp;\n\t\t}\n\n\t\t// set value\n\t\tif (data !== undefined) {\n\t\t\tvar _ret = function () {\n\t\t\t\tvar i = _this4.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\t$.each(data, function (key, value) {\n\t\t\t\t\t\t_this4[i].dataset[camelise(key)] = (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" ? JSON.stringify(value) : value;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tv: _this4\n\t\t\t\t};\n\n\t\t\t\t// get value\n\t\t\t}();\n\n\t\t\tif ((typeof _ret === \"undefined\" ? \"undefined\" : _typeof(_ret)) === \"object\") return _ret.v;\n\t\t} else if (this[0] && this[0].dataset) {\n\t\t\tvar parse = function parse(value) {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// all properties\n\t\t\tif (name === undefined) {\n\t\t\t\tvar arr = {};\n\t\t\t\t$.each(this[0].dataset, function (key, value) {\n\t\t\t\t\tarr[key] = parse(value);\n\t\t\t\t});\n\t\t\t\treturn arr;\n\n\t\t\t\t// retrieve specific property\n\t\t\t} else {\n\t\t\t\tname = camelise(name);\n\t\t\t\tif (this[0].dataset.hasOwnProperty(name)) {\n\t\t\t\t\treturn parse(this[0].dataset[name]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.hasClass = function (cls) {\n\t\tvar i = this.length;\n\t\twhile (i--) {\n\t\t\tif (this[i].classList.contains(cls)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t$.fn.prop = function (prop, value) {\n\t\tprop = getProp(prop);\n\n\t\t// set\n\t\tif (value !== undefined) {\n\t\t\tvar i = this.length;\n\t\t\twhile (i--) {\n\t\t\t\tthis[i][prop] = getVal(value, this[i], i, this[i][prop]);\n\t\t\t}\n\t\t\treturn this;\n\n\t\t\t// get\n\t\t} else if (this[0]) {\n\t\t\treturn this[0][prop];\n\t\t}\n\t};\n\n\t$.fn.removeProp = function (prop) {\n\t\tvar i = this.length;\n\t\tprop = getProp(prop);\n\n\t\twhile (i--) {\n\t\t\tdelete this[i][prop];\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.val = function (value) {\n\t\tvar _this5 = this;\n\n\t\t// set value\n\t\tif (value !== undefined) {\n\t\t\tvar _ret2 = function () {\n\t\t\t\tvar i = _this5.length,\n\t\t\t\t    val = void 0;\n\n\t\t\t\tvar _loop = function _loop() {\n\t\t\t\t\tvar val = getVal(value, _this5[i], i, function () {\n\t\t\t\t\t\treturn $(_this5[i]).val();\n\t\t\t\t\t});\n\t\t\t\t\tif (_this5[i].multiple) {\n\t\t\t\t\t\tval = $.map($.isArray(val) ? val : [val], function (item) {\n\t\t\t\t\t\t\treturn String(item);\n\t\t\t\t\t\t}); // convert to string\n\t\t\t\t\t\t$(\"option\", _this5[i]).each(function (key, obj) {\n\t\t\t\t\t\t\tobj.selected = val.indexOf(String(obj.value)) > -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this5[i].value = String(val);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\twhile (i--) {\n\t\t\t\t\t_loop();\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tv: _this5\n\t\t\t\t};\n\n\t\t\t\t// read value from first node\n\t\t\t}();\n\n\t\t\tif ((typeof _ret2 === \"undefined\" ? \"undefined\" : _typeof(_ret2)) === \"object\") return _ret2.v;\n\t\t} else if (this[0]) {\n\n\t\t\t// get multiple values\n\t\t\tif (this[0].multiple) {\n\t\t\t\tvar values = [];\n\t\t\t\t$(\"option\", this[0]).each(function (key, obj) {\n\t\t\t\t\tif (obj.selected) {\n\t\t\t\t\t\tvalues.push(String(obj.value));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn values;\n\n\t\t\t\t// get radio box value\n\t\t\t} else if (this[0].type === \"radio\") {\n\t\t\t\tvar obj = this.filter(\"[name='\" + this[0].name + \"']:checked\")[0];\n\t\t\t\treturn obj ? String(obj.value) : undefined;\n\n\t\t\t\t// get single value\n\t\t\t} else if (this[0].type !== \"checkbox\" || this[0].checked) {\n\t\t\t\treturn String(this[0].value);\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.each = function (callback) {\n\t\t$.each(Array.from(this), callback);\n\t\treturn this;\n\t};\n\n\t$.fn.get = function (i) {\n\t\treturn i === undefined ? Array.from(this) : this[i >= 0 ? i : i + this.length];\n\t};\n\n\t$.fn.map = function (callback) {\n\t\tvar len = this.length;\n\t\tvar values = [],\n\t\t    i = 0;\n\n\t\tfor (; i < len; i++) {\n\t\t\tvalues.push(callback.call(this[i], i, this[i]));\n\t\t}\n\t\treturn values;\n\t};\n\n\t$.fn.offset = function (coords) {\n\t\tvar doc = document.documentElement;\n\t\tvar rect = void 0,\n\t\t    i = this.length,\n\t\t    pos = void 0,\n\t\t    parent = void 0;\n\n\t\t// set\n\t\tif (coords) {\n\t\t\twhile (i--) {\n\n\t\t\t\t// if coords is callback, generate value\n\t\t\t\trect = this[i].getBoundingClientRect();\n\t\t\t\tcoords = getVal(coords, this[i], i, rect);\n\n\t\t\t\tif (coords.top !== undefined && coords.left !== undefined) {\n\n\t\t\t\t\t// set position relative if static\n\t\t\t\t\tpos = this[i].style.position || \"static\";\n\t\t\t\t\tif (pos === \"static\") {\n\t\t\t\t\t\tthis[i].style.position = \"relative\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// set offset\n\t\t\t\t\tthis[i].style.top = parseFloat(coords.top) - (pos === \"fixed\" ? 0 : doc.scrollTop + rect.top) + \"px\";\n\t\t\t\t\tthis[i].style.left = parseFloat(coords.left) - (pos === \"fixed\" ? 0 : doc.scrollLeft + rect.left) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\n\t\t\t// get\n\t\t} else if (this[0]) {\n\t\t\tpos = this[0].style.position;\n\t\t\trect = this[0].getBoundingClientRect();\n\t\t\treturn {\n\t\t\t\ttop: rect.top - (pos === \"fixed\" ? 0 : doc.scrollTop),\n\t\t\t\tleft: rect.left - (pos === \"fixed\" ? 0 : doc.scrollLeft)\n\t\t\t};\n\t\t}\n\t};\n\n\t$.fn.offsetParent = function () {\n\t\treturn $(this[0] ? this[0].offsetParent : null);\n\t};\n\n\t$.fn.position = function () {\n\t\tif (this[0]) {\n\t\t\treturn { left: this[0].offsetLeft, top: this[0].offsetTop };\n\t\t}\n\t};\n\n\t[\"scrollLeft\", \"scrollTop\"].forEach(function (item) {\n\t\t$.fn[item] = function (pos) {\n\n\t\t\t// set\n\t\t\tif (pos !== undefined) {\n\t\t\t\tvar i = this.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tthis[i][item] = pos;\n\t\t\t\t};\n\t\t\t\treturn this;\n\n\t\t\t\t// get\n\t\t\t} else if (this[0]) {\n\t\t\t\treturn this[0][item];\n\t\t\t}\n\t\t};\n\t});\n\n\t[\"width\", \"height\", \"innerWidth\", \"innerHeight\", \"outerWidth\", \"outerHeight\"].forEach(function (dim) {\n\n\t\tvar getAdditionalLength = function getAdditionalLength(obj, wh, props) {\n\t\t\tvar style = getComputedStyle(obj);\n\t\t\tvar i = props.length,\n\t\t\t    value = 0,\n\t\t\t    suffix = void 0;\n\n\t\t\twhile (i--) {\n\t\t\t\tsuffix = props[i] === \"border\" ? \"-width\" : \"\";\n\t\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-left\" : \"-top\") + suffix)) || 0;\n\t\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-right\" : \"-bottom\") + suffix)) || 0;\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\t$.fn[dim] = function (val) {\n\t\t\tvar valtype = typeof val === \"undefined\" ? \"undefined\" : _typeof(val),\n\t\t\t    wh = dim.toLowerCase().indexOf(\"width\") > -1 ? \"width\" : \"height\",\n\t\t\t    // width or height\n\t\t\tio = dim.indexOf(\"inner\") > -1 ? \"inner\" : dim.indexOf(\"outer\") > -1 ? \"outer\" : \"\"; // inner outer or neither\n\t\t\tvar i = this.length,\n\t\t\t    value = void 0,\n\t\t\t    whu = void 0,\n\t\t\t    props = void 0,\n\t\t\t    param = void 0;\n\n\t\t\t// set value\n\t\t\tif (val !== undefined && valtype !== \"boolean\") {\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvalue = getVal(val, this[i], i, this[i][dim]);\n\t\t\t\t\tif (io) {\n\t\t\t\t\t\tprops = [\"padding\"];\n\t\t\t\t\t\tif (io === \"outer\") {\n\t\t\t\t\t\t\tprops.push(\"border\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvalue -= getAdditionalLength(this[i], wh, props);\n\t\t\t\t\t}\n\t\t\t\t\tif (!isNaN(val)) {\n\t\t\t\t\t\tvalue += \"px\";\n\t\t\t\t\t}\n\t\t\t\t\tthis[i].style[wh] = value;\n\t\t\t\t}\n\t\t\t\treturn this;\n\n\t\t\t\t// get value\n\t\t\t} else if (this[0]) {\n\t\t\t\twhu = wh === \"width\" ? \"Width\" : \"Height\";\n\n\t\t\t\t// document\n\t\t\t\tif (this[0].nodeType === Node.DOCUMENT_NODE) {\n\t\t\t\t\treturn this[0].documentElement[\"scroll\" + whu];\n\n\t\t\t\t\t// element\n\t\t\t\t} else if (!$.isWindow(this[0])) {\n\t\t\t\t\tparam = io === \"outer\" ? \"offset\" : \"client\";\n\t\t\t\t\tvalue = this[0][param + whu];\n\n\t\t\t\t\t// add padding on, or if outer and margins requested, add margins on\n\t\t\t\t\tif (io === \"\" || io === \"outer\" && val === true) {\n\t\t\t\t\t\tvalue -= getAdditionalLength(this[0], wh, [io === \"\" ? \"padding\" : \"margin\"]);\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\n\t\t\t\t\t// window\n\t\t\t\t} else if (io === \"inner\") {\n\t\t\t\t\treturn this[0].document.documentElement[\"client\" + whu];\n\t\t\t\t} else {\n\t\t\t\t\treturn this[0][\"inner\" + whu];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n\n\tgetEvents().forEach(function (event) {\n\t\t$.fn[event] = function (data, callback) {\n\t\t\treturn data ? this.on(event, data, callback) : this.trigger(event);\n\t\t};\n\t});\n\n\t// add and remove event handlers\n\t[\"on\", \"one\", \"off\"].forEach(function (name) {\n\t\t$.fn[name] = function (events, selector, data, callback) {\n\t\t\tvar _this6 = this;\n\n\t\t\tvar i = this.length;\n\n\t\t\tevents = events.split(\" \");\n\n\t\t\t// sort out args\n\t\t\tif ($.isFunction(selector)) {\n\t\t\t\tcallback = selector;\n\t\t\t\tselector = null;\n\t\t\t} else if ($.isFunction(data)) {\n\t\t\t\tcallback = data;\n\t\t\t\tdata = null;\n\t\t\t}\n\n\t\t\t// attach event\n\n\t\t\tvar _loop2 = function _loop2() {\n\t\t\t\tvar e = events.length;\n\n\t\t\t\t// record the original function\n\t\t\t\tif (name !== \"off\") {\n\t\t\t\t\tif (!_this6[i].events) {\n\t\t\t\t\t\t_this6[i].events = [];\n\t\t\t\t\t}\n\t\t\t\t\tvar fn = function fn(evt) {\n\t\t\t\t\t\t// delegate function\n\t\t\t\t\t\tvar target = [this];\n\t\t\t\t\t\tif (selector) {\n\t\t\t\t\t\t\tvar t = $(evt.target);\n\t\t\t\t\t\t\ttarget = t.add(t.parents()).filter(selector).get(); // is the selector in the targets parents?\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (target) {\n\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t// set data to event object\n\t\t\t\t\t\t\t\tevt.data = data;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor (var _i = 0, len = target.length; _i < len; _i++) {\n\t\t\t\t\t\t\t\tif (callback.call(target[_i], evt, evt.args) === false) {\n\t\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t_this6[i].events.push({\n\t\t\t\t\t\tevents: events,\n\t\t\t\t\t\tcallback: callback,\n\t\t\t\t\t\tselector: selector,\n\t\t\t\t\t\tfunc: fn,\n\t\t\t\t\t\tonce: name === \"one\"\n\t\t\t\t\t});\n\n\t\t\t\t\t// trigger\n\t\t\t\t\twhile (e--) {\n\t\t\t\t\t\t_this6[i].addEventListener(events[e], fn, { once: name === \"one\", capture: !!selector });\n\t\t\t\t\t}\n\n\t\t\t\t\t// find the original function\n\t\t\t\t} else if (_this6[i].events.length) {\n\t\t\t\t\twhile (e--) {\n\t\t\t\t\t\t_this6[i].events.forEach(function (evt, n) {\n\t\t\t\t\t\t\tvar index = evt.events.indexOf(events[e]);\n\t\t\t\t\t\t\tif (index !== -1 && evt.callback === callback && evt.selector === selector) {\n\t\t\t\t\t\t\t\t_this6[i].removeEventListener(events[e], evt.func, { once: evt.once, capture: !!evt.selector }); // must pass same arguments\n\t\t\t\t\t\t\t\t_this6[i].events[n].events.splice(index, 1);\n\t\t\t\t\t\t\t\tif (!_this6[i].events[n].events.length) {\n\t\t\t\t\t\t\t\t\t_this6[i].events.splice(n, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\twhile (i--) {\n\t\t\t\t_loop2();\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t});\n\n\t$.fn.trigger = function (name, data) {\n\t\tvar evt = new CustomEvent(name, { bubbles: true, cancelable: true });\n\t\tvar i = this.length;\n\n\t\t// copy extra data to event object\n\t\tif (data) {\n\t\t\tevt.args = data;\n\t\t}\n\t\twhile (i--) {\n\t\t\tthis[i].dispatchEvent(evt);\n\t\t\t/*if (this[i].dispatchEvent(evt) && this[i][name]) {\r\n   \tthis[i][name]();\r\n   }*/\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.clone = function () {\n\t\tvar nodes = [],\n\t\t    i = this.length;\n\n\t\twhile (i--) {\n\t\t\tnodes[i] = this[i].cloneNode(true);\n\t\t}\n\t\treturn $(nodes);\n\t};\n\n\t$.fn.empty = function () {\n\t\tvar i = this.length;\n\t\twhile (i--) {\n\t\t\tthis[i].innerHTML = \"\";\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.html = function (html) {\n\n\t\t// set\n\t\tif (html !== undefined) {\n\t\t\tvar i = this.length;\n\t\t\twhile (i--) {\n\t\t\t\tthis[i].innerHTML = getVal(html, this[i], i, this[i].innerHTML);\n\t\t\t}\n\t\t\treturn this;\n\n\t\t\t// get\n\t\t} else if (this[0]) {\n\t\t\treturn this[0].innerHTML;\n\t\t}\n\t};\n\n\t$.each({\n\t\tbefore: \"beforeBegin\",\n\t\tprepend: \"afterBegin\",\n\t\tappend: \"beforeEnd\",\n\t\tafter: \"afterEnd\"\n\t}, function (name, pos) {\n\t\t$.fn[name] = function (html) {\n\t\t\tvar pre = [\"before\", \"prepend\"].indexOf(name) > -1,\n\t\t\t    isFunc = $.isFunction(html);\n\t\t\tvar i = this.length,\n\t\t\t    elems = $();\n\n\t\t\tif (!isFunc) {\n\t\t\t\t// multiple arguments containing nodes?\n\t\t\t\t$.each(arguments, function (i, arg) {\n\t\t\t\t\telems.add(arg);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\twhile (i--) {\n\t\t\t\tif (isFunc) {\n\t\t\t\t\telems = $(getVal(html, this[i], i, this[i].innerHTML));\n\t\t\t\t}\n\t\t\t\tvar backwards = elems.length,\n\t\t\t\t    // for counting down\n\t\t\t\tforwards = -1; // for counting up\n\t\t\t\twhile (pre ? backwards-- : ++forwards < backwards) {\n\t\t\t\t\t// insert forwards or backwards?\n\t\t\t\t\tvar obj = elems[pre ? backwards : forwards];\n\n\t\t\t\t\t// clone if i !== 0\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\tobj = obj.cloneNode(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis[i].insertAdjacentElement(pos, obj);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t});\n\n\t$.each({\n\t\tinsertBefore: \"before\",\n\t\tprependTo: \"prepend\",\n\t\tappendTo: \"append\",\n\t\tinsertAfter: \"after\"\n\t}, function (name, func) {\n\t\t$.fn[name] = function (selector) {\n\t\t\tvar i = this.length,\n\t\t\t    obj = $(selector);\n\n\t\t\twhile (i--) {\n\t\t\t\tobj[func](this[i]);\n\t\t\t}\n\t\t\treturn this;\n\t\t};\n\t});\n\n\t[\"remove\", \"detach\"].forEach(function (func) {\n\t\t$.fn[func] = function (selector) {\n\t\t\tvar i = this.length,\n\t\t\t    nodes = [],\n\t\t\t    obj = [];\n\n\t\t\t// detach selected nodes\n\t\t\twhile (i--) {\n\t\t\t\tif (!selector || filterNodes(this[i], selector).length) {\n\t\t\t\t\tnodes.push(this[i].parentNode.removeChild(this[i]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// create a new dabby object to return\n\t\t\treturn func === \"detach\" ? $(nodes) : this;\n\t\t};\n\t});\n\n\t$.fn.slice = function (start, end) {\n\t\treturn $(this.get().slice(start, end));\n\t};\n\n\t$.fn.text = function (text) {\n\t\tvar get = text === undefined;\n\t\tvar len = this.length,\n\t\t    output = [],\n\t\t    i = 0;\n\t\tfor (; i < len; i++) {\n\t\t\tif (get) {\n\t\t\t\toutput.push(this[i].textContent);\n\t\t\t} else {\n\t\t\t\tthis[i].textContent = getVal(text, this[i], i, this[i].textContent);\n\t\t\t}\n\t\t}\n\t\treturn get ? output.join(\" \") : this;\n\t};\n\n\t$.fn.unwrap = function (selector) {\n\t\tthis.parent(selector).not(\"body\").each(function (key, obj) {\n\t\t\tvar parent = obj.parentNode;\n\n\t\t\t$(obj.children).each(function (i, node) {\n\t\t\t\tparent.insertBefore(node, obj);\n\t\t\t});\n\t\t\tparent.removeChild(obj);\n\t\t});\n\t\treturn this;\n\t};\n\n\t$.fn.wrap = function (html) {\n\t\tvar i = this.length;\n\n\t\twhile (i--) {\n\t\t\t$(this[i]).wrapAll(getVal(html, this[i], i));\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.wrapAll = function (html) {\n\t\tif (this[0]) {\n\n\t\t\t// set variables\n\t\t\tvar len = this.length,\n\t\t\t    i = 0,\n\t\t\t    node = $(getVal(html, this[0]))[0].cloneNode(true);\n\n\t\t\t// insert clone into parent\n\t\t\tthis[0].parentNode.insertBefore(node, null);\n\n\t\t\t// find innermost child of node\n\t\t\twhile (node.firstElementChild) {\n\t\t\t\tnode = node.firstElementChild;\n\t\t\t}\n\n\t\t\t// attach nodes to the new node\n\t\t\tfor (; i < len; i++) {\n\t\t\t\tnode.appendChild(this[i]);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.add = function (nodes, context) {\n\t\tnodes = $(nodes, context);\n\t\tvar len = this.length,\n\t\t    i = nodes.length;\n\n\t\tthis.length += i;\n\t\twhile (i--) {\n\t\t\tthis[i + len] = nodes[i];\n\t\t}\n\t\treturn this;\n\t};\n\n\t$.fn.children = function (selector) {\n\t\tvar nodes = [],\n\t\t    i = this.length;\n\n\t\twhile (i--) {\n\t\t\tnodes = nodes.concat(Array.from(this[i].children));\n\t\t}\n\n\t\t// filter nodes by selector\n\t\tif (selector) {\n\t\t\tnodes = filterNodes(nodes, selector);\n\t\t}\n\t\treturn $(nodes);\n\t};\n\n\t$.fn.closest = function (selector, context) {\n\t\tvar i = this.length,\n\t\t    nodes = [],\n\t\t    parents = void 0,\n\t\t    node = void 0;\n\n\t\twhile (i--) {\n\t\t\tparents = [];\n\t\t\tnode = this[i];\n\t\t\twhile (node) {\n\t\t\t\tparents.push(node);\n\t\t\t\tnode = node.parentNode;\n\t\t\t}\n\t\t\tparents = filterNodes(parents, selector, context);\n\t\t\tif (parents[0]) {\n\t\t\t\tnodes.push(parents[0]);\n\t\t\t}\n\t\t}\n\t\treturn $(nodes);\n\t};\n\n\t$.fn.eq = function (i) {\n\t\tvar key = i < 0 ? i + this.length : i;\n\t\treturn $(this[key] || null);\n\t};\n\n\t[\"filter\", \"not\"].forEach(function (name) {\n\t\t$.fn[name] = function (selector) {\n\t\t\treturn $(filterNodes(this, selector, name === \"not\"));\n\t\t};\n\t});\n\n\t$.fn.find = function (selector) {\n\t\treturn $(selector, this);\n\t};\n\n\t$.fn.first = function () {\n\t\treturn $(this[0]);\n\t};\n\n\t$.fn.has = function (selector) {\n\t\treturn $(this.get().filter(function (node) {\n\t\t\treturn !!$(selector, node).length;\n\t\t}));\n\t};\n\n\t$.fn.index = function (selector) {\n\t\tvar index = -1;\n\n\t\tif (this[0]) {\n\t\t\tvar nodes = void 0,\n\t\t\t    subject = this[0],\n\t\t\t    type = typeof selector === \"undefined\" ? \"undefined\" : _typeof(selector),\n\t\t\t    i = void 0;\n\n\t\t\t// if no selector, match against first elements siblings\n\t\t\tif (type === \"undefined\") {\n\t\t\t\tnodes = this[0].parentNode.children;\n\n\t\t\t\t// if selector is string, match first node in current collection against resulting collection\n\t\t\t} else if (type === \"string\") {\n\t\t\t\tnodes = $(selector);\n\n\t\t\t\t// if element or collection match the element or first node against current collection\n\t\t\t} else {\n\t\t\t\tnodes = this;\n\t\t\t\tsubject = $(selector)[0];\n\t\t\t}\n\n\t\t\ti = nodes.length;\n\t\t\twhile (i--) {\n\t\t\t\tif (nodes[i] === subject) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t};\n\n\t$.fn.is = function (selector) {\n\t\treturn !!filterNodes(this, selector).length;\n\t};\n\n\t$.fn.last = function () {\n\t\treturn this.eq(-1);\n\t};\n\n\t[\"next\", \"nextAll\", \"nextUntil\", \"prev\", \"prevAll\", \"prevUntil\"].forEach(function (func) {\n\t\t$.fn[func] = function (selector, filter) {\n\t\t\tvar next = func.indexOf(\"next\") > -1,\n\t\t\t    all = func.indexOf(\"All\") > -1,\n\t\t\t    until = func.indexOf(\"Until\") > -1,\n\t\t\t    method = next ? \"nextElementSibling\" : \"previousElementSibling\";\n\t\t\tvar nodes = [],\n\t\t\t    i = this.length,\n\t\t\t    sibling = void 0;\n\n\t\t\t// look through each node and get siblings\n\t\t\twhile (i--) {\n\t\t\t\tsibling = this[i][method];\n\t\t\t\twhile (sibling) {\n\t\t\t\t\tnodes.push(sibling);\n\t\t\t\t\tif (all || until && filterNodes(sibling, selector).length) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsibling = sibling[method];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// swap args for *Until methods\n\t\t\tif (until) {\n\t\t\t\tselector = filter;\n\t\t\t}\n\n\t\t\t// filter siblings by selector\n\t\t\tif (selector) {\n\t\t\t\tnodes = filterNodes(nodes, selector);\n\t\t\t}\n\n\t\t\t// return new collection\n\t\t\treturn $(nodes);\n\t\t};\n\t});\n\n\t[\"parent\", \"parents\", \"parentsUntil\"].forEach(function (func) {\n\t\t$.fn[func] = function (selector, filter) {\n\t\t\tvar all = func.indexOf(\"s\") > -1,\n\t\t\t    until = func.indexOf(\"U\") > -1;\n\t\t\tvar nodes = [],\n\t\t\t    i = this.length,\n\t\t\t    parent = void 0;\n\n\t\t\twhile (i--) {\n\t\t\t\tparent = this[i].parentNode;\n\t\t\t\twhile (parent && parent.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\tnodes.push(parent);\n\t\t\t\t\tif (!all || until && filterNodes(parent, selector).length) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparent = parent.parentNode;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (selector) {\n\t\t\t\tnodes = filterNodes(nodes, selector);\n\t\t\t}\n\t\t\treturn $(nodes);\n\t\t};\n\t});\n\n\t$.fn.siblings = function (selector) {\n\t\tvar _this7 = this;\n\n\t\tvar i = this.length,\n\t\t    nodes = [];\n\n\t\twhile (i--) {\n\t\t\tArray.from(this[i].parentNode.children).forEach(function (child) {\n\t\t\t\tif (child !== _this7[i]) {\n\t\t\t\t\tnodes.push(child);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn $(selector ? filterNodes(nodes, selector) : nodes);\n\t};\n\n\t$.extend = function () {\n\t\tfor (var _len = arguments.length, arrs = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\tarrs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn Object.assign.apply(null, arrs);\n\t\t/*const len = arrs.length;\r\n  let i = 0,\r\n  \tkeys,\r\n  \tk;\r\n  \n  for (; i < len; i++) {\r\n  \tkeys = Object.keys(arrs[i]);\r\n  \tk = keys.length;\r\n  \twhile (k--) {\r\n  \t\tobj[keys[k]] = arrs[i][keys[k]];\r\n  \t}\r\n  }\r\n  return obj;*/\n\t};\n\n\t$.isArray = function (arr) {\n\t\treturn Array.isArray(arr);\n\t};\n\n\t$.isFunction = function (func) {\n\t\treturn func && func.constructor === Function;\n\t};\n\n\t$.isPlainObject = function (obj) {\n\n\t\t// Basic check for Type object that's not null\n\t\tif ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) === \"object\" && obj !== null) {\n\n\t\t\t// If Object.getPrototypeOf supported, use it\n\t\t\tif (typeof Object.getPrototypeOf == 'function') {\n\t\t\t\tvar proto = Object.getPrototypeOf(obj);\n\t\t\t\treturn proto === Object.prototype || proto === null;\n\t\t\t}\n\n\t\t\t// Otherwise, use internal class\n\t\t\t// This should be reliable as if getPrototypeOf not supported, is pre-ES5\n\t\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\";\n\t\t}\n\n\t\t// Not an object\n\t\treturn false;\n\t};\n\n\t$.isWindow = function (obj) {\n\t\treturn obj !== null && obj === obj.window;\n\t};\n\n\t$.map = function (obj, callback) {\n\t\tvar keys = Object.keys(obj),\n\t\t    len = keys.length;\n\t\tvar arr = [],\n\t\t    i = 0,\n\t\t    result = void 0;\n\n\t\tfor (; i < len; i++) {\n\t\t\tresult = callback.call(window, obj[keys[i]], keys[i]);\n\t\t\tif (![null, undefined].indexOf(result) > -1) {\n\t\t\t\tarr.push(result);\n\t\t\t}\n\t\t}\n\t\treturn arr;\n\t};\n\treturn dabby;\n});\n//# sourceMappingURL=dabby.es5.js.map\n//# sourceMappingURL=dabby.es5.js.map\n"]}