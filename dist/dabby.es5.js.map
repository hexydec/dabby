{"version":3,"sources":["dabby.es5.js"],"names":["global","factory","define","amd","exports","module","$","window","Array","from","arrayLike","mapFn","thisArg","arr","slice","call","map","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","Element","matches","msMatchesSelector","NodeList","forEach","callback","i","length","camelise","prop","replace","text","letter","toUpperCase","dasherise","toLowerCase","filterNodes","dabby","filter","context","not","func","nodes","nodeType","isFunction","n","node","item","Boolean","getEvents","getProp","properties","getVal","val","obj","current","setCss","props","value","name","keys","k","remove","Object","style","selector","match","isWindow","readyState","addEventListener","once","indexOf","each","concat","querySelectorAll","push","createElement","attr","innerHTML","content","children","fn","len","ajax","url","settings","extend","method","cache","data","dataType","processData","async","crossDomain","scriptCharset","jsonp","jsonpCallback","Date","now","headers","contentType","statusCode","username","password","test","sync","script","xhr","param","charset","load","error","key","response","complete","apply","src","head","appendChild","status","responseText","callbacks","JSON","parse","e","XMLHttpRequest","open","Authorization","btoa","setRequestHeader","onload","types","ontimeout","onabort","send","get","success","type","isFunc","getScript","split","uri","html","outerHTML","add","isArr","isArray","encodeURIComponent","join","serialize","is","disabled","getAttribute","events","on","cssText","className","textContent","removeAttribute","setAttribute","cls","substr","classList","css","isPlainObject","getComputedStyle","output","ret","getPropertyValue","temp","dataset","stringify","hasOwnProperty","hasClass","contains","removeProp","multiple","String","selected","values","checked","offset","coords","doc","documentElement","rect","pos","parent","getBoundingClientRect","top","left","position","parseFloat","scrollTop","scrollLeft","offsetParent","offsetLeft","offsetTop","getAdditionalLength","wh","suffix","dim","valtype","io","whu","isNaN","Node","DOCUMENT_NODE","trigger","target","t","parents","args","preventDefault","stopPropagation","capture","index","removeEventListener","splice","dispatchEvent","clone","cloneNode","empty","before","prepend","append","after","pre","elems","arguments","arg","backwards","forwards","insertAdjacentElement","insertBefore","prependTo","appendTo","insertAfter","parentNode","removeChild","start","end","unwrap","wrap","wrapAll","firstElementChild","closest","eq","find","first","has","subject","last","next","all","until","sibling","ELEMENT_NODE","siblings","child","arrs","constructor","Function","getPrototypeOf","proto","toString","result"],"mappings":"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","file":"dabby.es5.js","sourcesContent":["/*! dabbyjs v0.9.3 by Will Earp - https://github.com/hexydec/dabby */\r\n\r\n(function (global, factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(() => factory(global));\r\n\t} else if (typeof exports !== \"undefined\") {\r\n\t\tmodule.exports = factory(global);\r\n\t} else if (!global.$) {\r\n\t\tglobal.$ = factory(global);\r\n\t}\r\n}(this || window, window => {\r\n\t\"use strict\";\r\n\r\nif (!Array.from) {\r\n\tArray.from = function (arrayLike, mapFn, thisArg) {\r\n\t\tvar arr = [].slice.call(arrayLike);\r\n\t\tif (typeof mapFn === \"function\") {\r\n\t\t\tarr = arr.map(mapFn, thisArg);\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n}\r\n\r\n// CustomEvent is not supported in IE11\r\nif (typeof window.CustomEvent !== \"function\") {\r\n\tfunction CustomEvent(event, params) {\r\n\t\tparams = params || {bubbles: false, cancelable: false, detail: undefined};\r\n\t\tconst evt = document.createEvent(\"CustomEvent\");\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = window.Event.prototype;\r\n\twindow.CustomEvent = CustomEvent;\r\n}\r\n\r\n// support Element.matches() in IE and older Webkit\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector;\r\n}\r\n\r\nif (!NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}\r\n\r\nfunction camelise(prop) {\r\n\treturn prop.replace(/-([a-z])/gi, (text, letter) => letter.toUpperCase());\r\n}\r\n\r\nfunction dasherise(prop) {\r\n\treturn prop.replace(/[A-Z]/g, (letter) => \"-\" + letter.toLowerCase());\r\n}\r\n\r\nfunction filterNodes(dabby, filter, context, not) {\r\n\tlet func,\r\n\t\tnodes = dabby.nodeType ? [dabby] : Array.from(dabby);\r\n\r\n\t// sort out args\r\n\tif (typeof context === \"boolean\") {\r\n\t\tnot = context;\r\n\t\tcontext = null;\r\n\t}\r\n\r\n\t// function\r\n\tif ($.isFunction(filter)) {\r\n\t\tfunc = filter;\r\n\r\n\t// nodes\r\n\t} else {\r\n\r\n\t\t// normalise filters\r\n\t\tif (typeof(filter) === \"string\") {\r\n\t\t\tfilter = [filter];\r\n\t\t} else {\r\n\t\t\tfilter = Array.from($(filter, context));\r\n\t\t}\r\n\r\n\t\t// filter function\r\n\t\tfunc = (n, node) => {\r\n\t\t\tlet i = filter.length;\r\n\t\t\twhile (i--) {\r\n\t\t\t\tif (typeof(filter[i]) === \"string\" && node.matches ? node.matches(filter[i]) : node === filter[i]) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\t}\r\n\treturn nodes.filter((item, i) => func.call(item, i, item) !== Boolean(not), nodes);\r\n}\r\n\r\nfunction getEvents() {\r\n\treturn [\"focusin\", \"focusout\", \"focus\", \"blur\", \"resize\", \"scroll\", \"unload\", \"click\", \"dblclick\", \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"mouseenter\", \"mouseleave\", \"contextmenu\", \"change\", \"select\", \"keydown\", \"keypress\", \"keyup\", \"error\", \"submit\"];\r\n}\r\n\r\nfunction getProp(prop) {\r\n\tlet properties = {\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t\"class\": \"className\",\r\n\t\t\"tabindex\": \"tabIndex\",\r\n\t\t\"readonly\": \"readOnly\",\r\n\t\t\"maxlength\": \"maxLength\",\r\n\t\t\"cellspacing\": \"cellSpacing\",\r\n\t\t\"cellpadding\": \"cellPadding\",\r\n\t\t\"rowspan\": \"rowSpan\",\r\n\t\t\"colspan\": \"colSpan\",\r\n\t\t\"usemap\": \"useMap\",\r\n\t\t\"frameborder\": \"frameBorder\",\r\n\t\t\"contenteditable\": \"contentEditable\"\r\n\t};\r\n\tprop = prop.toLowerCase();\r\n\treturn properties[prop] || prop;\r\n}\r\n\r\nfunction getVal(val, obj, i, current) {\r\n\r\n\t// retrieve as function\r\n\tif ($.isFunction(val)) {\r\n\t\tval = val.call(obj, i, $.isFunction(current) ? current() : current); // current can be a function\r\n\t}\r\n\treturn val;\r\n}\r\n\r\nfunction setCss(dabby, props, value) {\r\n\r\n\t// set vars\r\n\tlet name = props,\r\n\t\tkeys,\r\n\t\tk,\r\n\t\tremove;\r\n\r\n\t// normalise props\r\n\tif (typeof props === \"string\") {\r\n\t\tprops = {};\r\n\t\tprops[name] = value;\r\n\t}\r\n\r\n\t// cache properties for loop\r\n\tkeys = Object.keys(props);\r\n\tk = keys.length;\r\n\r\n\t// set properties\r\n\twhile (k--) {\r\n\t\tlet i = dabby.length;\r\n\t\twhile (i--) {\r\n\t\t\tlet val = props[keys[k]] === \"\" ? undefined : getVal(props[keys[k]], dabby[i], k, dabby[i].style[keys[k]]);\r\n\t\t\tif (typeof val === \"number\") {\r\n\t\t\t\tval += \"px\";\r\n\t\t\t}\r\n\t\t\tdabby[i].style[remove ? \"removeProperty\" : \"setProperty\"](dasherise(keys[k]), val);\r\n\t\t}\r\n\t}\r\n\treturn dabby;\r\n}\r\n\r\nconst dabby = function (selector, context) {\r\n\tlet nodes = [],\r\n\t\tmatch,\r\n\t\tobj;\r\n\r\n\t// enables new object to be created through $()\r\n\tif (!(this instanceof dabby)) {\r\n\t\treturn new dabby(selector, context);\r\n\r\n\t// if no selector, return empty colletion\r\n\t} else if (selector) {\r\n\r\n\t\t// $ collection\r\n\t\tif (selector instanceof dabby) {\r\n\t\t\treturn selector;\r\n\r\n\t\t// single node\r\n\t\t} else if (selector.nodeType || $.isWindow(selector)) {\r\n\t\t\tnodes = [selector];\r\n\r\n\t\t// ready function\r\n\t\t} else if ($.isFunction(selector)) {\r\n\t\t\tif (document.readyState !== \"loading\") {\r\n\t\t\t\tselector.call(document, $);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {selector.call(document, $);}, {once: true});\r\n\t\t\t}\r\n\r\n\t\t// array|NodeList|HTMLCollection of nodes\r\n\t\t} else if (typeof selector !== \"string\") {\r\n\t\t\tnodes = selector;\r\n\r\n\t\t// CSS selector\r\n\t\t} else if (selector.indexOf(\"<\") === -1) {\r\n\t\t\tcontext = context || document;\r\n\t\t\t$(context).each((i, obj) => {\r\n\t\t\t\tnodes = nodes.concat(Array.from(obj.querySelectorAll(selector)));\r\n\t\t\t});\r\n\r\n\t\t// create a single node and attach properties\r\n\t\t} else if ((match = selector.match(/^<([a-z0-9]+)(( ?\\/)?|><\\/\\1)>$/i)) !== null) {\r\n\t\t\tnodes.push(document.createElement(match[1]));\r\n\r\n\t\t\t// context is CSS attributes\r\n\t\t\tif (context instanceof Object) {\r\n\t\t\t\tobj = $(nodes);\r\n\t\t\t\t$.each(context, (prop, value) => {\r\n\t\t\t\t\tobj.attr(prop, value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t// parse HTML into nodes\r\n\t\t} else {\r\n\t\t\t//nodes = (context || doc).createRange().createContextualFragment(selector).childNodes; // not supported in iOS 9\r\n\t\t\tobj = document.createElement(\"template\");\r\n\t\t\tobj.innerHTML = selector;\r\n\t\t\tnodes = obj.content ? obj.content.children : obj.children;\r\n\t\t}\r\n\t}\r\n\r\n\t// build nodes\r\n\tthis.length = 0;\r\n\tArray.from(nodes).forEach(node => { // HTMLCollection objects don't support forEach\r\n\t\tif ([1, 9, 11].indexOf(node.nodeType) > -1 || $.isWindow(node)) { // only element, document, documentFragment and window\r\n\t\t\tthis[this.length++] = node;\r\n\t\t}\r\n\t});\r\n\treturn this;\r\n},\r\n\t$ = dabby; // alias in this scope\r\n\r\n// alias functions\r\ndabby.fn = dabby.prototype;\r\n\r\n$.each = (obj, callback) => {\r\n\tconst keys = Object.keys(obj),\r\n\t\tlen = keys.length;\r\n\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tif (callback.call(obj[keys[i]], keys[i], obj[keys[i]]) === false) {\r\n\t\t\tbreak; // stop if callback returns false\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n};\r\n\r\n$.ajax = (url, settings) => {\r\n\r\n\t// normalise args\r\n\tif (typeof url === \"object\") {\r\n\t\tsettings = url;\r\n\t} else {\r\n\t\tif (typeof settings !== \"object\") {\r\n\t\t\tsettings = {};\r\n\t\t}\r\n\t\tsettings.url = url;\r\n\t}\r\n\r\n\t// set default settings\r\n\tsettings = $.extend({\r\n\t\tmethod: \"GET\",\r\n\t\tcache: null, // start will null so we can see if explicitly set\r\n\t\tdata: null,\r\n\t\tdataType: null, // only changes behavior with json, jsonp, script\r\n\t\tprocessData: true,\r\n\t\tasync: true,\r\n\t\tcrossDomain: false,\r\n\t\tscriptCharset: null,\r\n\t\tjsonp: \"callback\",\r\n\t\tjsonpCallback: \"dabby\" + Date.now(),\r\n\t\theaders: {\r\n\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\r\n\t\t\t\"Content-Type\": settings.contentType || \"application/x-www-form-urlencoded; charset=UTF-8\"\r\n\t\t},\r\n\t\tcontext: null,\r\n\t\tstatusCode: {},\r\n\t\tusername: null,\r\n\t\tpassword: null\r\n\t}, settings);\r\n\r\n\t// determine datatype\r\n\tif (!settings.dataType && /\\.js($|\\?)/.test(settings.url)) {\r\n\t\tsettings.dataType = \"script\";\r\n\t}\r\n\r\n\tlet sync = [\"script\", \"jsonp\"].indexOf(settings.dataType) > -1,\r\n\t\tscript, xhr;\r\n\r\n\t// add cache buster\r\n\tif (settings.cache || (settings.cache === null && sync)) {\r\n\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"_=\" + (+new Date());\r\n\t}\r\n\r\n\t// add data to query string\r\n\tif (settings.data && settings.processData) {\r\n\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + (typeof settings.data === \"string\" ? settings.data : $.param(settings.data));\r\n\t}\r\n\r\n\t// fetch script\r\n\tif (sync || settings.crossDomain) {\r\n\t\tscript = document.createElement(\"script\");\r\n\t\tif (settings.scriptCharset) {\r\n\t\t\tscript.charset = settings.scriptCharset;\r\n\t\t}\r\n\r\n\t\t// add callback parameter\r\n\t\tif (settings.dataType === \"jsonp\") {\r\n\t\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + settings.jsonp + \"=\" + settings.jsonpCallback;\r\n\t\t}\r\n\r\n\t\t// setup event callbacks\r\n\t\t$.each({\r\n\t\t\tload: \"success\",\r\n\t\t\terror: \"error\"\r\n\t\t}, (key, value) => {\r\n\t\t\tscript.addEventListener(key, () => {\r\n\t\t\t\tlet response = settings.dataType === \"jsonp\" ? window[settings.jsonpCallback] || null : null;\r\n\t\t\t\t[settings[value], settings.complete].forEach(callback => {\r\n\t\t\t\t\tif (callback) {\r\n\t\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [null, value] : [response, value]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tscript.src = settings.url;\r\n\t\tdocument.head.appendChild(script);\r\n\r\n\t// make xhr request\r\n\t} else {\r\n\t\tconst callback = (xhr, status) => {\r\n\t\t\tlet response = xhr.responseText,\r\n\t\t\t\tcallbacks = [];\r\n\r\n\t\t\t// parse JSON\r\n\t\t\tif ([\"json\", null].indexOf(settings.dataType) > -1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresponse = JSON.parse(response);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// run callbacks\r\n\t\t\t[settings.statusCode[xhr.status], settings[status], settings.complete].forEach(callback => {\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [xhr, status] : [response, status, xhr]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// create XHR object\r\n\t\txhr = new XMLHttpRequest();\r\n\t\txhr.open(settings.method, settings.url, settings.async);\r\n\r\n\t\t// add authoisation header\r\n\t\tif (settings.username) {\r\n\t\t\tsettings.headers.Authorization = btoa(settings.username + \":\" + settings.password);\r\n\t\t}\r\n\r\n\t\t// headers\r\n\t\t$.each(settings.headers, (key, value) => {\r\n\t\t\txhr.setRequestHeader(key, value);\r\n\t\t});\r\n\r\n\t\t// callbacks\r\n\t\txhr.onload = () => {\r\n\t\t\tconst types = {\r\n\t\t\t\t200: \"success\",\r\n\t\t\t\t204: \"nocontent\",\r\n\t\t\t\t304: \"notmodified\"\r\n\t\t\t};\r\n\t\t\tcallback(xhr, types[xhr.status] || \"error\");\r\n\t\t};\r\n\t\txhr.ontimeout = () => {\r\n\t\t\tcallback(xhr, \"timeout\");\r\n\t\t};\r\n\t\txhr.onabort = () => {\r\n\t\t\tcallback(xhr, \"abort\");\r\n\t\t};\r\n\t\txhr.send(settings.processData ? undefined : settings.data);\r\n\t\treturn xhr;\r\n\t}\r\n};\r\n\r\n$.get = (url, data, success, type) => {\r\n\tconst isFunc = data && $.isFunction(data);\r\n\treturn $.ajax(typeof(url) === \"object\" ? url : {\r\n\t\turl: url,\r\n\t\tdata: isFunc ? {} : data,\r\n\t\tsuccess: isFunc ? data : success,\r\n\t\tdataType: isFunc ? success : type\r\n\t});\r\n};\r\n\r\n$.getScript = (url, success) => $.ajax({\r\n\turl: url,\r\n\tdataType: \"script\",\r\n\tsuccess: success\r\n});\r\n\r\n$.fn.load = function (url, data, success) {\r\n\tif (this[0]) {\r\n\r\n\t\t// get selector from URL\r\n\t\tconst [uri, selector] = url.split(\" \", 2);\r\n\r\n\t\t// check for data\r\n\t\tif ($.isFunction(data)) {\r\n\t\t\tsuccess = data;\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\r\n\t\t// make AJAX request\r\n\t\t$.ajax(uri, {\r\n\t\t\tdata: data,\r\n\t\t\ttype: data instanceof Object ? \"POST\" : \"GET\",\r\n\t\t\tsuccess: (response, status, xhr) => {\r\n\r\n\t\t\t\t// if a selector is specified, find it in the returned document\r\n\t\t\t\tlet html = \"\",\r\n\t\t\t\t\ti = this.length;\r\n\r\n\t\t\t\t// refine by selector if supplied\r\n\t\t\t\tif (selector) {\r\n\t\t\t\t\t$(response).filter(selector).each((key, obj) => {\r\n\t\t\t\t\t\thtml += obj.outerHTML;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtml = response;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set HTML to nodes in collection\r\n\t\t\t\twhile (i--) {\r\n\t\t\t\t\tthis[i].innerHTML = html;\r\n\r\n\t\t\t\t\t// fire success callback on nodes\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tsuccess.call(this[i], response, status, xhr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.param = obj => {\r\n\tlet params = [],\r\n\t\tadd = (key, value, params) => {\r\n\t\t\tlet isArr = $.isArray(value);\r\n\t\t\tif (isArr || typeof value === \"object\") {\r\n\t\t\t\t$.each(value, (i, val) => {\r\n\t\t\t\t\tparams = add(key + \"[\" + (isArr ? \"\" : i) + \"]\", val, params);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tparams.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\r\n\t\t\t}\r\n\t\t\treturn params;\r\n\t\t};\r\n\r\n\t// process values\r\n\t$.each(obj, (key, item) => {\r\n\t\tparams = add(key, item, params);\r\n\t});\r\n\treturn params.join(\"&\");\r\n};\r\n\r\n$.get = (url, data, success, type) => {\r\n\tconst isFunc = $.isFunction(data);\r\n\tlet settings = typeof(url) === \"object\" ? url : {\r\n\t\turl: url,\r\n\t\tdata: isFunc ? {} : data,\r\n\t\tsuccess: isFunc ? data : success,\r\n\t\tdataType: isFunc ? success : type\r\n\t};\r\n\tsettings.type = \"POST\";\r\n\treturn $.ajax(settings);\r\n};\r\n\r\n$.fn.serialize = function () {\r\n\tconst selector = \"input[name]:not([type=file]):not([type=submit]),textarea[name],select[name]\",\r\n\t\tobj = this.is(selector) ? this.filter(selector) : $(selector, this),\r\n\t\tadd = (name, value, params) => {\r\n\t\t\tlet match;\r\n\r\n\t\t\tif ((match = name.match(/([^\\[]*)\\[([^\\]]*)\\](.*)/)) !== null) {\r\n\t\t\t\tname = match[1];\r\n\t\t\t\tlet arr = add(match[2] + match[3], value, params[name] || {});\r\n\t\t\t\tvalue = arr;\r\n\t\t\t}\r\n\r\n\t\t\tif (name !== \"\") {\r\n\t\t\t\tparams[name] = value;\r\n\t\t\t} else {\r\n\t\t\t\tif (!$.isArray(params)) {\r\n\t\t\t\t\tparams = [];\r\n\t\t\t\t}\r\n\t\t\t\tparams = params.concat($.isArray(value) ? value : [value]);\r\n\t\t\t}\r\n\t\t\treturn params;\r\n\t\t};\r\n\r\n\tlet params = {};\r\n\r\n\t// process values\r\n\tobj.each((key, obj) => {\r\n\t\tconst value = $(obj).val();\r\n\t\tif (!obj.disabled && value !== undefined) {\r\n\t\t\tparams = add(obj.getAttribute(\"name\"), value, params);\r\n\t\t}\r\n\t});\r\n\treturn $.param(params);\r\n};\r\n\r\n$.fn.attr = function (prop, value) {\r\n\tlet isArr = $.isArray(prop),\r\n\t\ti,\r\n\t\tevents,\r\n\t\tarr = {};\r\n\r\n\t// set properties\r\n\tif (isArr || value || value === null) {\r\n\t\ti = this.length,\r\n\t\tevents = getEvents();\r\n\r\n\t\t// normalise to array\r\n\t\tif (!isArr) {\r\n\t\t\tarr[prop] = value;\r\n\t\t\tprop = arr;\r\n\t\t}\r\n\r\n\t\twhile (i--) {\r\n\t\t\t$.each(prop, (key, val) => {\r\n\t\t\t\tif (events.indexOf(key) > -1) {\r\n\t\t\t\t\t$(this[i]).on(key, val);\r\n\t\t\t\t} else if (key === \"style\") {\r\n\t\t\t\t\tthis[i].style.cssText = val;\r\n\t\t\t\t} else if (key === \"class\") {\r\n\t\t\t\t\tthis[i].className = val;\r\n\t\t\t\t} else if (key === \"text\") {\r\n\t\t\t\t\tthis[i].textContent = val;\r\n\t\t\t\t} else if (value === null) {\r\n\t\t\t\t\tthis[i].removeAttribute(key);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis[i].setAttribute(key, val);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// retrieve properties\r\n\t} else if (this[0]) {\r\n\t\tif (prop === \"style\") {\r\n\t\t\treturn this[0].style.cssText;\r\n\t\t}\r\n\t\tif (prop === \"class\") {\r\n\t\t\treturn this[0].className;\r\n\t\t}\r\n\t\treturn this[0].getAttribute(prop);\r\n\t}\r\n};\r\n\r\n[\"addClass\", \"removeClass\", \"toggleClass\"].forEach(name => {\r\n\t$.fn[name] = function (cls) {\r\n\r\n\t\t// remove \"Class\" from name for classList method\r\n\t\tlet func = name.substr(0, name.length - 5),\r\n\t\t\ti = this.length;\r\n\r\n\t\t// manage classes on nodes\r\n\t\twhile (i--) {\r\n\t\t\tlet arr = getVal(cls, this[i], i, this[i].className);\r\n\t\t\tif (typeof arr === \"string\") {\r\n\t\t\t\tarr = arr.split(\" \");\r\n\t\t\t}\r\n\t\t\tconst len = arr.length;\r\n\t\t\tfor (let n = 0; n < len; n++) {\r\n\t\t\t\tthis[i].classList[func](arr[n]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.fn.css = function (props, value) {\r\n\r\n\t// set the values\r\n\tif (value !== undefined || $.isPlainObject(props)) {\r\n\t\treturn setCss(this, props, value);\r\n\r\n\t// retrieve value from first property\r\n\t} else if (this[0]) {\r\n\t\tlet name = props,\r\n\t\t\ti,\r\n\t\t\tstyle = getComputedStyle(this[0], \"\"),\r\n\t\t\toutput = {},\r\n\t\t\tret = false;\r\n\r\n\t\tif (typeof name === \"string\") {\r\n\t\t\tprops = [name];\r\n\t\t\tret = true;\r\n\t\t}\r\n\t\ti = props.length;\r\n\t\twhile (i--) {\r\n\t\t\toutput[props[i]] = style.getPropertyValue(dasherise(props[i]));\r\n\t\t\tif (ret) {\r\n\t\t\t\treturn output[props[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n};\r\n\r\n$.fn.data = function (name, data) {\r\n\r\n\t// convert data to object\r\n\tif (typeof name === \"object\") {\r\n\t\tdata = name;\r\n\t} else if (data !== undefined) {\r\n\t\tlet temp = {};\r\n\t\ttemp[name] = data;\r\n\t\tdata = temp;\r\n\t}\r\n\r\n\t// set value\r\n\tif (data !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\t$.each(data, (key, value) => {\r\n\t\t\t\tthis[i].dataset[camelise(key)] = typeof value === \"object\" ? JSON.stringify(value) : value;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get value\r\n\t} else if (this[0] && this[0].dataset) {\r\n\t\tlet parse = value => {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.parse(value);\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// all properties\r\n\t\tif (name === undefined) {\r\n\t\t\tlet arr = {};\r\n\t\t\t$.each(this[0].dataset, (key, value) => {\r\n\t\t\t\tarr[key] = parse(value);\r\n\t\t\t});\r\n\t\t\treturn arr;\r\n\r\n\t\t// retrieve specific property\r\n\t\t} else {\r\n\t\t\tname = camelise(name);\r\n\t\t\tif (this[0].dataset.hasOwnProperty(name)) {\r\n\t\t\t\treturn parse(this[0].dataset[name]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$.fn.hasClass = function (cls) {\r\n\tlet i = this.length;\r\n\twhile (i--) {\r\n\t\tif (this[i].classList.contains(cls)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n$.fn.prop = function (prop, value) {\r\n\tprop = getProp(prop);\r\n\r\n\t// set\r\n\tif (value !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\tthis[i][prop] = getVal(value, this[i], i, this[i][prop]);\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\treturn this[0][prop];\r\n\t}\r\n};\r\n\r\n$.fn.removeProp = function (prop) {\r\n\tlet i = this.length;\r\n\tprop = getProp(prop);\r\n\r\n\twhile (i--) {\r\n\t\tdelete this[i][prop];\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.val = function (value) {\r\n\r\n\t// set value\r\n\tif (value !== undefined) {\r\n\t\tlet i = this.length,\r\n\t\t\tval;\r\n\t\twhile (i--) {\r\n\t\t\tlet val = getVal(value, this[i], i, () => $(this[i]).val());\r\n\t\t\tif (this[i].multiple) {\r\n\t\t\t\tval = $.map($.isArray(val) ? val : [val], item => String(item)); // convert to string\r\n\t\t\t\t$(\"option\", this[i]).each((key, obj) => {\r\n\t\t\t\t\tobj.selected = val.indexOf(String(obj.value)) > -1;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis[i].value = String(val);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// read value from first node\r\n\t} else if (this[0]) {\r\n\r\n\t\t// get multiple values\r\n\t\tif (this[0].multiple) {\r\n\t\t\tlet values = [];\r\n\t\t\t$(\"option\", this[0]).each((key, obj) => {\r\n\t\t\t\tif (obj.selected) {\r\n\t\t\t\t\tvalues.push(String(obj.value));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn values;\r\n\r\n\t\t// get radio box value\r\n\t\t} else if (this[0].type === \"radio\") {\r\n\t\t\tlet obj = this.filter(\"[name='\" + this[0].name + \"']:checked\")[0];\r\n\t\t\treturn obj ? String(obj.value) : undefined;\r\n\r\n\t\t// get single value\r\n\t\t} else if (this[0].type !== \"checkbox\" || this[0].checked) {\r\n\t\t\treturn String(this[0].value);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$.fn.each = function (callback) {\r\n\t$.each(Array.from(this), callback);\r\n\treturn this;\r\n};\r\n\r\n$.fn.get = function (i) {\r\n\treturn i === undefined ? Array.from(this) : this[i >= 0 ? i : i + this.length];\r\n};\r\n\r\n$.fn.map = function (callback) {\r\n\tconst len = this.length;\r\n\tlet values = [],\r\n\t\ti = 0;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tvalues.push(callback.call(this[i], i, this[i]));\r\n\t}\r\n\treturn values;\r\n};\r\n\r\n$.fn.offset = function (coords) {\r\n\tconst doc = document.documentElement;\r\n\tlet rect,\r\n\t\ti = this.length,\r\n\t\tpos,\r\n\t\tparent;\r\n\r\n\t// set\r\n\tif (coords) {\r\n\t\twhile (i--) {\r\n\r\n\t\t\t// if coords is callback, generate value\r\n\t\t\trect = this[i].getBoundingClientRect();\r\n\t\t\tcoords = getVal(coords, this[i], i, rect);\r\n\r\n\t\t\tif (coords.top !== undefined && coords.left !== undefined) {\r\n\r\n\t\t\t\t// set position relative if static\r\n\t\t\t\tpos = this[i].style.position || \"static\";\r\n\t\t\t\tif (pos === \"static\") {\r\n\t\t\t\t\tthis[i].style.position = \"relative\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set offset\r\n\t\t\t\tthis[i].style.top = (parseFloat(coords.top) - (pos === \"fixed\" ? 0 : doc.scrollTop + rect.top)) + \"px\";\r\n\t\t\t\tthis[i].style.left = (parseFloat(coords.left) - (pos === \"fixed\" ? 0 : doc.scrollLeft + rect.left)) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\tpos = this[0].style.position;\r\n\t\trect = this[0].getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\ttop: rect.top - (pos === \"fixed\" ? 0 : doc.scrollTop),\r\n\t\t\tleft: rect.left - (pos === \"fixed\" ? 0 : doc.scrollLeft)\r\n\t\t};\r\n\t}\r\n};\r\n\r\n$.fn.offsetParent = function () {\r\n\treturn $(this[0] ? this[0].offsetParent : null);\r\n};\r\n\r\n$.fn.position = function () {\r\n\tif (this[0]) {\r\n\t\treturn {left: this[0].offsetLeft, top: this[0].offsetTop};\r\n\t}\r\n};\r\n\r\n[\"scrollLeft\", \"scrollTop\"].forEach(item => {\r\n\t$.fn[item] = function (pos) {\r\n\r\n\t\t// set\r\n\t\tif (pos !== undefined) {\r\n\t\t\tlet i = this.length;\r\n\t\t\twhile (i--) {\r\n\t\t\t\tthis[i][item] = pos;\r\n\t\t\t};\r\n\t\t\treturn this;\r\n\r\n\t\t// get\r\n\t\t} else if (this[0]) {\r\n\t\t\treturn this[0][item];\r\n\t\t}\r\n\t};\r\n});\r\n\r\n[\"width\", \"height\", \"innerWidth\", \"innerHeight\", \"outerWidth\", \"outerHeight\"].forEach(dim => {\r\n\r\n\tconst getAdditionalLength = (obj, wh, props) => {\r\n\t\tconst style = getComputedStyle(obj);\r\n\t\tlet i = props.length,\r\n\t\t\tvalue = 0,\r\n\t\t\tsuffix;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tsuffix = props[i] === \"border\" ? \"-width\" : \"\";\r\n\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-left\" : \"-top\") + suffix)) || 0;\r\n\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-right\" : \"-bottom\") + suffix)) || 0;\r\n\t\t}\r\n\t\treturn value;\r\n\t};\r\n\r\n\t$.fn[dim] = function (val) {\r\n\t\tconst valtype = typeof(val),\r\n\t\t\twh = dim.toLowerCase().indexOf(\"width\") > -1 ? \"width\" : \"height\", // width or height\r\n\t\t\tio = dim.indexOf(\"inner\") > -1 ? \"inner\" : (dim.indexOf(\"outer\") > -1 ? \"outer\" : \"\"); // inner outer or neither\r\n\t\tlet i = this.length,\r\n\t\t\tvalue,\r\n\t\t\twhu,\r\n\t\t\tprops,\r\n\t\t\tparam;\r\n\r\n\t\t// set value\r\n\t\tif (val !== undefined && valtype !== \"boolean\") {\r\n\t\t\twhile (i--) {\r\n\t\t\t\tvalue = getVal(val, this[i], i, this[i][dim]);\r\n\t\t\t\tif (io) {\r\n\t\t\t\t\tprops = [\"padding\"];\r\n\t\t\t\t\tif (io === \"outer\") {\r\n\t\t\t\t\t\tprops.push(\"border\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue -= getAdditionalLength(this[i], wh, props);\r\n\t\t\t\t}\r\n\t\t\t\tif (!isNaN(val)) {\r\n\t\t\t\t\tvalue += \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tthis[i].style[wh] = value;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\r\n\t\t// get value\r\n\t\t} else if (this[0]) {\r\n\t\t\twhu = wh === \"width\" ? \"Width\" : \"Height\";\r\n\r\n\t\t\t// document\r\n\t\t\tif (this[0].nodeType === Node.DOCUMENT_NODE) {\r\n\t\t\t\treturn this[0].documentElement[\"scroll\" + whu];\r\n\r\n\t\t\t// element\r\n\t\t\t} else if (!$.isWindow(this[0])) {\r\n\t\t\t\tparam = io === \"outer\" ? \"offset\" : \"client\";\r\n\t\t\t\tvalue = this[0][param + whu];\r\n\r\n\t\t\t\t// add padding on, or if outer and margins requested, add margins on\r\n\t\t\t\tif (io === \"\" || (io === \"outer\" && val === true)) {\r\n\t\t\t\t\tvalue -= getAdditionalLength(this[0], wh, [io === \"\" ? \"padding\" : \"margin\"]);\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\r\n\t\t\t// window\r\n\t\t\t} else if (io === \"inner\") {\r\n\t\t\t\treturn this[0].document.documentElement[\"client\" + whu];\r\n\t\t\t} else {\r\n\t\t\t\treturn this[0][\"inner\" + whu];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});\r\n\r\ngetEvents().forEach(event => {\r\n\t$.fn[event] = function (data, callback) {\r\n\t\treturn data ? this.on(event, data, callback) : this.trigger(event);\r\n\t};\r\n});\r\n\r\n// add and remove event handlers\r\n[\"on\", \"one\", \"off\"].forEach(name => {\r\n\t$.fn[name] = function (events, selector, data, callback) {\r\n\t\tlet i = this.length;\r\n\r\n\t\tevents = events.split(\" \");\r\n\r\n\t\t// sort out args\r\n\t\tif ($.isFunction(selector)) {\r\n\t\t\tcallback = selector;\r\n\t\t\tselector = null;\r\n\t\t} else if ($.isFunction(data)) {\r\n\t\t\tcallback = data;\r\n\t\t\tdata = null;\r\n\t\t}\r\n\r\n\t\t// attach event\r\n\t\twhile (i--) {\r\n\t\t\tlet e = events.length;\r\n\r\n\t\t\t// record the original function\r\n\t\t\tif (name !== \"off\") {\r\n\t\t\t\tif (!this[i].events) {\r\n\t\t\t\t\tthis[i].events = [];\r\n\t\t\t\t}\r\n\t\t\t\tlet fn = function (evt) { // delegate function\r\n\t\t\t\t\tlet target = [this];\r\n\t\t\t\t\tif (selector) {\r\n\t\t\t\t\t\tlet t = $(evt.target);\r\n\t\t\t\t\t\ttarget = t.add(t.parents()).filter(selector).get(); // is the selector in the targets parents?\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tif (data) { // set data to event object\r\n\t\t\t\t\t\t\tevt.data = data;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (let i = 0, len = target.length; i < len; i++) {\r\n\t\t\t\t\t\t\tif (callback.call(target[i], evt, evt.args) === false) {\r\n\t\t\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tthis[i].events.push({\r\n\t\t\t\t\tevents: events,\r\n\t\t\t\t\tcallback: callback,\r\n\t\t\t\t\tselector: selector,\r\n\t\t\t\t\tfunc: fn,\r\n\t\t\t\t\tonce: name === \"one\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// trigger\r\n\t\t\t\twhile (e--) {\r\n\t\t\t\t\tthis[i].addEventListener(events[e], fn, {once: name === \"one\", capture: !!selector});\r\n\t\t\t\t}\r\n\r\n\t\t\t// find the original function\r\n\t\t\t} else if (this[i].events.length) {\r\n\t\t\t\twhile (e--) {\r\n\t\t\t\t\tthis[i].events.forEach((evt, n) => {\r\n\t\t\t\t\t\tconst index = evt.events.indexOf(events[e]);\r\n\t\t\t\t\t\tif (index !== -1 && evt.callback === callback && evt.selector === selector) {\r\n\t\t\t\t\t\t\tthis[i].removeEventListener(events[e], evt.func, {once: evt.once, capture: !!evt.selector}); // must pass same arguments\r\n\t\t\t\t\t\t\tthis[i].events[n].events.splice(index, 1);\r\n\t\t\t\t\t\t\tif (!this[i].events[n].events.length) {\r\n\t\t\t\t\t\t\t\tthis[i].events.splice(n, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.fn.trigger = function (name, data) {\r\n\tconst evt = new CustomEvent(name, {bubbles: true, cancelable: true});\r\n\tlet i = this.length;\r\n\r\n\t// copy extra data to event object\r\n\tif (data) {\r\n\t\tevt.args = data;\r\n\t}\r\n\twhile (i--) {\r\n\t\tif (this[i][name]) {\r\n\t\t\tthis[i][name]();\r\n\t\t} else {\r\n\t\t\tthis[i].dispatchEvent(evt);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.clone = function () {\r\n\tlet nodes = [],\r\n\t\ti = this.length;\r\n\r\n\twhile (i--) {\r\n\t\tnodes[i] = this[i].cloneNode(true);\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.empty = function () {\r\n\tlet i = this.length;\r\n\twhile (i--) {\r\n\t\tthis[i].innerHTML = \"\";\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.html = function (html) {\r\n\r\n\t// set\r\n\tif (html !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\tthis[i].innerHTML = getVal(html, this[i], i, this[i].innerHTML);\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\treturn this[0].innerHTML;\r\n\t}\r\n};\r\n\r\n$.each({\r\n\tbefore: \"beforeBegin\",\r\n\tprepend: \"afterBegin\",\r\n\tappend: \"beforeEnd\",\r\n\tafter: \"afterEnd\"\r\n}, (name, pos) => {\r\n\t$.fn[name] = function (html) {\r\n\t\tconst pre = [\"before\", \"prepend\"].indexOf(name) > -1,\r\n\t\t\tisFunc = $.isFunction(html);\r\n\t\tlet i = this.length,\r\n\t\t\telems = $();\r\n\r\n\t\tif (!isFunc) { // multiple arguments containing nodes?\r\n\t\t\t$.each(arguments, (i, arg) => {\r\n\t\t\t\telems.add(arg);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twhile (i--) {\r\n\t\t\tif (isFunc) {\r\n\t\t\t\telems = $(getVal(html, this[i], i, this[i].innerHTML));\r\n\t\t\t}\r\n\t\t\tlet backwards = elems.length, // for counting down\r\n\t\t\t\tforwards = -1; // for counting up\r\n\t\t\twhile (pre ? backwards-- : ++forwards < backwards) { // insert forwards or backwards?\r\n\t\t\t\tlet obj = elems[pre ? backwards : forwards];\r\n\r\n\t\t\t\t// clone if i !== 0\r\n\t\t\t\tif (i) {\r\n\t\t\t\t\tobj = obj.cloneNode(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis[i].insertAdjacentElement(pos, obj);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.each({\r\n\tinsertBefore: \"before\",\r\n\tprependTo: \"prepend\",\r\n\tappendTo: \"append\",\r\n\tinsertAfter: \"after\"\r\n}, (name, func) => {\r\n\t$.fn[name] = function (selector) {\r\n\t\tlet i = this.length,\r\n\t\t\tobj = $(selector);\r\n\r\n\t\twhile (i--) {\r\n\t\t\tobj[func](this[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n[\"remove\", \"detach\"].forEach(func => {\r\n\t$.fn[func] = function (selector) {\r\n\t\tlet i = this.length,\r\n\t\t\tnodes = [],\r\n\t\t\tobj = [];\r\n\r\n\t\t// detach selected nodes\r\n\t\twhile (i--) {\r\n\t\t\tif (!selector || filterNodes(this[i], selector).length) {\r\n\t\t\t\tnodes.push(this[i].parentNode.removeChild(this[i]));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// create a new dabby object to return\r\n\t\treturn func === \"detach\" ? $(nodes) : this;\r\n\t};\r\n});\r\n\r\n$.fn.slice = function (start, end) {\r\n\treturn $(this.get().slice(start, end));\r\n};\r\n\r\n$.fn.text = function (text) {\r\n\tconst get = text === undefined;\r\n\tlet len = this.length,\r\n\t\toutput = [],\r\n\t\ti = 0;\r\n\tfor (; i < len; i++) {\r\n\t\tif (get) {\r\n\t\t\toutput.push(this[i].textContent);\r\n\t\t} else {\r\n\t\t\tthis[i].textContent = getVal(text, this[i], i, this[i].textContent);\r\n\t\t}\r\n\t}\r\n\treturn get ? output.join(\" \") : this;\r\n};\r\n\r\n$.fn.unwrap = function (selector) {\r\n\tthis.parent(selector).not(\"body\").each((key, obj) => {\r\n\t\tconst parent = obj.parentNode;\r\n\r\n\t\t$(obj.children).each((i, node) => {\r\n\t\t\tparent.insertBefore(node, obj);\r\n\t\t});\r\n\t\tparent.removeChild(obj);\r\n\t});\r\n\treturn this;\r\n};\r\n\r\n$.fn.wrap = function (html) {\r\n\tlet i = this.length;\r\n\r\n\twhile (i--) {\r\n\t\t$(this[i]).wrapAll(getVal(html, this[i], i));\r\n\t}\r\n\treturn this;\r\n}\r\n\r\n$.fn.wrapAll = function (html) {\r\n\tif (this[0]) {\r\n\r\n\t\t// set variables\r\n\t\tlet len = this.length,\r\n\t\t\ti = 0,\r\n\t\t\tnode = $(getVal(html, this[0]))[0].cloneNode(true);\r\n\r\n\t\t// insert clone into parent\r\n\t\tthis[0].parentNode.insertBefore(node, null);\r\n\r\n\t\t// find innermost child of node\r\n\t\twhile (node.firstElementChild) {\r\n\t\t\tnode = node.firstElementChild;\r\n\t\t}\r\n\r\n\t\t// attach nodes to the new node\r\n\t\tfor (; i < len; i++) {\r\n\t\t\tnode.appendChild(this[i]);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n}\r\n\r\n$.fn.add = function (nodes, context) {\r\n\tnodes = $(nodes, context);\r\n\tlet len = this.length,\r\n\t\ti = nodes.length;\r\n\r\n\tthis.length += i;\r\n\twhile (i--) {\r\n\t\tthis[i + len] = nodes[i];\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.children = function (selector) {\r\n\tlet nodes = [],\r\n\t\ti = this.length;\r\n\r\n\twhile (i--) {\r\n\t\tnodes = nodes.concat(Array.from(this[i].children));\r\n\t}\r\n\r\n\t// filter nodes by selector\r\n\tif (selector) {\r\n\t\tnodes = filterNodes(nodes, selector);\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.closest = function (selector, context) {\r\n\tlet i = this.length,\r\n\t\tnodes = [],\r\n\t\tparents,\r\n\t\tnode;\r\n\r\n\twhile (i--) {\r\n\t\tparents = [];\r\n\t\tnode = this[i];\r\n\t\twhile (node) {\r\n\t\t\tparents.push(node);\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\tparents = filterNodes(parents, selector, context);\r\n\t\tif (parents[0]) {\r\n\t\t\tnodes.push(parents[0]);\r\n\t\t}\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.eq = function (i) {\r\n\tlet key = i < 0 ? i + this.length : i;\r\n\treturn $(this[key] || null);\r\n};\r\n\r\n[\"filter\", \"not\"].forEach(name => {\r\n\t$.fn[name] = function (selector) {\r\n\t\treturn $(filterNodes(this, selector, name === \"not\"));\r\n\t};\r\n});\r\n\r\n$.fn.find = function (selector) {\r\n\treturn $(selector, this);\r\n};\r\n\r\n$.fn.first = function () {\r\n\treturn $(this[0]);\r\n};\r\n\r\n$.fn.has = function (selector) {\r\n\treturn $(this.get().filter(node => !!$(selector, node).length));\r\n};\r\n\r\n$.fn.index = function (selector) {\r\n\tlet index = -1;\r\n\r\n\tif (this[0]) {\r\n\t\tlet nodes,\r\n\t\t\tsubject = this[0],\r\n\t\t\ttype = typeof selector,\r\n\t\t\ti;\r\n\r\n\t\t// if no selector, match against first elements siblings\r\n\t\tif (type === \"undefined\") {\r\n\t\t\tnodes = this[0].parentNode.children;\r\n\r\n\t\t// if selector is string, match first node in current collection against resulting collection\r\n\t\t} else if (type === \"string\") {\r\n\t\t\tnodes = $(selector);\r\n\r\n\t\t// if element or collection match the element or first node against current collection\r\n\t\t} else {\r\n\t\t\tnodes = this;\r\n\t\t\tsubject = $(selector)[0];\r\n\t\t}\r\n\r\n\t\ti = nodes.length;\r\n\t\twhile (i--) {\r\n\t\t\tif (nodes[i] === subject) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn index;\r\n};\r\n\r\n$.fn.is = function (selector) {\r\n\treturn !!filterNodes(this, selector).length;\r\n};\r\n\r\n$.fn.last = function () {\r\n\treturn this.eq(-1);\r\n};\r\n\r\n[\"next\", \"nextAll\", \"nextUntil\", \"prev\", \"prevAll\", \"prevUntil\"].forEach(func => {\r\n\t$.fn[func] = function (selector, filter) {\r\n\t\tconst next = func.indexOf(\"next\") > -1,\r\n\t\t\tall = func.indexOf(\"All\") > -1,\r\n\t\t\tuntil = func.indexOf(\"Until\") > -1,\r\n\t\t\tmethod = next ? \"nextElementSibling\" : \"previousElementSibling\";\r\n\t\tlet nodes = [],\r\n\t\t\ti = this.length,\r\n\t\t\tsibling;\r\n\r\n\t\t// look through each node and get siblings\r\n\t\twhile (i--) {\r\n\t\t\tsibling = this[i][method];\r\n\t\t\twhile (sibling) {\r\n\t\t\t\tnodes.push(sibling);\r\n\t\t\t\tif (all || (until && filterNodes(sibling, selector).length)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsibling = sibling[method];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// swap args for *Until methods\r\n\t\tif (until) {\r\n\t\t\tselector = filter;\r\n\t\t}\r\n\r\n\t\t// filter siblings by selector\r\n\t\tif (selector) {\r\n\t\t\tnodes = filterNodes(nodes, selector);\r\n\t\t}\r\n\r\n\t\t// return new collection\r\n\t\treturn $(nodes);\r\n\t};\r\n});\r\n\r\n[\"parent\", \"parents\", \"parentsUntil\"].forEach(func => {\r\n\t$.fn[func] = function (selector, filter) {\r\n\t\tconst all = func.indexOf(\"s\") > -1,\r\n\t\t\tuntil = func.indexOf(\"U\") > -1;\r\n\t\tlet nodes = [],\r\n\t\t\ti = this.length,\r\n\t\t\tparent;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tparent = this[i].parentNode;\r\n\t\t\twhile (parent && parent.nodeType === Node.ELEMENT_NODE) {\r\n\t\t\t\tnodes.push(parent);\r\n\t\t\t\tif (!all || (until && filterNodes(parent, selector).length)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selector) {\r\n\t\t\tnodes = filterNodes(nodes, selector);\r\n\t\t}\r\n\t\treturn $(nodes);\r\n\t}\r\n});\r\n\r\n$.fn.siblings = function (selector) {\r\n\tlet i = this.length,\r\n\t\tnodes = [];\r\n\r\n\twhile (i--) {\r\n\t\tArray.from(this[i].parentNode.children).forEach(child => {\r\n\t\t\tif (child !== this[i]) {\r\n\t\t\t\tnodes.push(child);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\treturn $(selector ? filterNodes(nodes, selector) : nodes);\r\n};\r\n\r\n$.extend = (obj, ...arrs) => {\r\n\tconst len = arrs.length;\r\n\tlet i = 0,\r\n\t\tkeys,\r\n\t\tk;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tkeys = Object.keys(arrs[i]);\r\n\t\tk = keys.length;\r\n\t\twhile (k--) {\r\n\t\t\tobj[keys[k]] = arrs[i][keys[k]];\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n};\r\n\r\n$.isArray = arr => Array.isArray(arr);\r\n\r\n$.isFunction = func => func && func.constructor === Function;\r\n\r\n$.isPlainObject = obj => {\r\n\t\r\n\t// Basic check for Type object that's not null\r\n\tif (typeof obj === \"object\" && obj !== null) {\r\n\r\n\t\t// If Object.getPrototypeOf supported, use it\r\n\t    if (typeof Object.getPrototypeOf == 'function') {\r\n\t\t\tlet proto = Object.getPrototypeOf(obj);\r\n\t\t\treturn proto === Object.prototype || proto === null;\r\n\t    }\r\n\r\n\t    // Otherwise, use internal class\r\n\t    // This should be reliable as if getPrototypeOf not supported, is pre-ES5\r\n\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\";\r\n \t}\r\n\r\n \t// Not an object\r\n\treturn false;\r\n};\r\n\r\n$.isWindow = obj => obj !== null && obj === obj.window;\r\n\r\n$.map = (obj, callback) => {\r\n\tconst keys = Object.keys(obj),\r\n\t\tlen = keys.length;\r\n\tlet arr = [],\r\n\t\ti = 0,\r\n\t\tresult;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tresult = callback.call(window, obj[keys[i]], keys[i])\r\n\t\tif (![null, undefined].indexOf(result) > -1) {\r\n\t\t\tarr.push(result);\r\n\t\t}\r\n\t}\r\n\treturn arr;\r\n};\r\nreturn dabby;}));\n//# sourceMappingURL=dabby.es5.js.map"]}