{"version":3,"sources":["dabby.es5.js"],"names":["global","factory","define","amd","exports","module","$","window","Array","from","arrayLike","mapFn","thisArg","arr","slice","call","map","CustomEvent","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","Element","matches","msMatchesSelector","NodeList","forEach","callback","i","length","camelise","prop","replace","text","letter","toUpperCase","dasherise","toLowerCase","filterNodes","dabby","filter","context","not","func","nodes","nodeType","isFunction","n","node","item","Boolean","getEvents","getProp","properties","getVal","val","obj","apply","arguments","setCss","props","value","name","keys","k","remove","Object","style","selector","match","isWindow","readyState","addEventListener","once","indexOf","each","concat","querySelectorAll","push","createElement","attr","innerHTML","content","children","fn","len","ajax","url","settings","extend","method","cache","data","dataType","processData","async","crossDomain","scriptCharset","jsonp","jsonpCallback","Date","now","headers","contentType","statusCode","username","password","test","sync","script","xhr","param","charset","load","error","key","response","complete","src","head","appendChild","status","responseText","callbacks","JSON","parse","e","XMLHttpRequest","open","Authorization","btoa","setRequestHeader","onload","types","ontimeout","onabort","send","get","success","type","isFunc","getScript","split","uri","html","outerHTML","add","isArr","isArray","encodeURIComponent","join","serialize","is","disabled","getAttribute","events","on","cssText","className","textContent","removeAttribute","setAttribute","cls","substr","reverse","classList","css","isPlainObject","getComputedStyle","output","ret","getPropertyValue","temp","dataset","stringify","hasOwnProperty","hasClass","contains","removeProp","multiple","String","selected","values","checked","offset","coords","doc","documentElement","rect","pos","parent","getBoundingClientRect","top","left","position","parseFloat","scrollTop","scrollLeft","offsetParent","offsetLeft","offsetTop","getAdditionalLength","wh","suffix","dim","valtype","io","whu","isNaN","Node","DOCUMENT_NODE","trigger","target","t","parents","closest","args","preventDefault","stopPropagation","capture","index","removeEventListener","splice","dispatchEvent","clone","cloneNode","empty","before","prepend","append","after","pre","elems","arg","backwards","forwards","insertAdjacentElement","insertBefore","prependTo","appendTo","insertAfter","parentNode","removeChild","start","end","unwrap","wrap","wrapAll","firstElementChild","eq","find","first","has","subject","last","next","all","until","sibling","ELEMENT_NODE","siblings","child","arrs","constructor","Function","getPrototypeOf","proto","toString","result"],"mappings":";;;;;;AAAA;;AAEC,WAAUA,MAAV,EAAkBC,OAAlB,EAA2B;AAC3B,KAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgCA,OAAOC,GAA3C,EAAgD;AAC/CD,SAAO;AAAA,UAAMD,QAAQD,MAAR,CAAN;AAAA,GAAP;AACA,EAFD,MAEO,IAAI,OAAOI,OAAP,KAAmB,WAAvB,EAAoC;AAC1CC,SAAOD,OAAP,GAAiBH,QAAQD,MAAR,CAAjB;AACA,EAFM,MAEA,IAAI,CAACA,OAAOM,CAAZ,EAAe;AACrBN,SAAOM,CAAP,GAAWL,QAAQD,MAAR,CAAX;AACA;AACD,CARA,EAQC,aAAQO,MART,EAQiB,kBAAU;AAC3B;;AAED,KAAI,CAACC,MAAMC,IAAX,EAAiB;AAChBD,QAAMC,IAAN,GAAa,UAAUC,SAAV,EAAqBC,KAArB,EAA4BC,OAA5B,EAAqC;AACjD,OAAIC,MAAM,GAAGC,KAAH,CAASC,IAAT,CAAcL,SAAd,CAAV;AACA,OAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC;AAChCE,UAAMA,IAAIG,GAAJ,CAAQL,KAAR,EAAeC,OAAf,CAAN;AACA;AACD,UAAOC,GAAP;AACA,GAND;AAOA;;AAED;AACA,KAAI,OAAON,OAAOU,WAAd,KAA8B,UAAlC,EAA8C;AAAA,MACpCA,YADoC,GAC7C,SAASA,YAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoC;AACnCA,YAASA,UAAU,EAACC,SAAS,KAAV,EAAiBC,YAAY,KAA7B,EAAoCC,QAAQC,SAA5C,EAAnB;AACA,OAAMC,MAAMC,SAASC,WAAT,CAAqB,aAArB,CAAZ;AACAF,OAAIG,eAAJ,CAAoBT,KAApB,EAA2BC,OAAOC,OAAlC,EAA2CD,OAAOE,UAAlD,EAA8DF,OAAOG,MAArE;AACA,UAAOE,GAAP;AACA,GAN4C;;AAQ7CP,eAAYW,SAAZ,GAAwBrB,OAAOsB,KAAP,CAAaD,SAArC;AACArB,SAAOU,WAAP,GAAqBA,YAArB;AACA;;AAED;AACA,KAAI,CAACa,QAAQF,SAAR,CAAkBG,OAAvB,EAAgC;AAC5BD,UAAQF,SAAR,CAAkBG,OAAlB,GAA4BD,QAAQF,SAAR,CAAkBI,iBAA9C;AACH;;AAED,KAAI,CAACC,SAASL,SAAT,CAAmBM,OAAxB,EAAiC;AAC7BD,WAASL,SAAT,CAAmBM,OAAnB,GAA6B,UAAUC,QAAV,EAAoBvB,OAApB,EAA6B;AACtDA,aAAUA,WAAWL,MAArB;AACA,QAAK,IAAI6B,IAAI,CAAb,EAAgBA,IAAI,KAAKC,MAAzB,EAAiCD,GAAjC,EAAsC;AAClCD,aAASpB,IAAT,CAAcH,OAAd,EAAuB,KAAKwB,CAAL,CAAvB,EAAgCA,CAAhC,EAAmC,IAAnC;AACH;AACJ,GALD;AAMH;;AAED,UAASE,QAAT,CAAkBC,IAAlB,EAAwB;AACvB,SAAOA,KAAKC,OAAL,CAAa,YAAb,EAA2B,UAACC,IAAD,EAAOC,MAAP;AAAA,UAAkBA,OAAOC,WAAP,EAAlB;AAAA,GAA3B,CAAP;AACA;;AAED,UAASC,SAAT,CAAmBL,IAAnB,EAAyB;AACxB,SAAOA,KAAKC,OAAL,CAAa,QAAb,EAAuB,UAACE,MAAD;AAAA,UAAY,MAAMA,OAAOG,WAAP,EAAlB;AAAA,GAAvB,CAAP;AACA;;AAED,UAASC,WAAT,CAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,OAApC,EAA6CC,GAA7C,EAAkD;AACjD,MAAIC,aAAJ;AAAA,MACCC,QAAQL,MAAMM,QAAN,GAAiB,CAACN,KAAD,CAAjB,GAA2BvC,MAAMC,IAAN,CAAWsC,KAAX,CADpC;;AAGA;AACA,MAAI,OAAOE,OAAP,KAAmB,SAAvB,EAAkC;AACjCC,SAAMD,OAAN;AACAA,aAAU,IAAV;AACA;;AAED;AACA,MAAI3C,EAAEgD,UAAF,CAAaN,MAAb,CAAJ,EAA0B;AACzBG,UAAOH,MAAP;;AAED;AACC,GAJD,MAIO;;AAEN;AACA,OAAI,OAAOA,MAAP,KAAmB,QAAvB,EAAiC;AAChCA,aAAS,CAACA,MAAD,CAAT;AACA,IAFD,MAEO;AACNA,aAASxC,MAAMC,IAAN,CAAWH,EAAE0C,MAAF,EAAUC,OAAV,CAAX,CAAT;AACA;;AAED;AACAE,UAAO,cAACI,CAAD,EAAIC,IAAJ,EAAa;AACnB,QAAIpB,IAAIY,OAAOX,MAAf;AACA,WAAOD,GAAP,EAAY;AACX,SAAI,OAAOY,OAAOZ,CAAP,CAAP,KAAsB,QAAtB,IAAkCoB,KAAKzB,OAAvC,GAAiDyB,KAAKzB,OAAL,CAAaiB,OAAOZ,CAAP,CAAb,CAAjD,GAA2EoB,SAASR,OAAOZ,CAAP,CAAxF,EAAmG;AAClG,aAAO,IAAP;AACA;AACD;AACD,WAAO,KAAP;AACA,IARD;AASA;AACD,SAAOgB,MAAMJ,MAAN,CAAa,UAACS,IAAD,EAAOrB,CAAP;AAAA,UAAae,KAAKpC,IAAL,CAAU0C,IAAV,EAAgBrB,CAAhB,EAAmBqB,IAAnB,MAA6BC,QAAQR,GAAR,CAA1C;AAAA,GAAb,EAAqEE,KAArE,CAAP;AACA;;AAED,UAASO,SAAT,GAAqB;AACpB,SAAO,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,MAAjC,EAAyC,QAAzC,EAAmD,QAAnD,EAA6D,QAA7D,EAAuE,OAAvE,EAAgF,UAAhF,EAA4F,WAA5F,EAAyG,SAAzG,EAAoH,WAApH,EAAiI,WAAjI,EAA8I,UAA9I,EAA0J,YAA1J,EAAwK,YAAxK,EAAsL,aAAtL,EAAqM,QAArM,EAA+M,QAA/M,EAAyN,SAAzN,EAAoO,UAApO,EAAgP,OAAhP,EAAyP,OAAzP,EAAkQ,QAAlQ,CAAP;AACA;;AAED,UAASC,OAAT,CAAiBrB,IAAjB,EAAuB;AACtB,MAAIsB,aAAa;AAChB,UAAO,SADS;AAEhB,YAAS,WAFO;AAGhB,eAAY,UAHI;AAIhB,eAAY,UAJI;AAKhB,gBAAa,WALG;AAMhB,kBAAe,aANC;AAOhB,kBAAe,aAPC;AAQhB,cAAW,SARK;AAShB,cAAW,SATK;AAUhB,aAAU,QAVM;AAWhB,kBAAe,aAXC;AAYhB,sBAAmB;AAZH,GAAjB;AAcAtB,SAAOA,KAAKM,WAAL,EAAP;AACA,SAAOgB,WAAWtB,IAAX,KAAoBA,IAA3B;AACA;;AAED,UAASuB,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0B5B,CAA1B,EAA6B;;AAE5B;AACA,MAAI9B,EAAEgD,UAAF,CAAaS,GAAb,CAAJ,EAAuB;AACtBA,SAAMA,IAAIE,KAAJ,CAAUD,GAAV,EAAexD,MAAMC,IAAN,CAAWyD,SAAX,EAAsBpD,KAAtB,CAA4B,CAA5B,CAAf,CAAN,CADsB,CACgC;AACtD;AACD,SAAOiD,GAAP;AACA;;AAED,UAASI,MAAT,CAAgBpB,KAAhB,EAAuBqB,KAAvB,EAA8BC,KAA9B,EAAqC;;AAEpC;AACA,MAAIC,OAAOF,KAAX;AAAA,MACCG,aADD;AAAA,MAECC,UAFD;AAAA,MAGCC,eAHD;;AAKA;AACA,MAAI,OAAOL,KAAP,KAAiB,QAArB,EAA+B;AAC9BA,WAAQ,EAAR;AACAA,SAAME,IAAN,IAAcD,KAAd;AACA;;AAED;AACAE,SAAOG,OAAOH,IAAP,CAAYH,KAAZ,CAAP;AACAI,MAAID,KAAKlC,MAAT;;AAEA;AACA,SAAOmC,GAAP,EAAY;AACX,OAAIpC,IAAIW,MAAMV,MAAd;AACA,UAAOD,GAAP,EAAY;AACX,QAAI2B,MAAMK,MAAMG,KAAKC,CAAL,CAAN,MAAmB,EAAnB,GAAwBjD,SAAxB,GAAoCuC,OAAOM,MAAMG,KAAKC,CAAL,CAAN,CAAP,EAAuBzB,MAAMX,CAAN,CAAvB,EAAiCoC,CAAjC,EAAoCzB,MAAMX,CAAN,EAASuC,KAAT,CAAeJ,KAAKC,CAAL,CAAf,CAApC,CAA9C;AACA,QAAI,OAAOT,GAAP,KAAe,QAAnB,EAA6B;AAC5BA,YAAO,IAAP;AACA;AACDhB,UAAMX,CAAN,EAASuC,KAAT,CAAeF,SAAS,gBAAT,GAA4B,aAA3C,EAA0D7B,UAAU2B,KAAKC,CAAL,CAAV,CAA1D,EAA8ET,GAA9E;AACA;AACD;AACD,SAAOhB,KAAP;AACA;;AAED,KAAMA,QAAQ,SAARA,KAAQ,CAAU6B,QAAV,EAAoB3B,OAApB,EAA6B;AAAA;;AAC1C,MAAIG,QAAQ,EAAZ;AAAA,MACCyB,cADD;AAAA,MAECb,YAFD;;AAIA;AACA,MAAI,EAAE,gBAAgBjB,KAAlB,CAAJ,EAA8B;AAC7B,UAAO,IAAIA,KAAJ,CAAU6B,QAAV,EAAoB3B,OAApB,CAAP;;AAED;AACC,GAJD,MAIO,IAAI2B,QAAJ,EAAc;;AAEpB;AACA,OAAIA,oBAAoB7B,KAAxB,EAA+B;AAC9B,WAAO6B,QAAP;;AAED;AACC,IAJD,MAIO,IAAIA,SAASvB,QAAT,IAAqB/C,EAAEwE,QAAF,CAAWF,QAAX,CAAzB,EAA+C;AACrDxB,YAAQ,CAACwB,QAAD,CAAR;;AAED;AACC,IAJM,MAIA,IAAItE,EAAEgD,UAAF,CAAasB,QAAb,CAAJ,EAA4B;AAClC,QAAInD,SAASsD,UAAT,KAAwB,SAA5B,EAAuC;AACtCH,cAAS7D,IAAT,CAAcU,QAAd,EAAwBnB,CAAxB;AACA,KAFD,MAEO;AACNmB,cAASuD,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAACJ,eAAS7D,IAAT,CAAcU,QAAd,EAAwBnB,CAAxB;AAA4B,MAAjF,EAAmF,EAAC2E,MAAM,IAAP,EAAnF;AACA;;AAEF;AACC,IARM,MAQA,IAAI,OAAOL,QAAP,KAAoB,QAAxB,EAAkC;AACxCxB,YAAQwB,QAAR;;AAED;AACC,IAJM,MAIA,IAAIA,SAASM,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AACxCjC,cAAUA,WAAWxB,QAArB;AACAnB,MAAE2C,OAAF,EAAWkC,IAAX,CAAgB,UAAC/C,CAAD,EAAI4B,GAAJ,EAAY;AAC3BZ,aAAQA,MAAMgC,MAAN,CAAa5E,MAAMC,IAAN,CAAWuD,IAAIqB,gBAAJ,CAAqBT,QAArB,CAAX,CAAb,CAAR;AACA,KAFD;;AAID;AACC,IAPM,MAOA,IAAI,CAACC,QAAQD,SAASC,KAAT,CAAe,kCAAf,CAAT,MAAiE,IAArE,EAA2E;AACjFzB,UAAMkC,IAAN,CAAW7D,SAAS8D,aAAT,CAAuBV,MAAM,CAAN,CAAvB,CAAX;;AAEA;AACA,QAAI5B,mBAAmByB,MAAvB,EAA+B;AAC9BV,WAAM1D,EAAE8C,KAAF,CAAN;AACA9C,OAAE6E,IAAF,CAAOlC,OAAP,EAAgB,UAACV,IAAD,EAAO8B,KAAP,EAAiB;AAChCL,UAAIwB,IAAJ,CAASjD,IAAT,EAAe8B,KAAf;AACA,MAFD;AAGA;;AAEF;AACC,IAZM,MAYA;AACN;AACAL,UAAMvC,SAAS8D,aAAT,CAAuB,UAAvB,CAAN;AACAvB,QAAIyB,SAAJ,GAAgBb,QAAhB;AACAxB,YAAQY,IAAI0B,OAAJ,GAAc1B,IAAI0B,OAAJ,CAAYC,QAA1B,GAAqC3B,IAAI2B,QAAjD;AACA;AACD;;AAED;AACA,OAAKtD,MAAL,GAAc,CAAd;AACA7B,QAAMC,IAAN,CAAW2C,KAAX,EAAkBlB,OAAlB,CAA0B,gBAAQ;AAAE;AACnC,OAAI,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAWgD,OAAX,CAAmB1B,KAAKH,QAAxB,IAAoC,CAAC,CAArC,IAA0C/C,EAAEwE,QAAF,CAAWtB,IAAX,CAA9C,EAAgE;AAAE;AACjE,UAAK,MAAKnB,MAAL,EAAL,IAAsBmB,IAAtB;AACA;AACD,GAJD;AAKA,SAAO,IAAP;AACA,EApED;AAAA,KAqEClD,IAAIyC,KArEL,CAtJ4B,CA2NhB;;AAEZ;AACAA,OAAM6C,EAAN,GAAW7C,MAAMnB,SAAjB;;AAEAtB,GAAE6E,IAAF,GAAS,UAACnB,GAAD,EAAM7B,QAAN,EAAmB;AAC3B,MAAMoC,OAAOG,OAAOH,IAAP,CAAYP,GAAZ,CAAb;AAAA,MACC6B,MAAMtB,KAAKlC,MADZ;;AAGA,OAAK,IAAID,IAAI,CAAb,EAAgBA,IAAIyD,GAApB,EAAyBzD,GAAzB,EAA8B;AAC7B,OAAID,SAASpB,IAAT,CAAciD,IAAIO,KAAKnC,CAAL,CAAJ,CAAd,EAA4BmC,KAAKnC,CAAL,CAA5B,EAAqC4B,IAAIO,KAAKnC,CAAL,CAAJ,CAArC,MAAuD,KAA3D,EAAkE;AACjE,UADiE,CAC1D;AACP;AACD;AACD,SAAO4B,GAAP;AACA,EAVD;;AAYA1D,GAAEwF,IAAF,GAAS,UAACC,GAAD,EAAMC,QAAN,EAAmB;;AAE3B;AACA,MAAI,QAAOD,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AAC5BC,cAAWD,GAAX;AACA,GAFD,MAEO;AACN,OAAI,QAAOC,QAAP,yCAAOA,QAAP,OAAoB,QAAxB,EAAkC;AACjCA,eAAW,EAAX;AACA;AACDA,YAASD,GAAT,GAAeA,GAAf;AACA;;AAED;AACAC,aAAW1F,EAAE2F,MAAF,CAAS;AACnBC,WAAQ,KADW;AAEnBC,UAAO,IAFY,EAEN;AACbC,SAAM,IAHa;AAInBC,aAAU,IAJS,EAIH;AAChBC,gBAAa,IALM;AAMnBC,UAAO,IANY;AAOnBC,gBAAa,KAPM;AAQnBC,kBAAe,IARI;AASnBC,UAAO,UATY;AAUnBC,kBAAe,UAAUC,KAAKC,GAAL,EAVN;AAWnBC,YAAS;AACR,wBAAoB,gBADZ;AAER,oBAAgBd,SAASe,WAAT,IAAwB;AAFhC,IAXU;AAenB9D,YAAS,IAfU;AAgBnB+D,eAAY,EAhBO;AAiBnBC,aAAU,IAjBS;AAkBnBC,aAAU;AAlBS,GAAT,EAmBRlB,QAnBQ,CAAX;;AAqBA;AACA,MAAI,CAACA,SAASK,QAAV,IAAsB,aAAac,IAAb,CAAkBnB,SAASD,GAA3B,CAA1B,EAA2D;AAC1DC,YAASK,QAAT,GAAoB,QAApB;AACA;;AAED,MAAIe,OAAO,CAAC,QAAD,EAAW,OAAX,EAAoBlC,OAApB,CAA4Bc,SAASK,QAArC,IAAiD,CAAC,CAA7D;AAAA,MACCgB,eADD;AAAA,MACSC,YADT;;AAGA;AACA,MAAItB,SAASG,KAAT,IAAmBH,SAASG,KAAT,KAAmB,IAAnB,IAA2BiB,IAAlD,EAAyD;AACxDpB,YAASD,GAAT,IAAgB,CAACC,SAASD,GAAT,CAAab,OAAb,CAAqB,GAArB,IAA4B,CAAC,CAA7B,GAAiC,GAAjC,GAAuC,GAAxC,IAA+C,IAA/C,GAAuD,CAAC,IAAI0B,IAAJ,EAAxE;AACA;;AAED;AACA,MAAIZ,SAASI,IAAT,IAAiBJ,SAASM,WAA9B,EAA2C;AAC1CN,YAASD,GAAT,IAAgB,CAACC,SAASD,GAAT,CAAab,OAAb,CAAqB,GAArB,IAA4B,CAAC,CAA7B,GAAiC,GAAjC,GAAuC,GAAxC,KAAgD,OAAOc,SAASI,IAAhB,KAAyB,QAAzB,GAAoCJ,SAASI,IAA7C,GAAoD9F,EAAEiH,KAAF,CAAQvB,SAASI,IAAjB,CAApG,CAAhB;AACA;;AAED;AACA,MAAIgB,QAAQpB,SAASQ,WAArB,EAAkC;AACjCa,YAAS5F,SAAS8D,aAAT,CAAuB,QAAvB,CAAT;AACA,OAAIS,SAASS,aAAb,EAA4B;AAC3BY,WAAOG,OAAP,GAAiBxB,SAASS,aAA1B;AACA;;AAED;AACA,OAAIT,SAASK,QAAT,KAAsB,OAA1B,EAAmC;AAClCL,aAASD,GAAT,IAAgB,CAACC,SAASD,GAAT,CAAab,OAAb,CAAqB,GAArB,IAA4B,CAAC,CAA7B,GAAiC,GAAjC,GAAuC,GAAxC,IAA+Cc,SAASU,KAAxD,GAAgE,GAAhE,GAAsEV,SAASW,aAA/F;AACA;;AAED;AACArG,KAAE6E,IAAF,CAAO;AACNsC,UAAM,SADA;AAENC,WAAO;AAFD,IAAP,EAGG,UAACC,GAAD,EAAMtD,KAAN,EAAgB;AAClBgD,WAAOrC,gBAAP,CAAwB2C,GAAxB,EAA6B,YAAM;AAClC,SAAIC,WAAW5B,SAASK,QAAT,KAAsB,OAAtB,GAAgC9F,OAAOyF,SAASW,aAAhB,KAAkC,IAAlE,GAAyE,IAAxF;AACA,MAACX,SAAS3B,KAAT,CAAD,EAAkB2B,SAAS6B,QAA3B,EAAqC3F,OAArC,CAA6C,oBAAY;AACxD,UAAIC,QAAJ,EAAc;AACbA,gBAAS8B,KAAT,CAAe+B,SAAS/C,OAAxB,EAAiCd,aAAa6D,SAAS6B,QAAtB,GAAiC,CAAC,IAAD,EAAOxD,KAAP,CAAjC,GAAiD,CAACuD,QAAD,EAAWvD,KAAX,CAAlF;AACA;AACD,MAJD;AAKA,KAPD;AAQA,IAZD;;AAcAgD,UAAOS,GAAP,GAAa9B,SAASD,GAAtB;AACAtE,YAASsG,IAAT,CAAcC,WAAd,CAA0BX,MAA1B;;AAED;AACC,GA9BD,MA8BO;AACN,OAAMlF,WAAW,SAAXA,QAAW,CAACmF,GAAD,EAAMW,MAAN,EAAiB;AACjC,QAAIL,WAAWN,IAAIY,YAAnB;AAAA,QACCC,YAAY,EADb;;AAGA;AACA,QAAI,CAAC,MAAD,EAAS,IAAT,EAAejD,OAAf,CAAuBc,SAASK,QAAhC,IAA4C,CAAC,CAAjD,EAAoD;AACnD,SAAI;AACHuB,iBAAWQ,KAAKC,KAAL,CAAWT,QAAX,CAAX;AACA,MAFD,CAEE,OAAOU,CAAP,EAAU;AACX;AACA;AACD;;AAED;AACA,KAACtC,SAASgB,UAAT,CAAoBM,IAAIW,MAAxB,CAAD,EAAkCjC,SAASiC,MAAT,CAAlC,EAAoDjC,SAAS6B,QAA7D,EAAuE3F,OAAvE,CAA+E,oBAAY;AAC1F,SAAIC,QAAJ,EAAc;AACbA,eAAS8B,KAAT,CAAe+B,SAAS/C,OAAxB,EAAiCd,aAAa6D,SAAS6B,QAAtB,GAAiC,CAACP,GAAD,EAAMW,MAAN,CAAjC,GAAiD,CAACL,QAAD,EAAWK,MAAX,EAAmBX,GAAnB,CAAlF;AACA;AACD,KAJD;AAKA,IAnBD;;AAqBA;AACAA,SAAM,IAAIiB,cAAJ,EAAN;AACAjB,OAAIkB,IAAJ,CAASxC,SAASE,MAAlB,EAA0BF,SAASD,GAAnC,EAAwCC,SAASO,KAAjD;;AAEA;AACA,OAAIP,SAASiB,QAAb,EAAuB;AACtBjB,aAASc,OAAT,CAAiB2B,aAAjB,GAAiCC,KAAK1C,SAASiB,QAAT,GAAoB,GAApB,GAA0BjB,SAASkB,QAAxC,CAAjC;AACA;;AAED;AACA5G,KAAE6E,IAAF,CAAOa,SAASc,OAAhB,EAAyB,UAACa,GAAD,EAAMtD,KAAN,EAAgB;AACxCiD,QAAIqB,gBAAJ,CAAqBhB,GAArB,EAA0BtD,KAA1B;AACA,IAFD;;AAIA;AACAiD,OAAIsB,MAAJ,GAAa,YAAM;AAClB,QAAMC,QAAQ;AACb,UAAK,SADQ;AAEb,UAAK,WAFQ;AAGb,UAAK;AAHQ,KAAd;AAKA1G,aAASmF,GAAT,EAAcuB,MAAMvB,IAAIW,MAAV,KAAqB,OAAnC;AACA,IAPD;AAQAX,OAAIwB,SAAJ,GAAgB,YAAM;AACrB3G,aAASmF,GAAT,EAAc,SAAd;AACA,IAFD;AAGAA,OAAIyB,OAAJ,GAAc,YAAM;AACnB5G,aAASmF,GAAT,EAAc,OAAd;AACA,IAFD;AAGAA,OAAI0B,IAAJ,CAAShD,SAASM,WAAT,GAAuB/E,SAAvB,GAAmCyE,SAASI,IAArD;AACA,UAAOkB,GAAP;AACA;AACD,EAzID;;AA2IAhH,GAAE2I,GAAF,GAAQ,UAAClD,GAAD,EAAMK,IAAN,EAAY8C,OAAZ,EAAqBC,IAArB,EAA8B;AACrC,MAAMC,SAAShD,QAAQ9F,EAAEgD,UAAF,CAAa8C,IAAb,CAAvB;AACA,SAAO9F,EAAEwF,IAAF,CAAO,QAAOC,GAAP,yCAAOA,GAAP,OAAgB,QAAhB,GAA2BA,GAA3B,GAAiC;AAC9CA,QAAKA,GADyC;AAE9CK,SAAMgD,SAAS,EAAT,GAAchD,IAF0B;AAG9C8C,YAASE,SAAShD,IAAT,GAAgB8C,OAHqB;AAI9C7C,aAAU+C,SAASF,OAAT,GAAmBC;AAJiB,GAAxC,CAAP;AAMA,EARD;;AAUA7I,GAAE+I,SAAF,GAAc,UAACtD,GAAD,EAAMmD,OAAN;AAAA,SAAkB5I,EAAEwF,IAAF,CAAO;AACtCC,QAAKA,GADiC;AAEtCM,aAAU,QAF4B;AAGtC6C,YAASA;AAH6B,GAAP,CAAlB;AAAA,EAAd;;AAMA5I,GAAEsF,EAAF,CAAK6B,IAAL,GAAY,UAAU1B,GAAV,EAAeK,IAAf,EAAqB8C,QAArB,EAA8B;AAAA;;AACzC,MAAI,KAAK,CAAL,CAAJ,EAAa;;AAEZ;AAFY,oBAGYnD,IAAIuD,KAAJ,CAAU,GAAV,EAAe,CAAf,CAHZ;AAAA;AAAA,OAGLC,GAHK;AAAA,OAGA3E,QAHA;;AAKZ;;;AACA,OAAItE,EAAEgD,UAAF,CAAa8C,IAAb,CAAJ,EAAwB;AACvB8C,eAAU9C,IAAV;AACAA,WAAO7E,SAAP;AACA;;AAED;AACAjB,KAAEwF,IAAF,CAAOyD,GAAP,EAAY;AACXnD,UAAMA,IADK;AAEX+C,UAAM/C,gBAAgB1B,MAAhB,GAAyB,MAAzB,GAAkC,KAF7B;AAGXwE,aAAS,iBAACtB,QAAD,EAAWK,MAAX,EAAmBX,GAAnB,EAA2B;;AAEnC;AACA,SAAIkC,OAAO,EAAX;AAAA,SACCpH,IAAI,OAAKC,MADV;;AAGA;AACA,SAAIuC,QAAJ,EAAc;AACbtE,QAAEsH,QAAF,EAAY5E,MAAZ,CAAmB4B,QAAnB,EAA6BO,IAA7B,CAAkC,UAACwC,GAAD,EAAM3D,GAAN,EAAc;AAC/CwF,eAAQxF,IAAIyF,SAAZ;AACA,OAFD;AAGA,MAJD,MAIO;AACND,aAAO5B,QAAP;AACA;;AAED;AACA,YAAOxF,GAAP,EAAY;AACX,aAAKA,CAAL,EAAQqD,SAAR,GAAoB+D,IAApB;;AAEA;AACA,UAAIN,QAAJ,EAAa;AACZA,gBAAQnI,IAAR,CAAa,OAAKqB,CAAL,CAAb,EAAsBwF,QAAtB,EAAgCK,MAAhC,EAAwCX,GAAxC;AACA;AACD;AACD;AA3BU,IAAZ;AA6BA;AACD,SAAO,IAAP;AACA,EA5CD;;AA8CAhH,GAAEiH,KAAF,GAAU,eAAO;AAChB,MAAIpG,SAAS,EAAb;AAAA,MACCuI,MAAM,SAANA,GAAM,CAAC/B,GAAD,EAAMtD,KAAN,EAAalD,MAAb,EAAwB;AAC7B,OAAIwI,QAAQrJ,EAAEsJ,OAAF,CAAUvF,KAAV,CAAZ;AACA,OAAIsF,SAAS,QAAOtF,KAAP,yCAAOA,KAAP,OAAiB,QAA9B,EAAwC;AACvC/D,MAAE6E,IAAF,CAAOd,KAAP,EAAc,UAACjC,CAAD,EAAI2B,GAAJ,EAAY;AACzB5C,cAASuI,IAAI/B,MAAM,GAAN,IAAagC,QAAQ,EAAR,GAAavH,CAA1B,IAA+B,GAAnC,EAAwC2B,GAAxC,EAA6C5C,MAA7C,CAAT;AACA,KAFD;AAGA,IAJD,MAIO;AACNA,WAAOmE,IAAP,CAAYuE,mBAAmBlC,GAAnB,IAA0B,GAA1B,GAAgCkC,mBAAmBxF,KAAnB,CAA5C;AACA;AACD,UAAOlD,MAAP;AACA,GAXF;;AAaA;AACAb,IAAE6E,IAAF,CAAOnB,GAAP,EAAY,UAAC2D,GAAD,EAAMlE,IAAN,EAAe;AAC1BtC,YAASuI,IAAI/B,GAAJ,EAASlE,IAAT,EAAetC,MAAf,CAAT;AACA,GAFD;AAGA,SAAOA,OAAO2I,IAAP,CAAY,GAAZ,CAAP;AACA,EAnBD;;AAqBAxJ,GAAE2I,GAAF,GAAQ,UAAClD,GAAD,EAAMK,IAAN,EAAY8C,OAAZ,EAAqBC,IAArB,EAA8B;AACrC,MAAMC,SAAS9I,EAAEgD,UAAF,CAAa8C,IAAb,CAAf;AACA,MAAIJ,WAAW,QAAOD,GAAP,yCAAOA,GAAP,OAAgB,QAAhB,GAA2BA,GAA3B,GAAiC;AAC/CA,QAAKA,GAD0C;AAE/CK,SAAMgD,SAAS,EAAT,GAAchD,IAF2B;AAG/C8C,YAASE,SAAShD,IAAT,GAAgB8C,OAHsB;AAI/C7C,aAAU+C,SAASF,OAAT,GAAmBC;AAJkB,GAAhD;AAMAnD,WAASmD,IAAT,GAAgB,MAAhB;AACA,SAAO7I,EAAEwF,IAAF,CAAOE,QAAP,CAAP;AACA,EAVD;;AAYA1F,GAAEsF,EAAF,CAAKmE,SAAL,GAAiB,YAAY;AAC5B,MAAMnF,WAAW,6EAAjB;AAAA,MACCZ,MAAM,KAAKgG,EAAL,CAAQpF,QAAR,IAAoB,KAAK5B,MAAL,CAAY4B,QAAZ,CAApB,GAA4CtE,EAAEsE,QAAF,EAAY,IAAZ,CADnD;AAAA,MAEC8E,MAAM,SAANA,GAAM,CAACpF,IAAD,EAAOD,KAAP,EAAclD,MAAd,EAAyB;AAC9B,OAAI0D,cAAJ;;AAEA,OAAI,CAACA,QAAQP,KAAKO,KAAL,CAAW,0BAAX,CAAT,MAAqD,IAAzD,EAA+D;AAC9DP,WAAOO,MAAM,CAAN,CAAP;AACA,QAAIhE,MAAM6I,IAAI7E,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAf,EAAyBR,KAAzB,EAAgClD,OAAOmD,IAAP,KAAgB,EAAhD,CAAV;AACAD,YAAQxD,GAAR;AACA;;AAED,OAAIyD,SAAS,EAAb,EAAiB;AAChBnD,WAAOmD,IAAP,IAAeD,KAAf;AACA,IAFD,MAEO;AACN,QAAI,CAAC/D,EAAEsJ,OAAF,CAAUzI,MAAV,CAAL,EAAwB;AACvBA,cAAS,EAAT;AACA;AACDA,aAASA,OAAOiE,MAAP,CAAc9E,EAAEsJ,OAAF,CAAUvF,KAAV,IAAmBA,KAAnB,GAA2B,CAACA,KAAD,CAAzC,CAAT;AACA;AACD,UAAOlD,MAAP;AACA,GApBF;;AAsBA,MAAIA,SAAS,EAAb;;AAEA;AACA6C,MAAImB,IAAJ,CAAS,UAACwC,GAAD,EAAM3D,GAAN,EAAc;AACtB,OAAMK,QAAQ/D,EAAE0D,GAAF,EAAOD,GAAP,EAAd;AACA,OAAI,CAACC,IAAIiG,QAAL,IAAiB5F,UAAU9C,SAA/B,EAA0C;AACzCJ,aAASuI,IAAI1F,IAAIkG,YAAJ,CAAiB,MAAjB,CAAJ,EAA8B7F,KAA9B,EAAqClD,MAArC,CAAT;AACA;AACD,GALD;AAMA,SAAOb,EAAEiH,KAAF,CAAQpG,MAAR,CAAP;AACA,EAjCD;;AAmCAb,GAAEsF,EAAF,CAAKJ,IAAL,GAAY,UAAUjD,IAAV,EAAgB8B,KAAhB,EAAuB;AAAA;;AAClC,MAAIsF,QAAQrJ,EAAEsJ,OAAF,CAAUrH,IAAV,CAAZ;AAAA,MACCH,UADD;AAAA,MAEC+H,eAFD;AAAA,MAGCtJ,MAAM,EAHP;;AAKA;AACA,MAAI8I,SAAStF,KAAT,IAAkBA,UAAU,IAAhC,EAAsC;AACrCjC,OAAI,KAAKC,MAAT,EACA8H,SAASxG,WADT;;AAGA;AACA,OAAI,CAACgG,KAAL,EAAY;AACX9I,QAAI0B,IAAJ,IAAY8B,KAAZ;AACA9B,WAAO1B,GAAP;AACA;;AAED,UAAOuB,GAAP,EAAY;AACX9B,MAAE6E,IAAF,CAAO5C,IAAP,EAAa,UAACoF,GAAD,EAAM5D,GAAN,EAAc;AAC1B,SAAIoG,OAAOjF,OAAP,CAAeyC,GAAf,IAAsB,CAAC,CAA3B,EAA8B;AAC7BrH,QAAE,OAAK8B,CAAL,CAAF,EAAWgI,EAAX,CAAczC,GAAd,EAAmB5D,GAAnB;AACA,MAFD,MAEO,IAAI4D,QAAQ,OAAZ,EAAqB;AAC3B,aAAKvF,CAAL,EAAQuC,KAAR,CAAc0F,OAAd,GAAwBtG,GAAxB;AACA,MAFM,MAEA,IAAI4D,QAAQ,OAAZ,EAAqB;AAC3B,aAAKvF,CAAL,EAAQkI,SAAR,GAAoBvG,GAApB;AACA,MAFM,MAEA,IAAI4D,QAAQ,MAAZ,EAAoB;AAC1B,aAAKvF,CAAL,EAAQmI,WAAR,GAAsBxG,GAAtB;AACA,MAFM,MAEA,IAAIM,UAAU,IAAd,EAAoB;AAC1B,aAAKjC,CAAL,EAAQoI,eAAR,CAAwB7C,GAAxB;AACA,MAFM,MAEA;AACN,aAAKvF,CAAL,EAAQqI,YAAR,CAAqB9C,GAArB,EAA0B5D,GAA1B;AACA;AACD,KAdD;AAeA;AACD,UAAO,IAAP;;AAED;AACC,GA9BD,MA8BO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnB,OAAIxB,SAAS,OAAb,EAAsB;AACrB,WAAO,KAAK,CAAL,EAAQoC,KAAR,CAAc0F,OAArB;AACA;AACD,OAAI9H,SAAS,OAAb,EAAsB;AACrB,WAAO,KAAK,CAAL,EAAQ+H,SAAf;AACA;AACD,UAAO,KAAK,CAAL,EAAQJ,YAAR,CAAqB3H,IAArB,CAAP;AACA;AACD,EA9CD;;AAgDA,EAAC,UAAD,EAAa,aAAb,EAA4B,aAA5B,EAA2CL,OAA3C,CAAmD,gBAAQ;AAC1D5B,IAAEsF,EAAF,CAAKtB,IAAL,IAAa,UAAUoG,GAAV,EAAe;;AAE3B;AACA,OAAIvH,OAAOmB,KAAKqG,MAAL,CAAY,CAAZ,EAAerG,KAAKjC,MAAL,GAAc,CAA7B,CAAX;AAAA,OACCD,IAAI,KAAKC,MADV;;AAGA;AACA,UAAOD,GAAP,EAAY;AACX,QAAIvB,MAAMiD,OAAO4G,GAAP,EAAY,KAAKtI,CAAL,CAAZ,EAAqBA,CAArB,EAAwB,KAAKA,CAAL,EAAQkI,SAAhC,CAAV;AACA,QAAI,OAAOzJ,GAAP,KAAe,QAAnB,EAA6B;AAC5BA,WAAMA,IAAIyI,KAAJ,CAAU,GAAV,EAAesB,OAAf,EAAN,CAD4B,CACI;AAChC,KAFD,MAEO;AACN/J,WAAMA,IAAI+J,OAAJ,EAAN;AACA;AACD,QAAIrH,IAAI1C,IAAIwB,MAAZ;AACA,WAAOkB,GAAP,EAAY;AACX,UAAKnB,CAAL,EAAQyI,SAAR,CAAkB1H,IAAlB,EAAwBtC,IAAI0C,CAAJ,CAAxB;AACA;AACD;AACD,UAAO,IAAP;AACA,GApBD;AAqBA,EAtBD;;AAwBAjD,GAAEsF,EAAF,CAAKkF,GAAL,GAAW,UAAU1G,KAAV,EAAiBC,KAAjB,EAAwB;;AAElC;AACA,MAAIA,UAAU9C,SAAV,IAAuBjB,EAAEyK,aAAF,CAAgB3G,KAAhB,CAA3B,EAAmD;AAClD,UAAOD,OAAO,IAAP,EAAaC,KAAb,EAAoBC,KAApB,CAAP;;AAED;AACC,GAJD,MAIO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnB,OAAIC,OAAOF,KAAX;AAAA,OACChC,UADD;AAAA,OAECuC,QAAQqG,iBAAiB,KAAK,CAAL,CAAjB,EAA0B,EAA1B,CAFT;AAAA,OAGCC,SAAS,EAHV;AAAA,OAICC,MAAM,KAJP;;AAMA,OAAI,OAAO5G,IAAP,KAAgB,QAApB,EAA8B;AAC7BF,YAAQ,CAACE,IAAD,CAAR;AACA4G,UAAM,IAAN;AACA;AACD9I,OAAIgC,MAAM/B,MAAV;AACA,UAAOD,GAAP,EAAY;AACX6I,WAAO7G,MAAMhC,CAAN,CAAP,IAAmBuC,MAAMwG,gBAAN,CAAuBvI,UAAUwB,MAAMhC,CAAN,CAAV,CAAvB,CAAnB;AACA,QAAI8I,GAAJ,EAAS;AACR,YAAOD,OAAO7G,MAAMhC,CAAN,CAAP,CAAP;AACA;AACD;AACD,UAAO6I,MAAP;AACA;AACD,EA3BD;;AA6BA3K,GAAEsF,EAAF,CAAKQ,IAAL,GAAY,UAAU9B,IAAV,EAAgB8B,IAAhB,EAAsB;AAAA;;AAEjC;AACA,MAAI,QAAO9B,IAAP,yCAAOA,IAAP,OAAgB,QAApB,EAA8B;AAC7B8B,UAAO9B,IAAP;AACA,GAFD,MAEO,IAAI8B,SAAS7E,SAAb,EAAwB;AAC9B,OAAI6J,OAAO,EAAX;AACAA,QAAK9G,IAAL,IAAa8B,IAAb;AACAA,UAAOgF,IAAP;AACA;;AAED;AACA,MAAIhF,SAAS7E,SAAb,EAAwB;AAAA;AACvB,QAAIa,IAAI,OAAKC,MAAb;AACA,WAAOD,GAAP,EAAY;AACX9B,OAAE6E,IAAF,CAAOiB,IAAP,EAAa,UAACuB,GAAD,EAAMtD,KAAN,EAAgB;AAC5B,aAAKjC,CAAL,EAAQiJ,OAAR,CAAgB/I,SAASqF,GAAT,CAAhB,IAAiC,QAAOtD,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,GAA4B+D,KAAKkD,SAAL,CAAejH,KAAf,CAA5B,GAAoDA,KAArF;AACA,MAFD;AAGA;AACD;AAAA;AAAA;;AAED;AATwB;;AAAA;AAUvB,GAVD,MAUO,IAAI,KAAK,CAAL,KAAW,KAAK,CAAL,EAAQgH,OAAvB,EAAgC;AACtC,OAAIhD,QAAQ,SAARA,KAAQ,QAAS;AACpB,QAAI;AACH,YAAOD,KAAKC,KAAL,CAAWhE,KAAX,CAAP;AACA,KAFD,CAEE,OAAOiE,CAAP,EAAU;AACX,YAAOjE,KAAP;AACA;AACD,IAND;;AAQA;AACA,OAAIC,SAAS/C,SAAb,EAAwB;AACvB,QAAIV,MAAM,EAAV;AACAP,MAAE6E,IAAF,CAAO,KAAK,CAAL,EAAQkG,OAAf,EAAwB,UAAC1D,GAAD,EAAMtD,KAAN,EAAgB;AACvCxD,SAAI8G,GAAJ,IAAWU,MAAMhE,KAAN,CAAX;AACA,KAFD;AAGA,WAAOxD,GAAP;;AAED;AACC,IARD,MAQO;AACNyD,WAAOhC,SAASgC,IAAT,CAAP;AACA,QAAI,KAAK,CAAL,EAAQ+G,OAAR,CAAgBE,cAAhB,CAA+BjH,IAA/B,CAAJ,EAA0C;AACzC,YAAO+D,MAAM,KAAK,CAAL,EAAQgD,OAAR,CAAgB/G,IAAhB,CAAN,CAAP;AACA;AACD;AACD;AACD,EA/CD;;AAiDAhE,GAAEsF,EAAF,CAAK4F,QAAL,GAAgB,UAAUd,GAAV,EAAe;AAC9B,MAAItI,IAAI,KAAKC,MAAb;AACA,SAAOD,GAAP,EAAY;AACX,OAAI,KAAKA,CAAL,EAAQyI,SAAR,CAAkBY,QAAlB,CAA2Bf,GAA3B,CAAJ,EAAqC;AACpC,WAAO,IAAP;AACA;AACD;AACD,SAAO,KAAP;AACA,EARD;;AAUApK,GAAEsF,EAAF,CAAKrD,IAAL,GAAY,UAAUA,IAAV,EAAgB8B,KAAhB,EAAuB;AAClC9B,SAAOqB,QAAQrB,IAAR,CAAP;;AAEA;AACA,MAAI8B,UAAU9C,SAAd,EAAyB;AACxB,OAAIa,IAAI,KAAKC,MAAb;AACA,UAAOD,GAAP,EAAY;AACX,SAAKA,CAAL,EAAQG,IAAR,IAAgB8B,KAAhB;AACA;AACD,UAAO,IAAP;;AAED;AACC,GARD,MAQO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnB,UAAO,KAAK,CAAL,EAAQ9B,IAAR,CAAP;AACA;AACD,EAfD;;AAiBAjC,GAAEsF,EAAF,CAAK8F,UAAL,GAAkB,UAAUnJ,IAAV,EAAgB;AACjC,MAAIH,IAAI,KAAKC,MAAb;AACAE,SAAOqB,QAAQrB,IAAR,CAAP;;AAEA,SAAOH,GAAP,EAAY;AACX,UAAO,KAAKA,CAAL,EAAQG,IAAR,CAAP;AACA;AACD,SAAO,IAAP;AACA,EARD;;AAUAjC,GAAEsF,EAAF,CAAK7B,GAAL,GAAW,UAAUM,KAAV,EAAiB;AAAA;;AAE3B;AACA,MAAIA,UAAU9C,SAAd,EAAyB;AAAA;AACxB,QAAIa,IAAI,OAAKC,MAAb;AAAA,QACC0B,YADD;AAEA,WAAO3B,GAAP,EAAY;AACX,SAAI,OAAKA,CAAL,EAAQuJ,QAAZ,EAAsB;AACrB5H,YAAMzD,EAAEU,GAAF,CACLV,EAAEsJ,OAAF,CAAUvF,KAAV,IAAmBA,KAAnB,GAA2B,CAACA,KAAD,CADtB,EAEL;AAAA,cAAQuH,OAAOnI,IAAP,CAAR;AAAA,OAFK,CAAN;AAIAnD,QAAE,QAAF,EAAY,OAAK8B,CAAL,CAAZ,EAAqB+C,IAArB,CAA0B,UAACwC,GAAD,EAAM3D,GAAN,EAAc;AACvCA,WAAI6H,QAAJ,GAAe9H,IAAImB,OAAJ,CAAY0G,OAAO5H,IAAIK,KAAX,CAAZ,IAAiC,CAAC,CAAjD;AACA,OAFD;AAGA,MARD,MAQO;AACN,aAAKjC,CAAL,EAAQiC,KAAR,GAAgBuH,OAAOvH,KAAP,CAAhB;AACA;AACD;AACD;AAAA;AAAA;;AAED;AAlByB;;AAAA;AAmBxB,GAnBD,MAmBO,IAAI,KAAK,CAAL,CAAJ,EAAa;;AAEnB;AACA,OAAI,KAAK,CAAL,EAAQsH,QAAZ,EAAsB;AACrB,QAAIG,SAAS,EAAb;AACAxL,MAAE,QAAF,EAAY,KAAK,CAAL,CAAZ,EAAqB6E,IAArB,CAA0B,UAACwC,GAAD,EAAM3D,GAAN,EAAc;AACvC,SAAIA,IAAI6H,QAAR,EAAkB;AACjBC,aAAOxG,IAAP,CAAYsG,OAAO5H,IAAIK,KAAX,CAAZ;AACA;AACD,KAJD;AAKA,WAAOyH,MAAP;;AAED;AACC,IAVD,MAUO,IAAI,KAAK,CAAL,EAAQ3C,IAAR,KAAiB,OAArB,EAA8B;AACpC,QAAInF,MAAM,KAAKhB,MAAL,CAAY,YAAY,KAAK,CAAL,EAAQsB,IAApB,GAA2B,YAAvC,EAAqD,CAArD,CAAV;AACA,WAAON,MAAM4H,OAAO5H,IAAIK,KAAX,CAAN,GAA0B9C,SAAjC;;AAED;AACC,IALM,MAKA,IAAI,KAAK,CAAL,EAAQ4H,IAAR,KAAiB,UAAjB,IAA+B,KAAK,CAAL,EAAQ4C,OAA3C,EAAoD;AAC1D,WAAOH,OAAO,KAAK,CAAL,EAAQvH,KAAf,CAAP;AACA;AACD;AACD,EA5CD;;AA8CA/D,GAAEsF,EAAF,CAAKT,IAAL,GAAY,UAAUhD,QAAV,EAAoB;AAC/B7B,IAAE6E,IAAF,CAAO3E,MAAMC,IAAN,CAAW,IAAX,CAAP,EAAyB0B,QAAzB;AACA,SAAO,IAAP;AACA,EAHD;;AAKA7B,GAAEsF,EAAF,CAAKqD,GAAL,GAAW,UAAU7G,CAAV,EAAa;AACvB,SAAOA,MAAMb,SAAN,GAAkBf,MAAMC,IAAN,CAAW,IAAX,CAAlB,GAAqC,KAAK2B,KAAK,CAAL,GAASA,CAAT,GAAaA,IAAI,KAAKC,MAA3B,CAA5C;AACA,EAFD;;AAIA/B,GAAEsF,EAAF,CAAK5E,GAAL,GAAW,UAAUmB,QAAV,EAAoB;AAC9B,MAAM0D,MAAM,KAAKxD,MAAjB;AACA,MAAIyJ,SAAS,EAAb;AAAA,MACC1J,IAAI,CADL;;AAGA,SAAOA,IAAIyD,GAAX,EAAgBzD,GAAhB,EAAqB;AACpB0J,UAAOxG,IAAP,CAAYnD,SAASpB,IAAT,CAAc,KAAKqB,CAAL,CAAd,EAAuBA,CAAvB,EAA0B,KAAKA,CAAL,CAA1B,CAAZ;AACA;AACD,SAAO0J,MAAP;AACA,EATD;;AAWAxL,GAAEsF,EAAF,CAAKoG,MAAL,GAAc,UAAUC,MAAV,EAAkB;AAC/B,MAAMC,MAAMzK,SAAS0K,eAArB;AACA,MAAIC,aAAJ;AAAA,MACChK,IAAI,KAAKC,MADV;AAAA,MAECgK,YAFD;AAAA,MAGCC,eAHD;;AAKA;AACA,MAAIL,MAAJ,EAAY;AACX,UAAO7J,GAAP,EAAY;;AAEX;AACAgK,WAAO,KAAKhK,CAAL,EAAQmK,qBAAR,EAAP;AACAN,aAASnI,OAAOmI,MAAP,EAAe7J,CAAf,EAAkBgK,IAAlB,CAAT;;AAEA,QAAIH,OAAOO,GAAP,KAAejL,SAAf,IAA4B0K,OAAOQ,IAAP,KAAgBlL,SAAhD,EAA2D;;AAE1D;AACA8K,WAAM,KAAKjK,CAAL,EAAQuC,KAAR,CAAc+H,QAAd,IAA0B,QAAhC;AACA,SAAIL,QAAQ,QAAZ,EAAsB;AACrB,WAAKjK,CAAL,EAAQuC,KAAR,CAAc+H,QAAd,GAAyB,UAAzB;AACA;;AAED;AACA,UAAKtK,CAAL,EAAQuC,KAAR,CAAc6H,GAAd,GAAqBG,WAAWV,OAAOO,GAAlB,KAA0BH,QAAQ,OAAR,GAAkB,CAAlB,GAAsBH,IAAIU,SAAJ,GAAgBR,KAAKI,GAArE,CAAD,GAA8E,IAAlG;AACA,UAAKpK,CAAL,EAAQuC,KAAR,CAAc8H,IAAd,GAAsBE,WAAWV,OAAOQ,IAAlB,KAA2BJ,QAAQ,OAAR,GAAkB,CAAlB,GAAsBH,IAAIW,UAAJ,GAAiBT,KAAKK,IAAvE,CAAD,GAAiF,IAAtG;AACA;AACD;AACD,UAAO,IAAP;;AAED;AACC,GAvBD,MAuBO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnBJ,SAAM,KAAK,CAAL,EAAQ1H,KAAR,CAAc+H,QAApB;AACAN,UAAO,KAAK,CAAL,EAAQG,qBAAR,EAAP;AACA,UAAO;AACNC,SAAKJ,KAAKI,GAAL,IAAYH,QAAQ,OAAR,GAAkB,CAAlB,GAAsBH,IAAIU,SAAtC,CADC;AAENH,UAAML,KAAKK,IAAL,IAAaJ,QAAQ,OAAR,GAAkB,CAAlB,GAAsBH,IAAIW,UAAvC;AAFA,IAAP;AAIA;AACD,EAvCD;;AAyCAvM,GAAEsF,EAAF,CAAKkH,YAAL,GAAoB,YAAY;AAC/B,SAAOxM,EAAE,KAAK,CAAL,IAAU,KAAK,CAAL,EAAQwM,YAAlB,GAAiC,IAAnC,CAAP;AACA,EAFD;;AAIAxM,GAAEsF,EAAF,CAAK8G,QAAL,GAAgB,YAAY;AAC3B,MAAI,KAAK,CAAL,CAAJ,EAAa;AACZ,UAAO,EAACD,MAAM,KAAK,CAAL,EAAQM,UAAf,EAA2BP,KAAK,KAAK,CAAL,EAAQQ,SAAxC,EAAP;AACA;AACD,EAJD;;AAMA,EAAC,YAAD,EAAe,WAAf,EAA4B9K,OAA5B,CAAoC,gBAAQ;AAC3C5B,IAAEsF,EAAF,CAAKnC,IAAL,IAAa,UAAU4I,GAAV,EAAe;;AAE3B;AACA,OAAIA,QAAQ9K,SAAZ,EAAuB;AACtB,QAAIa,IAAI,KAAKC,MAAb;AACA,WAAOD,GAAP,EAAY;AACX,UAAKA,CAAL,EAAQqB,IAAR,IAAgB4I,GAAhB;AACA;AACD,WAAO,IAAP;;AAED;AACC,IARD,MAQO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnB,WAAO,KAAK,CAAL,EAAQ5I,IAAR,CAAP;AACA;AACD,GAdD;AAeA,EAhBD;;AAkBA,EAAC,OAAD,EAAU,QAAV,EAAoB,YAApB,EAAkC,aAAlC,EAAiD,YAAjD,EAA+D,aAA/D,EAA8EvB,OAA9E,CAAsF,eAAO;;AAE5F,MAAM+K,sBAAsB,SAAtBA,mBAAsB,CAACjJ,GAAD,EAAMkJ,EAAN,EAAU9I,KAAV,EAAoB;AAC/C,OAAMO,QAAQqG,iBAAiBhH,GAAjB,CAAd;AACA,OAAI5B,IAAIgC,MAAM/B,MAAd;AAAA,OACCgC,QAAQ,CADT;AAAA,OAEC8I,eAFD;;AAIA,UAAO/K,GAAP,EAAY;AACX+K,aAAS/I,MAAMhC,CAAN,MAAa,QAAb,GAAwB,QAAxB,GAAmC,EAA5C;AACAiC,aAASsI,WAAWhI,MAAMwG,gBAAN,CAAuB/G,MAAMhC,CAAN,KAAY8K,OAAO,OAAP,GAAiB,OAAjB,GAA2B,MAAvC,IAAiDC,MAAxE,CAAX,KAA+F,CAAxG;AACA9I,aAASsI,WAAWhI,MAAMwG,gBAAN,CAAuB/G,MAAMhC,CAAN,KAAY8K,OAAO,OAAP,GAAiB,QAAjB,GAA4B,SAAxC,IAAqDC,MAA5E,CAAX,KAAmG,CAA5G;AACA;AACD,UAAO9I,KAAP;AACA,GAZD;;AAcA/D,IAAEsF,EAAF,CAAKwH,GAAL,IAAY,UAAUrJ,GAAV,EAAe;AAC1B,OAAMsJ,iBAAiBtJ,GAAjB,yCAAiBA,GAAjB,CAAN;AAAA,OACCmJ,KAAKE,IAAIvK,WAAJ,GAAkBqC,OAAlB,CAA0B,OAA1B,IAAqC,CAAC,CAAtC,GAA0C,OAA1C,GAAoD,QAD1D;AAAA,OACoE;AACnEoI,QAAKF,IAAIlI,OAAJ,CAAY,OAAZ,IAAuB,CAAC,CAAxB,GAA4B,OAA5B,GAAuCkI,IAAIlI,OAAJ,CAAY,OAAZ,IAAuB,CAAC,CAAxB,GAA4B,OAA5B,GAAsC,EAFnF,CAD0B,CAG8D;AACxF,OAAI9C,IAAI,KAAKC,MAAb;AAAA,OACCgC,cADD;AAAA,OAECkJ,YAFD;AAAA,OAGCnJ,cAHD;AAAA,OAICmD,cAJD;;AAMA;AACA,OAAIxD,QAAQxC,SAAR,IAAqB8L,YAAY,SAArC,EAAgD;AAC/C,WAAOjL,GAAP,EAAY;AACXiC,aAAQP,OAAOC,GAAP,EAAY,KAAK3B,CAAL,CAAZ,EAAqBA,CAArB,CAAR;AACA,SAAIkL,EAAJ,EAAQ;AACPlJ,cAAQ,CAAC,SAAD,CAAR;AACA,UAAIkJ,OAAO,OAAX,EAAoB;AACnBlJ,aAAMkB,IAAN,CAAW,QAAX;AACA;AACDjB,eAAS4I,oBAAoB,KAAK7K,CAAL,CAApB,EAA6B8K,EAA7B,EAAiC9I,KAAjC,CAAT;AACA;AACD,SAAI,CAACoJ,MAAMzJ,GAAN,CAAL,EAAiB;AAChBM,eAAS,IAAT;AACA;AACD,UAAKjC,CAAL,EAAQuC,KAAR,CAAcuI,EAAd,IAAoB7I,KAApB;AACA;AACD,WAAO,IAAP;;AAED;AACC,IAlBD,MAkBO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnBkJ,UAAML,OAAO,OAAP,GAAiB,OAAjB,GAA2B,QAAjC;;AAEA;AACA,QAAI,KAAK,CAAL,EAAQ7J,QAAR,KAAqBoK,KAAKC,aAA9B,EAA6C;AAC5C,YAAO,KAAK,CAAL,EAAQvB,eAAR,CAAwB,WAAWoB,GAAnC,CAAP;;AAED;AACC,KAJD,MAIO,IAAI,CAACjN,EAAEwE,QAAF,CAAW,KAAK,CAAL,CAAX,CAAL,EAA0B;AAChCyC,aAAQ+F,OAAO,OAAP,GAAiB,QAAjB,GAA4B,QAApC;AACAjJ,aAAQ,KAAK,CAAL,EAAQkD,QAAQgG,GAAhB,CAAR;;AAEA;AACA,SAAID,OAAO,EAAP,IAAcA,OAAO,OAAP,IAAkBvJ,QAAQ,IAA5C,EAAmD;AAClDM,eAAS4I,oBAAoB,KAAK,CAAL,CAApB,EAA6BC,EAA7B,EAAiC,CAACI,OAAO,EAAP,GAAY,SAAZ,GAAwB,QAAzB,CAAjC,CAAT;AACA;AACD,YAAOjJ,KAAP;;AAED;AACC,KAXM,MAWA,IAAIiJ,OAAO,OAAX,EAAoB;AAC1B,YAAO,KAAK,CAAL,EAAQ7L,QAAR,CAAiB0K,eAAjB,CAAiC,WAAWoB,GAA5C,CAAP;AACA,KAFM,MAEA;AACN,YAAO,KAAK,CAAL,EAAQ,UAAUA,GAAlB,CAAP;AACA;AACD;AACD,GAtDD;AAuDA,EAvED;;AAyEA5J,aAAYzB,OAAZ,CAAoB,iBAAS;AAC5B5B,IAAEsF,EAAF,CAAK1E,KAAL,IAAc,UAAUkF,IAAV,EAAgBjE,QAAhB,EAA0B;AACvC,UAAOiE,OAAO,KAAKgE,EAAL,CAAQlJ,KAAR,EAAekF,IAAf,EAAqBjE,QAArB,CAAP,GAAwC,KAAKwL,OAAL,CAAazM,KAAb,CAA/C;AACA,GAFD;AAGA,EAJD;;AAMA;AACA,EAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqBgB,OAArB,CAA6B,gBAAQ;AACpC5B,IAAEsF,EAAF,CAAKtB,IAAL,IAAa,UAAU6F,MAAV,EAAkBvF,QAAlB,EAA4BwB,IAA5B,EAAkCjE,QAAlC,EAA4C;AAAA;;AACxD,OAAIC,IAAI,KAAKC,MAAb;AAAA,OACCuD,KAAI,SAAJA,EAAI,CAAUpE,GAAV,EAAe;AAAE;AACpB,QAAIoM,SAAS,CAAC,IAAD,CAAb;AACA,QAAIhJ,QAAJ,EAAc;AACb,SAAIiJ,IAAIvN,EAAEkB,IAAIoM,MAAN,CAAR;AACAA,cAASC,EAAEnE,GAAF,CAAMmE,EAAEC,OAAF,CAAUlJ,QAAV,CAAN,EAA2BqE,GAA3B,EAAT,CAFa,CAE8B;AAC3C2E,cAASC,EAAEE,OAAF,CAAUnJ,QAAV,CAAT;AACA;AACD,QAAIgJ,MAAJ,EAAY;AACX,SAAIxH,IAAJ,EAAU;AAAE;AACX5E,UAAI4E,IAAJ,GAAWA,IAAX;AACA;AACD,UAAK,IAAIhE,KAAI,CAAR,EAAWyD,MAAM+H,OAAOvL,MAA7B,EAAqCD,KAAIyD,GAAzC,EAA8CzD,IAA9C,EAAmD;AAClD,UAAID,SAASpB,IAAT,CAAc6M,OAAOxL,EAAP,CAAd,EAAyBZ,GAAzB,EAA8BA,IAAIwM,IAAlC,MAA4C,KAAhD,EAAuD;AACtDxM,WAAIyM,cAAJ;AACAzM,WAAI0M,eAAJ;AACA;AACD;AACD;AACD,IAnBF;;AAqBA/D,YAASA,OAAOb,KAAP,CAAa,GAAb,CAAT;;AAEA;AACA,OAAIhJ,EAAEgD,UAAF,CAAasB,QAAb,CAAJ,EAA4B;AAC3BzC,eAAWyC,QAAX;AACAA,eAAW,IAAX;AACA,IAHD,MAGO,IAAItE,EAAEgD,UAAF,CAAa8C,IAAb,CAAJ,EAAwB;AAC9BjE,eAAWiE,IAAX;AACAA,WAAO,IAAP;AACA;;AAED;;AAjCwD;AAmCvD,QAAIkC,IAAI6B,OAAO9H,MAAf;;AAEA;AACA,QAAIiC,SAAS,KAAb,EAAoB;AACnB,SAAI,CAAC,OAAKlC,CAAL,EAAQ+H,MAAb,EAAqB;AACpB,aAAK/H,CAAL,EAAQ+H,MAAR,GAAiB,EAAjB;AACA;AACD,YAAK/H,CAAL,EAAQ+H,MAAR,CAAe7E,IAAf,CAAoB;AACnB6E,cAAQA,MADW;AAEnBhI,gBAAUA,QAFS;AAGnByC,gBAAUA,QAHS;AAInBzB,YAAMyC,EAJa;AAKnBX,YAAMX,SAAS;AALI,MAApB;;AAQA;AACA,YAAOgE,GAAP,EAAY;AACX,aAAKlG,CAAL,EAAQ4C,gBAAR,CAAyBmF,OAAO7B,CAAP,CAAzB,EAAoC1C,EAApC,EAAwC,EAACX,MAAMX,SAAS,KAAhB,EAAuB6J,SAAS,CAAC,CAACvJ,QAAlC,EAAxC;AACA;;AAEF;AACC,KAlBD,MAkBO,IAAI,OAAKxC,CAAL,EAAQ+H,MAAR,CAAe9H,MAAnB,EAA2B;AACjC,YAAOiG,GAAP,EAAY;AACX,aAAKlG,CAAL,EAAQ+H,MAAR,CAAejI,OAAf,CAAuB,UAACV,GAAD,EAAM+B,CAAN,EAAY;AAClC,WAAM6K,QAAQ5M,IAAI2I,MAAJ,CAAWjF,OAAX,CAAmBiF,OAAO7B,CAAP,CAAnB,CAAd;AACA,WAAI8F,UAAU,CAAC,CAAX,IAAgB5M,IAAIW,QAAJ,KAAiBA,QAAjC,IAA6CX,IAAIoD,QAAJ,KAAiBA,QAAlE,EAA4E;AAC3E,eAAKxC,CAAL,EAAQiM,mBAAR,CAA4BlE,OAAO7B,CAAP,CAA5B,EAAuC9G,IAAI2B,IAA3C,EAAiD,EAAC8B,MAAM,OAAK7C,CAAL,EAAQ+H,MAAR,CAAe5G,CAAf,EAAkB0B,IAAzB,EAA+BkJ,SAAS,CAAC,CAAC,OAAK/L,CAAL,EAAQ+H,MAAR,CAAe5G,CAAf,EAAkBqB,QAA5D,EAAjD,EAD2E,CAC8C;AACzH,eAAKxC,CAAL,EAAQ+H,MAAR,CAAe5G,CAAf,EAAkB4G,MAAlB,CAAyBmE,MAAzB,CAAgCF,KAAhC,EAAuC,CAAvC,EAF2E,CAEhC;AAC3C,YAAI,CAAC,OAAKhM,CAAL,EAAQ+H,MAAR,CAAe5G,CAAf,EAAkB4G,MAAlB,CAAyB9H,MAA9B,EAAsC;AAAE;AACvC,gBAAKD,CAAL,EAAQ+H,MAAR,CAAemE,MAAf,CAAsB/K,CAAtB,EAAyB,CAAzB;AACA;AACD;AACD,OATD;AAUA;AACD;AArEsD;;AAkCxD,UAAOnB,GAAP,EAAY;AAAA;AAoCX;AACD,UAAO,IAAP;AACA,GAxED;AAyEA,EA1ED;;AA4EA9B,GAAEsF,EAAF,CAAK+H,OAAL,GAAe,UAAUrJ,IAAV,EAAgB8B,IAAhB,EAAsB;AACpC,MAAM5E,MAAM,IAAIP,WAAJ,CAAgBqD,IAAhB,EAAsB,EAAClD,SAAS,IAAV,EAAgBC,YAAY,IAA5B,EAAtB,CAAZ;AACA,MAAIe,IAAI,KAAKC,MAAb;;AAEA;AACA,MAAI+D,IAAJ,EAAU;AACT5E,OAAIwM,IAAJ,GAAW5H,IAAX;AACA;AACD,SAAOhE,GAAP,EAAY;AACX,QAAKA,CAAL,EAAQmM,aAAR,CAAsB/M,GAAtB;AACA;AACD,SAAO,IAAP;AACA,EAZD;;AAcAlB,GAAEsF,EAAF,CAAK4I,KAAL,GAAa,YAAY;AACxB,MAAIpL,QAAQ,EAAZ;AAAA,MACChB,IAAI,KAAKC,MADV;;AAGA,SAAOD,GAAP,EAAY;AACXgB,SAAMhB,CAAN,IAAW,KAAKA,CAAL,EAAQqM,SAAR,CAAkB,IAAlB,CAAX;AACA;AACD,SAAOnO,EAAE8C,KAAF,CAAP;AACA,EARD;;AAUA9C,GAAEsF,EAAF,CAAK8I,KAAL,GAAa,YAAY;AACxB,MAAItM,IAAI,KAAKC,MAAb;AACA,SAAOD,GAAP,EAAY;AACX,QAAKA,CAAL,EAAQqD,SAAR,GAAoB,EAApB;AACA;AACD,SAAO,IAAP;AACA,EAND;;AAQAnF,GAAEsF,EAAF,CAAK4D,IAAL,GAAY,UAAUA,IAAV,EAAgB;;AAE3B;AACA,MAAIA,SAASjI,SAAb,EAAwB;AACvB,OAAIa,IAAI,KAAKC,MAAb;AACA,UAAOD,GAAP,EAAY;AACX,SAAKA,CAAL,EAAQqD,SAAR,GAAoB3B,OAAO0F,IAAP,EAAa,KAAKpH,CAAL,CAAb,EAAsBA,CAAtB,CAApB;AACA;AACD,UAAO,IAAP;;AAED;AACC,GARD,MAQO,IAAI,KAAK,CAAL,CAAJ,EAAa;AACnB,UAAO,KAAK,CAAL,EAAQqD,SAAf;AACA;AACD,EAdD;;AAgBAnF,GAAE6E,IAAF,CAAO;AACNwJ,UAAQ,aADF;AAENC,WAAS,YAFH;AAGNC,UAAQ,WAHF;AAINC,SAAO;AAJD,EAAP,EAKG,UAACxK,IAAD,EAAO+H,GAAP,EAAe;AACjB/L,IAAEsF,EAAF,CAAKtB,IAAL,IAAa,UAAUkF,IAAV,EAAgB;AAC5B,OAAMuF,MAAM,CAAC,QAAD,EAAW,SAAX,EAAsB7J,OAAtB,CAA8BZ,IAA9B,IAAsC,CAAC,CAAnD;AAAA,OACC8E,SAAS9I,EAAEgD,UAAF,CAAakG,IAAb,CADV;AAEA,OAAIpH,IAAI,KAAKC,MAAb;AAAA,OACC2M,QAAQ1O,GADT;;AAGA,OAAI,CAAC8I,MAAL,EAAa;AAAE;AACd9I,MAAE6E,IAAF,CAAOjB,SAAP,EAAkB,UAAC9B,CAAD,EAAI6M,GAAJ,EAAY;AAC7BD,WAAMtF,GAAN,CAAUuF,GAAV;AACA,KAFD;AAGA;;AAED,UAAO7M,GAAP,EAAY;AACX,QAAIgH,MAAJ,EAAY;AACX4F,aAAQ1O,EAAEwD,OAAO0F,IAAP,EAAa,KAAKpH,CAAL,CAAb,EAAsBA,CAAtB,EAAyB,KAAKA,CAAL,EAAQqD,SAAjC,CAAF,CAAR;AACA;AACD,QAAIyJ,YAAYF,MAAM3M,MAAtB;AAAA,QAA8B;AAC7B8M,eAAW,CAAC,CADb,CAJW,CAKK;AAChB,WAAOJ,MAAMG,WAAN,GAAoB,EAAEC,QAAF,GAAaD,SAAxC,EAAmD;AAAE;AACpD,SAAIlL,MAAMgL,MAAMD,MAAMG,SAAN,GAAkBC,QAAxB,CAAV;;AAEA;AACA,SAAI/M,CAAJ,EAAO;AACN4B,YAAMA,IAAIyK,SAAJ,CAAc,IAAd,CAAN;AACA;AACD,UAAKrM,CAAL,EAAQgN,qBAAR,CAA8B/C,GAA9B,EAAmCrI,GAAnC;AACA;AACD;AACD,UAAO,IAAP;AACA,GA7BD;AA8BA,EApCD;;AAsCA1D,GAAE6E,IAAF,CAAO;AACNkK,gBAAc,QADR;AAENC,aAAW,SAFL;AAGNC,YAAU,QAHJ;AAINC,eAAa;AAJP,EAAP,EAKG,UAAClL,IAAD,EAAOnB,IAAP,EAAgB;AAClB7C,IAAEsF,EAAF,CAAKtB,IAAL,IAAa,UAAUM,QAAV,EAAoB;AAChC,OAAIxC,IAAI,KAAKC,MAAb;AAAA,OACC2B,MAAM1D,EAAEsE,QAAF,CADP;;AAGA,UAAOxC,GAAP,EAAY;AACX4B,QAAIb,IAAJ,EAAU,KAAKf,CAAL,CAAV;AACA;AACD,UAAO,IAAP;AACA,GARD;AASA,EAfD;;AAiBA,EAAC,QAAD,EAAW,QAAX,EAAqBF,OAArB,CAA6B,gBAAQ;AACpC5B,IAAEsF,EAAF,CAAKzC,IAAL,IAAa,UAAUyB,QAAV,EAAoB;AAChC,OAAIxC,IAAI,KAAKC,MAAb;AAAA,OACCe,QAAQ,EADT;AAAA,OAECY,MAAM,EAFP;;AAIA;AACA,UAAO5B,GAAP,EAAY;AACX,QAAI,CAACwC,QAAD,IAAa9B,YAAY,KAAKV,CAAL,CAAZ,EAAqBwC,QAArB,EAA+BvC,MAAhD,EAAwD;AACvDe,WAAMkC,IAAN,CAAW,KAAKlD,CAAL,EAAQqN,UAAR,CAAmBC,WAAnB,CAA+B,KAAKtN,CAAL,CAA/B,CAAX;AACA;AACD;;AAED;AACA,UAAOe,SAAS,QAAT,GAAoB7C,EAAE8C,KAAF,CAApB,GAA+B,IAAtC;AACA,GAdD;AAeA,EAhBD;;AAkBA9C,GAAEsF,EAAF,CAAK9E,KAAL,GAAa,UAAU6O,KAAV,EAAiBC,GAAjB,EAAsB;AAClC,SAAOtP,EAAE,KAAK2I,GAAL,GAAWnI,KAAX,CAAiB6O,KAAjB,EAAwBC,GAAxB,CAAF,CAAP;AACA,EAFD;;AAIAtP,GAAEsF,EAAF,CAAKnD,IAAL,GAAY,UAAUA,IAAV,EAAgB;AAC3B,MAAMwG,MAAMxG,SAASlB,SAArB;AACA,MAAIsE,MAAM,KAAKxD,MAAf;AAAA,MACC4I,SAAS,EADV;AAAA,MAEC7I,IAAI,CAFL;AAGA,SAAOA,IAAIyD,GAAX,EAAgBzD,GAAhB,EAAqB;AACpB,OAAI6G,GAAJ,EAAS;AACRgC,WAAO3F,IAAP,CAAY,KAAKlD,CAAL,EAAQmI,WAApB;AACA,IAFD,MAEO;AACN,SAAKnI,CAAL,EAAQmI,WAAR,GAAsBzG,OAAOrB,IAAP,EAAa,KAAKL,CAAL,CAAb,EAAsBA,CAAtB,CAAtB;AACA;AACD;AACD,SAAO6G,MAAMgC,OAAOnB,IAAP,CAAY,GAAZ,CAAN,GAAyB,IAAhC;AACA,EAbD;;AAeAxJ,GAAEsF,EAAF,CAAKiK,MAAL,GAAc,UAAUjL,QAAV,EAAoB;AACjC,OAAK0H,MAAL,CAAY1H,QAAZ,EAAsB1B,GAAtB,CAA0B,MAA1B,EAAkCiC,IAAlC,CAAuC,UAACwC,GAAD,EAAM3D,GAAN,EAAc;AACpD,OAAMsI,SAAStI,IAAIyL,UAAnB;;AAEAnP,KAAE0D,IAAI2B,QAAN,EAAgBR,IAAhB,CAAqB,UAAC/C,CAAD,EAAIoB,IAAJ,EAAa;AACjC8I,WAAO+C,YAAP,CAAoB7L,IAApB,EAA0BQ,GAA1B;AACA,IAFD;AAGAsI,UAAOoD,WAAP,CAAmB1L,GAAnB;AACA,GAPD;AAQA,SAAO,IAAP;AACA,EAVD;;AAYA1D,GAAEsF,EAAF,CAAKkK,IAAL,GAAY,UAAUtG,IAAV,EAAgB;AAC3B,MAAIpH,IAAI,KAAKC,MAAb;;AAEA,SAAOD,GAAP,EAAY;AACX9B,KAAE,KAAK8B,CAAL,CAAF,EAAW2N,OAAX,CAAmBjM,OAAO0F,IAAP,EAAa,KAAKpH,CAAL,CAAb,EAAsBA,CAAtB,CAAnB;AACA;AACD,SAAO,IAAP;AACA,EAPD;;AASA9B,GAAEsF,EAAF,CAAKmK,OAAL,GAAe,UAAUvG,IAAV,EAAgB;AAC9B,MAAI,KAAK,CAAL,CAAJ,EAAa;;AAEZ;AACA,OAAI3D,MAAM,KAAKxD,MAAf;AAAA,OACCD,IAAI,CADL;AAAA,OAECoB,OAAOlD,EAAEwD,OAAO0F,IAAP,EAAa,KAAK,CAAL,CAAb,CAAF,EAAyB,CAAzB,EAA4BiF,SAA5B,CAAsC,IAAtC,CAFR;;AAIA;AACA,QAAK,CAAL,EAAQgB,UAAR,CAAmBJ,YAAnB,CAAgC7L,IAAhC,EAAsC,IAAtC;;AAEA;AACA,UAAOA,KAAKwM,iBAAZ,EAA+B;AAC9BxM,WAAOA,KAAKwM,iBAAZ;AACA;;AAED;AACA,UAAO5N,IAAIyD,GAAX,EAAgBzD,GAAhB,EAAqB;AACpBoB,SAAKwE,WAAL,CAAiB,KAAK5F,CAAL,CAAjB;AACA;AACD;AACD,SAAO,IAAP;AACA,EAtBD;;AAwBA9B,GAAEsF,EAAF,CAAK8D,GAAL,GAAW,UAAUtG,KAAV,EAAiBH,OAAjB,EAA0B;AACpCG,UAAQ9C,EAAE8C,KAAF,EAASH,OAAT,CAAR;AACA,MAAI4C,MAAM,KAAKxD,MAAf;AAAA,MACCD,IAAIgB,MAAMf,MADX;;AAGA,OAAKA,MAAL,IAAeD,CAAf;AACA,SAAOA,GAAP,EAAY;AACX,QAAKA,IAAIyD,GAAT,IAAgBzC,MAAMhB,CAAN,CAAhB;AACA;AACD,SAAO,IAAP;AACA,EAVD;;AAYA9B,GAAEsF,EAAF,CAAKD,QAAL,GAAgB,UAAUf,QAAV,EAAoB;AACnC,MAAIxB,QAAQ,EAAZ;AAAA,MACChB,IAAI,KAAKC,MADV;;AAGA,SAAOD,GAAP,EAAY;AACXgB,WAAQA,MAAMgC,MAAN,CAAa5E,MAAMC,IAAN,CAAW,KAAK2B,CAAL,EAAQuD,QAAnB,CAAb,CAAR;AACA;;AAED;AACA,MAAIf,QAAJ,EAAc;AACbxB,WAAQN,YAAYM,KAAZ,EAAmBwB,QAAnB,CAAR;AACA;AACD,SAAOtE,EAAE8C,KAAF,CAAP;AACA,EAbD;;AAeA9C,GAAEsF,EAAF,CAAKmI,OAAL,GAAe,UAAUnJ,QAAV,EAAoB3B,OAApB,EAA6B;AAC3C,MAAIb,IAAI,KAAKC,MAAb;AAAA,MACCe,QAAQ,EADT;AAAA,MAEC0K,gBAFD;AAAA,MAGCtK,aAHD;;AAKA,SAAOpB,GAAP,EAAY;AACX0L,aAAU,EAAV;AACAtK,UAAO,KAAKpB,CAAL,CAAP;AACA,UAAOoB,IAAP,EAAa;AACZsK,YAAQxI,IAAR,CAAa9B,IAAb;AACAA,WAAOA,KAAKiM,UAAZ;AACA;AACD3B,aAAUhL,YAAYgL,OAAZ,EAAqBlJ,QAArB,EAA+B3B,OAA/B,CAAV;AACA,OAAI6K,QAAQ,CAAR,CAAJ,EAAgB;AACf1K,UAAMkC,IAAN,CAAWwI,QAAQ,CAAR,CAAX;AACA;AACD;AACD,SAAOxN,EAAE8C,KAAF,CAAP;AACA,EAnBD;;AAqBA9C,GAAEsF,EAAF,CAAKqK,EAAL,GAAU,UAAU7N,CAAV,EAAa;AACtB,MAAIuF,MAAMvF,IAAI,CAAJ,GAAQA,IAAI,KAAKC,MAAjB,GAA0BD,CAApC;AACA,SAAO9B,EAAE,KAAKqH,GAAL,KAAa,IAAf,CAAP;AACA,EAHD;;AAKA,EAAC,QAAD,EAAW,KAAX,EAAkBzF,OAAlB,CAA0B,gBAAQ;AACjC5B,IAAEsF,EAAF,CAAKtB,IAAL,IAAa,UAAUM,QAAV,EAAoB;AAChC,UAAOtE,EAAEwC,YAAY,IAAZ,EAAkB8B,QAAlB,EAA4BN,SAAS,KAArC,CAAF,CAAP;AACA,GAFD;AAGA,EAJD;;AAMAhE,GAAEsF,EAAF,CAAKsK,IAAL,GAAY,UAAUtL,QAAV,EAAoB;AAC/B,SAAOtE,EAAEsE,QAAF,EAAY,IAAZ,CAAP;AACA,EAFD;;AAIAtE,GAAEsF,EAAF,CAAKuK,KAAL,GAAa,YAAY;AACxB,SAAO7P,EAAE,KAAK,CAAL,CAAF,CAAP;AACA,EAFD;;AAIAA,GAAEsF,EAAF,CAAKwK,GAAL,GAAW,UAAUxL,QAAV,EAAoB;AAC9B,SAAOtE,EAAE,KAAK2I,GAAL,GAAWjG,MAAX,CAAkB;AAAA,UAAQ,CAAC,CAAC1C,EAAEsE,QAAF,EAAYpB,IAAZ,EAAkBnB,MAA5B;AAAA,GAAlB,CAAF,CAAP;AACA,EAFD;;AAIA/B,GAAEsF,EAAF,CAAKwI,KAAL,GAAa,UAAUxJ,QAAV,EAAoB;AAChC,MAAIwJ,QAAQ,CAAC,CAAb;;AAEA,MAAI,KAAK,CAAL,CAAJ,EAAa;AACZ,OAAIhL,cAAJ;AAAA,OACCiN,UAAU,KAAK,CAAL,CADX;AAAA,OAEClH,cAAcvE,QAAd,yCAAcA,QAAd,CAFD;AAAA,OAGCxC,UAHD;;AAKA;AACA,OAAI+G,SAAS,WAAb,EAA0B;AACzB/F,YAAQ,KAAK,CAAL,EAAQqM,UAAR,CAAmB9J,QAA3B;;AAED;AACC,IAJD,MAIO,IAAIwD,SAAS,QAAb,EAAuB;AAC7B/F,YAAQ9C,EAAEsE,QAAF,CAAR;;AAED;AACC,IAJM,MAIA;AACNxB,YAAQ,IAAR;AACAiN,cAAU/P,EAAEsE,QAAF,EAAY,CAAZ,CAAV;AACA;;AAEDxC,OAAIgB,MAAMf,MAAV;AACA,UAAOD,GAAP,EAAY;AACX,QAAIgB,MAAMhB,CAAN,MAAaiO,OAAjB,EAA0B;AACzB,YAAOjO,CAAP;AACA;AACD;AACD;AACD,SAAOgM,KAAP;AACA,EA/BD;;AAiCA9N,GAAEsF,EAAF,CAAKoE,EAAL,GAAU,UAAUpF,QAAV,EAAoB;AAC7B,SAAO,CAAC,CAAC9B,YAAY,IAAZ,EAAkB8B,QAAlB,EAA4BvC,MAArC;AACA,EAFD;;AAIA/B,GAAEsF,EAAF,CAAK0K,IAAL,GAAY,YAAY;AACvB,SAAO,KAAKL,EAAL,CAAQ,CAAC,CAAT,CAAP;AACA,EAFD;;AAIA,EAAC,MAAD,EAAS,SAAT,EAAoB,WAApB,EAAiC,MAAjC,EAAyC,SAAzC,EAAoD,WAApD,EAAiE/N,OAAjE,CAAyE,gBAAQ;AAChF5B,IAAEsF,EAAF,CAAKzC,IAAL,IAAa,UAAUyB,QAAV,EAAoB5B,MAApB,EAA4B;AACxC,OAAMuN,OAAOpN,KAAK+B,OAAL,CAAa,MAAb,IAAuB,CAAC,CAArC;AAAA,OACCsL,MAAMrN,KAAK+B,OAAL,CAAa,KAAb,IAAsB,CAAC,CAD9B;AAAA,OAECuL,QAAQtN,KAAK+B,OAAL,CAAa,OAAb,IAAwB,CAAC,CAFlC;AAAA,OAGCgB,SAASqK,OAAO,oBAAP,GAA8B,wBAHxC;AAIA,OAAInN,QAAQ,EAAZ;AAAA,OACChB,IAAI,KAAKC,MADV;AAAA,OAECqO,gBAFD;;AAIA;AACA,UAAOtO,GAAP,EAAY;AACXsO,cAAU,KAAKtO,CAAL,EAAQ8D,MAAR,CAAV;AACA,WAAOwK,OAAP,EAAgB;AACftN,WAAMkC,IAAN,CAAWoL,OAAX;AACA,SAAIF,OAAQC,SAAS3N,YAAY4N,OAAZ,EAAqB9L,QAArB,EAA+BvC,MAApD,EAA6D;AAC5D;AACA,MAFD,MAEO;AACNqO,gBAAUA,QAAQxK,MAAR,CAAV;AACA;AACD;AACD;;AAED;AACA,OAAIuK,KAAJ,EAAW;AACV7L,eAAW5B,MAAX;AACA;;AAED;AACA,OAAI4B,QAAJ,EAAc;AACbxB,YAAQN,YAAYM,KAAZ,EAAmBwB,QAAnB,CAAR;AACA;;AAED;AACA,UAAOtE,EAAE8C,KAAF,CAAP;AACA,GAlCD;AAmCA,EApCD;;AAsCA,EAAC,QAAD,EAAW,SAAX,EAAsB,cAAtB,EAAsClB,OAAtC,CAA8C,gBAAQ;AACrD5B,IAAEsF,EAAF,CAAKzC,IAAL,IAAa,UAAUyB,QAAV,EAAoB5B,MAApB,EAA4B;AACxC,OAAMwN,MAAMrN,KAAK+B,OAAL,CAAa,GAAb,IAAoB,CAAC,CAAjC;AAAA,OACCuL,QAAQtN,KAAK+B,OAAL,CAAa,GAAb,IAAoB,CAAC,CAD9B;AAEA,OAAI9B,QAAQ,EAAZ;AAAA,OACChB,IAAI,KAAKC,MADV;AAAA,OAECiK,eAFD;;AAIA,UAAOlK,GAAP,EAAY;AACXkK,aAAS,KAAKlK,CAAL,EAAQqN,UAAjB;AACA,WAAOnD,UAAUA,OAAOjJ,QAAP,KAAoBoK,KAAKkD,YAA1C,EAAwD;AACvDvN,WAAMkC,IAAN,CAAWgH,MAAX;AACA,SAAI,CAACkE,GAAD,IAASC,SAAS3N,YAAYwJ,MAAZ,EAAoB1H,QAApB,EAA8BvC,MAApD,EAA6D;AAC5D;AACA,MAFD,MAEO;AACNiK,eAASA,OAAOmD,UAAhB;AACA;AACD;AACD;AACD,OAAI7K,QAAJ,EAAc;AACbxB,YAAQN,YAAYM,KAAZ,EAAmBwB,QAAnB,CAAR;AACA;AACD,UAAOtE,EAAE8C,KAAF,CAAP;AACA,GAtBD;AAuBA,EAxBD;;AA0BA9C,GAAEsF,EAAF,CAAKgL,QAAL,GAAgB,UAAUhM,QAAV,EAAoB;AAAA;;AACnC,MAAIxC,IAAI,KAAKC,MAAb;AAAA,MACCe,QAAQ,EADT;;AAGA,SAAOhB,GAAP,EAAY;AACX5B,SAAMC,IAAN,CAAW,KAAK2B,CAAL,EAAQqN,UAAR,CAAmB9J,QAA9B,EAAwCzD,OAAxC,CAAgD,iBAAS;AACxD,QAAI2O,UAAU,OAAKzO,CAAL,CAAd,EAAuB;AACtBgB,WAAMkC,IAAN,CAAWuL,KAAX;AACA;AACD,IAJD;AAKA;AACD,SAAOvQ,EAAEsE,WAAW9B,YAAYM,KAAZ,EAAmBwB,QAAnB,CAAX,GAA0CxB,KAA5C,CAAP;AACA,EAZD;;AAcA9C,GAAE2F,MAAF,GAAW,UAACjC,GAAD,EAAkB;AAAA,oCAAT8M,IAAS;AAATA,OAAS;AAAA;;AAC5B,MAAMjL,MAAMiL,KAAKzO,MAAjB;AACA,MAAID,IAAI,CAAR;AAAA,MACCmC,aADD;AAAA,MAECC,UAFD;;AAIA,SAAOpC,IAAIyD,GAAX,EAAgBzD,GAAhB,EAAqB;AACpBmC,UAAOG,OAAOH,IAAP,CAAYuM,KAAK1O,CAAL,CAAZ,CAAP;AACAoC,OAAID,KAAKlC,MAAT;AACA,UAAOmC,GAAP,EAAY;AACXR,QAAIO,KAAKC,CAAL,CAAJ,IAAesM,KAAK1O,CAAL,EAAQmC,KAAKC,CAAL,CAAR,CAAf;AACA;AACD;AACD,SAAOR,GAAP;AACA,EAdD;;AAgBA1D,GAAEsJ,OAAF,GAAY;AAAA,SAAOpJ,MAAMoJ,OAAN,CAAc/I,GAAd,CAAP;AAAA,EAAZ;;AAEAP,GAAEgD,UAAF,GAAe;AAAA,SAAQH,QAAQA,KAAK4N,WAAL,KAAqBC,QAArC;AAAA,EAAf;;AAEA1Q,GAAEyK,aAAF,GAAkB,eAAO;;AAExB;AACA,MAAI,QAAO/G,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAAvC,EAA6C;;AAE5C;AACG,OAAI,OAAOU,OAAOuM,cAAd,IAAgC,UAApC,EAAgD;AAClD,QAAIC,QAAQxM,OAAOuM,cAAP,CAAsBjN,GAAtB,CAAZ;AACA,WAAOkN,UAAUxM,OAAO9C,SAAjB,IAA8BsP,UAAU,IAA/C;AACG;;AAED;AACA;AACH,UAAOxM,OAAO9C,SAAP,CAAiBuP,QAAjB,CAA0BpQ,IAA1B,CAA+BiD,GAA/B,MAAwC,iBAA/C;AACC;;AAED;AACD,SAAO,KAAP;AACA,EAlBD;;AAoBA1D,GAAEwE,QAAF,GAAa;AAAA,SAAOd,QAAQ,IAAR,IAAgBA,QAAQA,IAAIzD,MAAnC;AAAA,EAAb;;AAEAD,GAAEU,GAAF,GAAQ,UAACgD,GAAD,EAAM7B,QAAN,EAAmB;AAC1B,MAAMoC,OAAOG,OAAOH,IAAP,CAAYP,GAAZ,CAAb;AAAA,MACC6B,MAAMtB,KAAKlC,MADZ;AAEA,MAAIxB,MAAM,EAAV;AAAA,MACCuB,IAAI,CADL;AAAA,MAECgP,eAFD;;AAIA,SAAOhP,IAAIyD,GAAX,EAAgBzD,GAAhB,EAAqB;AACpBgP,YAASjP,SAASpB,IAAT,CAAcR,MAAd,EAAsByD,IAAIO,KAAKnC,CAAL,CAAJ,CAAtB,EAAoCmC,KAAKnC,CAAL,CAApC,CAAT;AACA,OAAI,CAAC,CAAC,IAAD,EAAOb,SAAP,EAAkB2D,OAAlB,CAA0BkM,MAA1B,CAAD,GAAqC,CAAC,CAA1C,EAA6C;AAC5CvQ,QAAIyE,IAAJ,CAAS8L,MAAT;AACA;AACD;AACD,SAAOvQ,GAAP;AACA,EAdD;AAeA,QAAOkC,KAAP;AAAc,CA/4Cb,CAAD;AAg5CA","file":"dabby.es5.js","sourcesContent":["/*! dabbyjs v0.9.3 by Will Earp - https://github.com/hexydec/dabby */\r\n\r\n(function (global, factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(() => factory(global));\r\n\t} else if (typeof exports !== \"undefined\") {\r\n\t\tmodule.exports = factory(global);\r\n\t} else if (!global.$) {\r\n\t\tglobal.$ = factory(global);\r\n\t}\r\n}(this || window, window => {\r\n\t\"use strict\";\r\n\r\nif (!Array.from) {\r\n\tArray.from = function (arrayLike, mapFn, thisArg) {\r\n\t\tvar arr = [].slice.call(arrayLike);\r\n\t\tif (typeof mapFn === \"function\") {\r\n\t\t\tarr = arr.map(mapFn, thisArg);\r\n\t\t}\r\n\t\treturn arr;\r\n\t};\r\n}\r\n\r\n// CustomEvent is not supported in IE11\r\nif (typeof window.CustomEvent !== \"function\") {\r\n\tfunction CustomEvent(event, params) {\r\n\t\tparams = params || {bubbles: false, cancelable: false, detail: undefined};\r\n\t\tconst evt = document.createEvent(\"CustomEvent\");\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = window.Event.prototype;\r\n\twindow.CustomEvent = CustomEvent;\r\n}\r\n\r\n// support Element.matches() in IE and older Webkit\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches = Element.prototype.msMatchesSelector;\r\n}\r\n\r\nif (!NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}\r\n\r\nfunction camelise(prop) {\r\n\treturn prop.replace(/-([a-z])/gi, (text, letter) => letter.toUpperCase());\r\n}\r\n\r\nfunction dasherise(prop) {\r\n\treturn prop.replace(/[A-Z]/g, (letter) => \"-\" + letter.toLowerCase());\r\n}\r\n\r\nfunction filterNodes(dabby, filter, context, not) {\r\n\tlet func,\r\n\t\tnodes = dabby.nodeType ? [dabby] : Array.from(dabby);\r\n\r\n\t// sort out args\r\n\tif (typeof context === \"boolean\") {\r\n\t\tnot = context;\r\n\t\tcontext = null;\r\n\t}\r\n\r\n\t// function\r\n\tif ($.isFunction(filter)) {\r\n\t\tfunc = filter;\r\n\r\n\t// nodes\r\n\t} else {\r\n\r\n\t\t// normalise filters\r\n\t\tif (typeof(filter) === \"string\") {\r\n\t\t\tfilter = [filter];\r\n\t\t} else {\r\n\t\t\tfilter = Array.from($(filter, context));\r\n\t\t}\r\n\r\n\t\t// filter function\r\n\t\tfunc = (n, node) => {\r\n\t\t\tlet i = filter.length;\r\n\t\t\twhile (i--) {\r\n\t\t\t\tif (typeof(filter[i]) === \"string\" && node.matches ? node.matches(filter[i]) : node === filter[i]) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\t}\r\n\treturn nodes.filter((item, i) => func.call(item, i, item) !== Boolean(not), nodes);\r\n}\r\n\r\nfunction getEvents() {\r\n\treturn [\"focusin\", \"focusout\", \"focus\", \"blur\", \"resize\", \"scroll\", \"unload\", \"click\", \"dblclick\", \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"mouseenter\", \"mouseleave\", \"contextmenu\", \"change\", \"select\", \"keydown\", \"keypress\", \"keyup\", \"error\", \"submit\"];\r\n}\r\n\r\nfunction getProp(prop) {\r\n\tlet properties = {\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t\"class\": \"className\",\r\n\t\t\"tabindex\": \"tabIndex\",\r\n\t\t\"readonly\": \"readOnly\",\r\n\t\t\"maxlength\": \"maxLength\",\r\n\t\t\"cellspacing\": \"cellSpacing\",\r\n\t\t\"cellpadding\": \"cellPadding\",\r\n\t\t\"rowspan\": \"rowSpan\",\r\n\t\t\"colspan\": \"colSpan\",\r\n\t\t\"usemap\": \"useMap\",\r\n\t\t\"frameborder\": \"frameBorder\",\r\n\t\t\"contenteditable\": \"contentEditable\"\r\n\t};\r\n\tprop = prop.toLowerCase();\r\n\treturn properties[prop] || prop;\r\n}\r\n\r\nfunction getVal(val, obj, i) {\r\n\r\n\t// retrieve as function\r\n\tif ($.isFunction(val)) {\r\n\t\tval = val.apply(obj, Array.from(arguments).slice(2)); // pass extra arguments on\r\n\t}\r\n\treturn val;\r\n}\r\n\r\nfunction setCss(dabby, props, value) {\r\n\r\n\t// set vars\r\n\tlet name = props,\r\n\t\tkeys,\r\n\t\tk,\r\n\t\tremove;\r\n\r\n\t// normalise props\r\n\tif (typeof props === \"string\") {\r\n\t\tprops = {};\r\n\t\tprops[name] = value;\r\n\t}\r\n\r\n\t// cache properties for loop\r\n\tkeys = Object.keys(props);\r\n\tk = keys.length;\r\n\r\n\t// set properties\r\n\twhile (k--) {\r\n\t\tlet i = dabby.length;\r\n\t\twhile (i--) {\r\n\t\t\tlet val = props[keys[k]] === \"\" ? undefined : getVal(props[keys[k]], dabby[i], k, dabby[i].style[keys[k]]);\r\n\t\t\tif (typeof val === \"number\") {\r\n\t\t\t\tval += \"px\";\r\n\t\t\t}\r\n\t\t\tdabby[i].style[remove ? \"removeProperty\" : \"setProperty\"](dasherise(keys[k]), val);\r\n\t\t}\r\n\t}\r\n\treturn dabby;\r\n}\r\n\r\nconst dabby = function (selector, context) {\r\n\tlet nodes = [],\r\n\t\tmatch,\r\n\t\tobj;\r\n\r\n\t// enables new object to be created through $()\r\n\tif (!(this instanceof dabby)) {\r\n\t\treturn new dabby(selector, context);\r\n\r\n\t// if no selector, return empty colletion\r\n\t} else if (selector) {\r\n\r\n\t\t// $ collection\r\n\t\tif (selector instanceof dabby) {\r\n\t\t\treturn selector;\r\n\r\n\t\t// single node\r\n\t\t} else if (selector.nodeType || $.isWindow(selector)) {\r\n\t\t\tnodes = [selector];\r\n\r\n\t\t// ready function\r\n\t\t} else if ($.isFunction(selector)) {\r\n\t\t\tif (document.readyState !== \"loading\") {\r\n\t\t\t\tselector.call(document, $);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {selector.call(document, $);}, {once: true});\r\n\t\t\t}\r\n\r\n\t\t// array|NodeList|HTMLCollection of nodes\r\n\t\t} else if (typeof selector !== \"string\") {\r\n\t\t\tnodes = selector;\r\n\r\n\t\t// CSS selector\r\n\t\t} else if (selector.indexOf(\"<\") === -1) {\r\n\t\t\tcontext = context || document;\r\n\t\t\t$(context).each((i, obj) => {\r\n\t\t\t\tnodes = nodes.concat(Array.from(obj.querySelectorAll(selector)));\r\n\t\t\t});\r\n\r\n\t\t// create a single node and attach properties\r\n\t\t} else if ((match = selector.match(/^<([a-z0-9]+)(( ?\\/)?|><\\/\\1)>$/i)) !== null) {\r\n\t\t\tnodes.push(document.createElement(match[1]));\r\n\r\n\t\t\t// context is CSS attributes\r\n\t\t\tif (context instanceof Object) {\r\n\t\t\t\tobj = $(nodes);\r\n\t\t\t\t$.each(context, (prop, value) => {\r\n\t\t\t\t\tobj.attr(prop, value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t// parse HTML into nodes\r\n\t\t} else {\r\n\t\t\t//nodes = (context || doc).createRange().createContextualFragment(selector).childNodes; // not supported in iOS 9\r\n\t\t\tobj = document.createElement(\"template\");\r\n\t\t\tobj.innerHTML = selector;\r\n\t\t\tnodes = obj.content ? obj.content.children : obj.children;\r\n\t\t}\r\n\t}\r\n\r\n\t// build nodes\r\n\tthis.length = 0;\r\n\tArray.from(nodes).forEach(node => { // HTMLCollection objects don't support forEach\r\n\t\tif ([1, 9, 11].indexOf(node.nodeType) > -1 || $.isWindow(node)) { // only element, document, documentFragment and window\r\n\t\t\tthis[this.length++] = node;\r\n\t\t}\r\n\t});\r\n\treturn this;\r\n},\r\n\t$ = dabby; // alias in this scope\r\n\r\n// alias functions\r\ndabby.fn = dabby.prototype;\r\n\r\n$.each = (obj, callback) => {\r\n\tconst keys = Object.keys(obj),\r\n\t\tlen = keys.length;\r\n\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tif (callback.call(obj[keys[i]], keys[i], obj[keys[i]]) === false) {\r\n\t\t\tbreak; // stop if callback returns false\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n};\r\n\r\n$.ajax = (url, settings) => {\r\n\r\n\t// normalise args\r\n\tif (typeof url === \"object\") {\r\n\t\tsettings = url;\r\n\t} else {\r\n\t\tif (typeof settings !== \"object\") {\r\n\t\t\tsettings = {};\r\n\t\t}\r\n\t\tsettings.url = url;\r\n\t}\r\n\r\n\t// set default settings\r\n\tsettings = $.extend({\r\n\t\tmethod: \"GET\",\r\n\t\tcache: null, // start will null so we can see if explicitly set\r\n\t\tdata: null,\r\n\t\tdataType: null, // only changes behavior with json, jsonp, script\r\n\t\tprocessData: true,\r\n\t\tasync: true,\r\n\t\tcrossDomain: false,\r\n\t\tscriptCharset: null,\r\n\t\tjsonp: \"callback\",\r\n\t\tjsonpCallback: \"dabby\" + Date.now(),\r\n\t\theaders: {\r\n\t\t\t\"X-Requested-With\": \"XMLHttpRequest\",\r\n\t\t\t\"Content-Type\": settings.contentType || \"application/x-www-form-urlencoded; charset=UTF-8\"\r\n\t\t},\r\n\t\tcontext: null,\r\n\t\tstatusCode: {},\r\n\t\tusername: null,\r\n\t\tpassword: null\r\n\t}, settings);\r\n\r\n\t// determine datatype\r\n\tif (!settings.dataType && /\\.js($|\\?)/.test(settings.url)) {\r\n\t\tsettings.dataType = \"script\";\r\n\t}\r\n\r\n\tlet sync = [\"script\", \"jsonp\"].indexOf(settings.dataType) > -1,\r\n\t\tscript, xhr;\r\n\r\n\t// add cache buster\r\n\tif (settings.cache || (settings.cache === null && sync)) {\r\n\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + \"_=\" + (+new Date());\r\n\t}\r\n\r\n\t// add data to query string\r\n\tif (settings.data && settings.processData) {\r\n\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + (typeof settings.data === \"string\" ? settings.data : $.param(settings.data));\r\n\t}\r\n\r\n\t// fetch script\r\n\tif (sync || settings.crossDomain) {\r\n\t\tscript = document.createElement(\"script\");\r\n\t\tif (settings.scriptCharset) {\r\n\t\t\tscript.charset = settings.scriptCharset;\r\n\t\t}\r\n\r\n\t\t// add callback parameter\r\n\t\tif (settings.dataType === \"jsonp\") {\r\n\t\t\tsettings.url += (settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\") + settings.jsonp + \"=\" + settings.jsonpCallback;\r\n\t\t}\r\n\r\n\t\t// setup event callbacks\r\n\t\t$.each({\r\n\t\t\tload: \"success\",\r\n\t\t\terror: \"error\"\r\n\t\t}, (key, value) => {\r\n\t\t\tscript.addEventListener(key, () => {\r\n\t\t\t\tlet response = settings.dataType === \"jsonp\" ? window[settings.jsonpCallback] || null : null;\r\n\t\t\t\t[settings[value], settings.complete].forEach(callback => {\r\n\t\t\t\t\tif (callback) {\r\n\t\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [null, value] : [response, value]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tscript.src = settings.url;\r\n\t\tdocument.head.appendChild(script);\r\n\r\n\t// make xhr request\r\n\t} else {\r\n\t\tconst callback = (xhr, status) => {\r\n\t\t\tlet response = xhr.responseText,\r\n\t\t\t\tcallbacks = [];\r\n\r\n\t\t\t// parse JSON\r\n\t\t\tif ([\"json\", null].indexOf(settings.dataType) > -1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresponse = JSON.parse(response);\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// run callbacks\r\n\t\t\t[settings.statusCode[xhr.status], settings[status], settings.complete].forEach(callback => {\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tcallback.apply(settings.context, callback === settings.complete ? [xhr, status] : [response, status, xhr]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// create XHR object\r\n\t\txhr = new XMLHttpRequest();\r\n\t\txhr.open(settings.method, settings.url, settings.async);\r\n\r\n\t\t// add authoisation header\r\n\t\tif (settings.username) {\r\n\t\t\tsettings.headers.Authorization = btoa(settings.username + \":\" + settings.password);\r\n\t\t}\r\n\r\n\t\t// headers\r\n\t\t$.each(settings.headers, (key, value) => {\r\n\t\t\txhr.setRequestHeader(key, value);\r\n\t\t});\r\n\r\n\t\t// callbacks\r\n\t\txhr.onload = () => {\r\n\t\t\tconst types = {\r\n\t\t\t\t200: \"success\",\r\n\t\t\t\t204: \"nocontent\",\r\n\t\t\t\t304: \"notmodified\"\r\n\t\t\t};\r\n\t\t\tcallback(xhr, types[xhr.status] || \"error\");\r\n\t\t};\r\n\t\txhr.ontimeout = () => {\r\n\t\t\tcallback(xhr, \"timeout\");\r\n\t\t};\r\n\t\txhr.onabort = () => {\r\n\t\t\tcallback(xhr, \"abort\");\r\n\t\t};\r\n\t\txhr.send(settings.processData ? undefined : settings.data);\r\n\t\treturn xhr;\r\n\t}\r\n};\r\n\r\n$.get = (url, data, success, type) => {\r\n\tconst isFunc = data && $.isFunction(data);\r\n\treturn $.ajax(typeof(url) === \"object\" ? url : {\r\n\t\turl: url,\r\n\t\tdata: isFunc ? {} : data,\r\n\t\tsuccess: isFunc ? data : success,\r\n\t\tdataType: isFunc ? success : type\r\n\t});\r\n};\r\n\r\n$.getScript = (url, success) => $.ajax({\r\n\turl: url,\r\n\tdataType: \"script\",\r\n\tsuccess: success\r\n});\r\n\r\n$.fn.load = function (url, data, success) {\r\n\tif (this[0]) {\r\n\r\n\t\t// get selector from URL\r\n\t\tconst [uri, selector] = url.split(\" \", 2);\r\n\r\n\t\t// check for data\r\n\t\tif ($.isFunction(data)) {\r\n\t\t\tsuccess = data;\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\r\n\t\t// make AJAX request\r\n\t\t$.ajax(uri, {\r\n\t\t\tdata: data,\r\n\t\t\ttype: data instanceof Object ? \"POST\" : \"GET\",\r\n\t\t\tsuccess: (response, status, xhr) => {\r\n\r\n\t\t\t\t// if a selector is specified, find it in the returned document\r\n\t\t\t\tlet html = \"\",\r\n\t\t\t\t\ti = this.length;\r\n\r\n\t\t\t\t// refine by selector if supplied\r\n\t\t\t\tif (selector) {\r\n\t\t\t\t\t$(response).filter(selector).each((key, obj) => {\r\n\t\t\t\t\t\thtml += obj.outerHTML;\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\thtml = response;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set HTML to nodes in collection\r\n\t\t\t\twhile (i--) {\r\n\t\t\t\t\tthis[i].innerHTML = html;\r\n\r\n\t\t\t\t\t// fire success callback on nodes\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tsuccess.call(this[i], response, status, xhr);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.param = obj => {\r\n\tlet params = [],\r\n\t\tadd = (key, value, params) => {\r\n\t\t\tlet isArr = $.isArray(value);\r\n\t\t\tif (isArr || typeof value === \"object\") {\r\n\t\t\t\t$.each(value, (i, val) => {\r\n\t\t\t\t\tparams = add(key + \"[\" + (isArr ? \"\" : i) + \"]\", val, params);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tparams.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\r\n\t\t\t}\r\n\t\t\treturn params;\r\n\t\t};\r\n\r\n\t// process values\r\n\t$.each(obj, (key, item) => {\r\n\t\tparams = add(key, item, params);\r\n\t});\r\n\treturn params.join(\"&\");\r\n};\r\n\r\n$.get = (url, data, success, type) => {\r\n\tconst isFunc = $.isFunction(data);\r\n\tlet settings = typeof(url) === \"object\" ? url : {\r\n\t\turl: url,\r\n\t\tdata: isFunc ? {} : data,\r\n\t\tsuccess: isFunc ? data : success,\r\n\t\tdataType: isFunc ? success : type\r\n\t};\r\n\tsettings.type = \"POST\";\r\n\treturn $.ajax(settings);\r\n};\r\n\r\n$.fn.serialize = function () {\r\n\tconst selector = \"input[name]:not([type=file]):not([type=submit]),textarea[name],select[name]\",\r\n\t\tobj = this.is(selector) ? this.filter(selector) : $(selector, this),\r\n\t\tadd = (name, value, params) => {\r\n\t\t\tlet match;\r\n\r\n\t\t\tif ((match = name.match(/([^\\[]*)\\[([^\\]]*)\\](.*)/)) !== null) {\r\n\t\t\t\tname = match[1];\r\n\t\t\t\tlet arr = add(match[2] + match[3], value, params[name] || {});\r\n\t\t\t\tvalue = arr;\r\n\t\t\t}\r\n\r\n\t\t\tif (name !== \"\") {\r\n\t\t\t\tparams[name] = value;\r\n\t\t\t} else {\r\n\t\t\t\tif (!$.isArray(params)) {\r\n\t\t\t\t\tparams = [];\r\n\t\t\t\t}\r\n\t\t\t\tparams = params.concat($.isArray(value) ? value : [value]);\r\n\t\t\t}\r\n\t\t\treturn params;\r\n\t\t};\r\n\r\n\tlet params = {};\r\n\r\n\t// process values\r\n\tobj.each((key, obj) => {\r\n\t\tconst value = $(obj).val();\r\n\t\tif (!obj.disabled && value !== undefined) {\r\n\t\t\tparams = add(obj.getAttribute(\"name\"), value, params);\r\n\t\t}\r\n\t});\r\n\treturn $.param(params);\r\n};\r\n\r\n$.fn.attr = function (prop, value) {\r\n\tlet isArr = $.isArray(prop),\r\n\t\ti,\r\n\t\tevents,\r\n\t\tarr = {};\r\n\r\n\t// set properties\r\n\tif (isArr || value || value === null) {\r\n\t\ti = this.length,\r\n\t\tevents = getEvents();\r\n\r\n\t\t// normalise to array\r\n\t\tif (!isArr) {\r\n\t\t\tarr[prop] = value;\r\n\t\t\tprop = arr;\r\n\t\t}\r\n\r\n\t\twhile (i--) {\r\n\t\t\t$.each(prop, (key, val) => {\r\n\t\t\t\tif (events.indexOf(key) > -1) {\r\n\t\t\t\t\t$(this[i]).on(key, val);\r\n\t\t\t\t} else if (key === \"style\") {\r\n\t\t\t\t\tthis[i].style.cssText = val;\r\n\t\t\t\t} else if (key === \"class\") {\r\n\t\t\t\t\tthis[i].className = val;\r\n\t\t\t\t} else if (key === \"text\") {\r\n\t\t\t\t\tthis[i].textContent = val;\r\n\t\t\t\t} else if (value === null) {\r\n\t\t\t\t\tthis[i].removeAttribute(key);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis[i].setAttribute(key, val);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// retrieve properties\r\n\t} else if (this[0]) {\r\n\t\tif (prop === \"style\") {\r\n\t\t\treturn this[0].style.cssText;\r\n\t\t}\r\n\t\tif (prop === \"class\") {\r\n\t\t\treturn this[0].className;\r\n\t\t}\r\n\t\treturn this[0].getAttribute(prop);\r\n\t}\r\n};\r\n\r\n[\"addClass\", \"removeClass\", \"toggleClass\"].forEach(name => {\r\n\t$.fn[name] = function (cls) {\r\n\r\n\t\t// remove \"Class\" from name for classList method\r\n\t\tlet func = name.substr(0, name.length - 5),\r\n\t\t\ti = this.length;\r\n\r\n\t\t// manage classes on nodes\r\n\t\twhile (i--) {\r\n\t\t\tlet arr = getVal(cls, this[i], i, this[i].className);\r\n\t\t\tif (typeof arr === \"string\") {\r\n\t\t\t\tarr = arr.split(\" \").reverse(); // reverse as we add them backwards\r\n\t\t\t} else {\r\n\t\t\t\tarr = arr.reverse();\r\n\t\t\t}\r\n\t\t\tlet n = arr.length;\r\n\t\t\twhile (n--) {\r\n\t\t\t\tthis[i].classList[func](arr[n]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.fn.css = function (props, value) {\r\n\r\n\t// set the values\r\n\tif (value !== undefined || $.isPlainObject(props)) {\r\n\t\treturn setCss(this, props, value);\r\n\r\n\t// retrieve value from first property\r\n\t} else if (this[0]) {\r\n\t\tlet name = props,\r\n\t\t\ti,\r\n\t\t\tstyle = getComputedStyle(this[0], \"\"),\r\n\t\t\toutput = {},\r\n\t\t\tret = false;\r\n\r\n\t\tif (typeof name === \"string\") {\r\n\t\t\tprops = [name];\r\n\t\t\tret = true;\r\n\t\t}\r\n\t\ti = props.length;\r\n\t\twhile (i--) {\r\n\t\t\toutput[props[i]] = style.getPropertyValue(dasherise(props[i]));\r\n\t\t\tif (ret) {\r\n\t\t\t\treturn output[props[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n};\r\n\r\n$.fn.data = function (name, data) {\r\n\r\n\t// convert data to object\r\n\tif (typeof name === \"object\") {\r\n\t\tdata = name;\r\n\t} else if (data !== undefined) {\r\n\t\tlet temp = {};\r\n\t\ttemp[name] = data;\r\n\t\tdata = temp;\r\n\t}\r\n\r\n\t// set value\r\n\tif (data !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\t$.each(data, (key, value) => {\r\n\t\t\t\tthis[i].dataset[camelise(key)] = typeof value === \"object\" ? JSON.stringify(value) : value;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get value\r\n\t} else if (this[0] && this[0].dataset) {\r\n\t\tlet parse = value => {\r\n\t\t\ttry {\r\n\t\t\t\treturn JSON.parse(value);\r\n\t\t\t} catch (e) {\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// all properties\r\n\t\tif (name === undefined) {\r\n\t\t\tlet arr = {};\r\n\t\t\t$.each(this[0].dataset, (key, value) => {\r\n\t\t\t\tarr[key] = parse(value);\r\n\t\t\t});\r\n\t\t\treturn arr;\r\n\r\n\t\t// retrieve specific property\r\n\t\t} else {\r\n\t\t\tname = camelise(name);\r\n\t\t\tif (this[0].dataset.hasOwnProperty(name)) {\r\n\t\t\t\treturn parse(this[0].dataset[name]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$.fn.hasClass = function (cls) {\r\n\tlet i = this.length;\r\n\twhile (i--) {\r\n\t\tif (this[i].classList.contains(cls)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n$.fn.prop = function (prop, value) {\r\n\tprop = getProp(prop);\r\n\r\n\t// set\r\n\tif (value !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\tthis[i][prop] = value;\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\treturn this[0][prop];\r\n\t}\r\n};\r\n\r\n$.fn.removeProp = function (prop) {\r\n\tlet i = this.length;\r\n\tprop = getProp(prop);\r\n\r\n\twhile (i--) {\r\n\t\tdelete this[i][prop];\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.val = function (value) {\r\n\r\n\t// set value\r\n\tif (value !== undefined) {\r\n\t\tlet i = this.length,\r\n\t\t\tval;\r\n\t\twhile (i--) {\r\n\t\t\tif (this[i].multiple) {\r\n\t\t\t\tval = $.map(\r\n\t\t\t\t\t$.isArray(value) ? value : [value],\r\n\t\t\t\t\titem => String(item)\r\n\t\t\t\t);\r\n\t\t\t\t$(\"option\", this[i]).each((key, obj) => {\r\n\t\t\t\t\tobj.selected = val.indexOf(String(obj.value)) > -1;\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis[i].value = String(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// read value from first node\r\n\t} else if (this[0]) {\r\n\r\n\t\t// get multiple values\r\n\t\tif (this[0].multiple) {\r\n\t\t\tlet values = [];\r\n\t\t\t$(\"option\", this[0]).each((key, obj) => {\r\n\t\t\t\tif (obj.selected) {\r\n\t\t\t\t\tvalues.push(String(obj.value));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn values;\r\n\r\n\t\t// get radio box value\r\n\t\t} else if (this[0].type === \"radio\") {\r\n\t\t\tlet obj = this.filter(\"[name='\" + this[0].name + \"']:checked\")[0];\r\n\t\t\treturn obj ? String(obj.value) : undefined;\r\n\r\n\t\t// get single value\r\n\t\t} else if (this[0].type !== \"checkbox\" || this[0].checked) {\r\n\t\t\treturn String(this[0].value);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n$.fn.each = function (callback) {\r\n\t$.each(Array.from(this), callback);\r\n\treturn this;\r\n};\r\n\r\n$.fn.get = function (i) {\r\n\treturn i === undefined ? Array.from(this) : this[i >= 0 ? i : i + this.length];\r\n};\r\n\r\n$.fn.map = function (callback) {\r\n\tconst len = this.length;\r\n\tlet values = [],\r\n\t\ti = 0;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tvalues.push(callback.call(this[i], i, this[i]));\r\n\t}\r\n\treturn values;\r\n};\r\n\r\n$.fn.offset = function (coords) {\r\n\tconst doc = document.documentElement;\r\n\tlet rect,\r\n\t\ti = this.length,\r\n\t\tpos,\r\n\t\tparent;\r\n\r\n\t// set\r\n\tif (coords) {\r\n\t\twhile (i--) {\r\n\r\n\t\t\t// if coords is callback, generate value\r\n\t\t\trect = this[i].getBoundingClientRect();\r\n\t\t\tcoords = getVal(coords, i, rect);\r\n\r\n\t\t\tif (coords.top !== undefined && coords.left !== undefined) {\r\n\r\n\t\t\t\t// set position relative if static\r\n\t\t\t\tpos = this[i].style.position || \"static\";\r\n\t\t\t\tif (pos === \"static\") {\r\n\t\t\t\t\tthis[i].style.position = \"relative\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// set offset\r\n\t\t\t\tthis[i].style.top = (parseFloat(coords.top) - (pos === \"fixed\" ? 0 : doc.scrollTop + rect.top)) + \"px\";\r\n\t\t\t\tthis[i].style.left = (parseFloat(coords.left) - (pos === \"fixed\" ? 0 : doc.scrollLeft + rect.left)) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\tpos = this[0].style.position;\r\n\t\trect = this[0].getBoundingClientRect();\r\n\t\treturn {\r\n\t\t\ttop: rect.top - (pos === \"fixed\" ? 0 : doc.scrollTop),\r\n\t\t\tleft: rect.left - (pos === \"fixed\" ? 0 : doc.scrollLeft)\r\n\t\t};\r\n\t}\r\n};\r\n\r\n$.fn.offsetParent = function () {\r\n\treturn $(this[0] ? this[0].offsetParent : null);\r\n};\r\n\r\n$.fn.position = function () {\r\n\tif (this[0]) {\r\n\t\treturn {left: this[0].offsetLeft, top: this[0].offsetTop};\r\n\t}\r\n};\r\n\r\n[\"scrollLeft\", \"scrollTop\"].forEach(item => {\r\n\t$.fn[item] = function (pos) {\r\n\r\n\t\t// set\r\n\t\tif (pos !== undefined) {\r\n\t\t\tlet i = this.length;\r\n\t\t\twhile (i--) {\r\n\t\t\t\tthis[i][item] = pos;\r\n\t\t\t};\r\n\t\t\treturn this;\r\n\r\n\t\t// get\r\n\t\t} else if (this[0]) {\r\n\t\t\treturn this[0][item];\r\n\t\t}\r\n\t};\r\n});\r\n\r\n[\"width\", \"height\", \"innerWidth\", \"innerHeight\", \"outerWidth\", \"outerHeight\"].forEach(dim => {\r\n\r\n\tconst getAdditionalLength = (obj, wh, props) => {\r\n\t\tconst style = getComputedStyle(obj);\r\n\t\tlet i = props.length,\r\n\t\t\tvalue = 0,\r\n\t\t\tsuffix;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tsuffix = props[i] === \"border\" ? \"-width\" : \"\";\r\n\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-left\" : \"-top\") + suffix)) || 0;\r\n\t\t\tvalue += parseFloat(style.getPropertyValue(props[i] + (wh === \"width\" ? \"-right\" : \"-bottom\") + suffix)) || 0;\r\n\t\t}\r\n\t\treturn value;\r\n\t};\r\n\r\n\t$.fn[dim] = function (val) {\r\n\t\tconst valtype = typeof(val),\r\n\t\t\twh = dim.toLowerCase().indexOf(\"width\") > -1 ? \"width\" : \"height\", // width or height\r\n\t\t\tio = dim.indexOf(\"inner\") > -1 ? \"inner\" : (dim.indexOf(\"outer\") > -1 ? \"outer\" : \"\"); // inner outer or neither\r\n\t\tlet i = this.length,\r\n\t\t\tvalue,\r\n\t\t\twhu,\r\n\t\t\tprops,\r\n\t\t\tparam;\r\n\r\n\t\t// set value\r\n\t\tif (val !== undefined && valtype !== \"boolean\") {\r\n\t\t\twhile (i--) {\r\n\t\t\t\tvalue = getVal(val, this[i], i);\r\n\t\t\t\tif (io) {\r\n\t\t\t\t\tprops = [\"padding\"];\r\n\t\t\t\t\tif (io === \"outer\") {\r\n\t\t\t\t\t\tprops.push(\"border\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue -= getAdditionalLength(this[i], wh, props);\r\n\t\t\t\t}\r\n\t\t\t\tif (!isNaN(val)) {\r\n\t\t\t\t\tvalue += \"px\";\r\n\t\t\t\t}\r\n\t\t\t\tthis[i].style[wh] = value;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\r\n\t\t// get value\r\n\t\t} else if (this[0]) {\r\n\t\t\twhu = wh === \"width\" ? \"Width\" : \"Height\";\r\n\r\n\t\t\t// document\r\n\t\t\tif (this[0].nodeType === Node.DOCUMENT_NODE) {\r\n\t\t\t\treturn this[0].documentElement[\"scroll\" + whu];\r\n\r\n\t\t\t// element\r\n\t\t\t} else if (!$.isWindow(this[0])) {\r\n\t\t\t\tparam = io === \"outer\" ? \"offset\" : \"client\";\r\n\t\t\t\tvalue = this[0][param + whu];\r\n\r\n\t\t\t\t// add padding on, or if outer and margins requested, add margins on\r\n\t\t\t\tif (io === \"\" || (io === \"outer\" && val === true)) {\r\n\t\t\t\t\tvalue -= getAdditionalLength(this[0], wh, [io === \"\" ? \"padding\" : \"margin\"]);\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\r\n\t\t\t// window\r\n\t\t\t} else if (io === \"inner\") {\r\n\t\t\t\treturn this[0].document.documentElement[\"client\" + whu];\r\n\t\t\t} else {\r\n\t\t\t\treturn this[0][\"inner\" + whu];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});\r\n\r\ngetEvents().forEach(event => {\r\n\t$.fn[event] = function (data, callback) {\r\n\t\treturn data ? this.on(event, data, callback) : this.trigger(event);\r\n\t};\r\n});\r\n\r\n// add and remove event handlers\r\n[\"on\", \"one\", \"off\"].forEach(name => {\r\n\t$.fn[name] = function (events, selector, data, callback) {\r\n\t\tlet i = this.length,\r\n\t\t\tfn= function (evt) { // delegate function\r\n\t\t\t\tlet target = [this];\r\n\t\t\t\tif (selector) {\r\n\t\t\t\t\tlet t = $(evt.target);\r\n\t\t\t\t\ttarget = t.add(t.parents(selector)).get(); // is the selector in the targets parents?\r\n\t\t\t\t\ttarget = t.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t\tif (target) {\r\n\t\t\t\t\tif (data) { // set data to event object\r\n\t\t\t\t\t\tevt.data = data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (let i = 0, len = target.length; i < len; i++) {\r\n\t\t\t\t\t\tif (callback.call(target[i], evt, evt.args) === false) {\r\n\t\t\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t\t\tevt.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tevents = events.split(\" \");\r\n\r\n\t\t// sort out args\r\n\t\tif ($.isFunction(selector)) {\r\n\t\t\tcallback = selector;\r\n\t\t\tselector = null;\r\n\t\t} else if ($.isFunction(data)) {\r\n\t\t\tcallback = data;\r\n\t\t\tdata = null;\r\n\t\t}\r\n\r\n\t\t// attach event\r\n\t\twhile (i--) {\r\n\t\t\tlet e = events.length;\r\n\r\n\t\t\t// record the original function\r\n\t\t\tif (name !== \"off\") {\r\n\t\t\t\tif (!this[i].events) {\r\n\t\t\t\t\tthis[i].events = [];\r\n\t\t\t\t}\r\n\t\t\t\tthis[i].events.push({\r\n\t\t\t\t\tevents: events,\r\n\t\t\t\t\tcallback: callback,\r\n\t\t\t\t\tselector: selector,\r\n\t\t\t\t\tfunc: fn,\r\n\t\t\t\t\tonce: name === \"one\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// trigger\r\n\t\t\t\twhile (e--) {\r\n\t\t\t\t\tthis[i].addEventListener(events[e], fn, {once: name === \"one\", capture: !!selector});\r\n\t\t\t\t}\r\n\r\n\t\t\t// find the original function\r\n\t\t\t} else if (this[i].events.length) {\r\n\t\t\t\twhile (e--) {\r\n\t\t\t\t\tthis[i].events.forEach((evt, n) => {\r\n\t\t\t\t\t\tconst index = evt.events.indexOf(events[e]);\r\n\t\t\t\t\t\tif (index !== -1 && evt.callback === callback && evt.selector === selector) {\r\n\t\t\t\t\t\t\tthis[i].removeEventListener(events[e], evt.func, {once: this[i].events[n].once, capture: !!this[i].events[n].selector}); // must pass same arguments\r\n\t\t\t\t\t\t\tthis[i].events[n].events.splice(index, 1); // remove event\r\n\t\t\t\t\t\t\tif (!this[i].events[n].events.length) { // if empty, remove event entirely\r\n\t\t\t\t\t\t\t\tthis[i].events.splice(n, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.fn.trigger = function (name, data) {\r\n\tconst evt = new CustomEvent(name, {bubbles: true, cancelable: true});\r\n\tlet i = this.length;\r\n\r\n\t// copy extra data to event object\r\n\tif (data) {\r\n\t\tevt.args = data;\r\n\t}\r\n\twhile (i--) {\r\n\t\tthis[i].dispatchEvent(evt);\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.clone = function () {\r\n\tlet nodes = [],\r\n\t\ti = this.length;\r\n\r\n\twhile (i--) {\r\n\t\tnodes[i] = this[i].cloneNode(true);\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.empty = function () {\r\n\tlet i = this.length;\r\n\twhile (i--) {\r\n\t\tthis[i].innerHTML = \"\";\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.html = function (html) {\r\n\r\n\t// set\r\n\tif (html !== undefined) {\r\n\t\tlet i = this.length;\r\n\t\twhile (i--) {\r\n\t\t\tthis[i].innerHTML = getVal(html, this[i], i);\r\n\t\t}\r\n\t\treturn this;\r\n\r\n\t// get\r\n\t} else if (this[0]) {\r\n\t\treturn this[0].innerHTML;\r\n\t}\r\n};\r\n\r\n$.each({\r\n\tbefore: \"beforeBegin\",\r\n\tprepend: \"afterBegin\",\r\n\tappend: \"beforeEnd\",\r\n\tafter: \"afterEnd\"\r\n}, (name, pos) => {\r\n\t$.fn[name] = function (html) {\r\n\t\tconst pre = [\"before\", \"prepend\"].indexOf(name) > -1,\r\n\t\t\tisFunc = $.isFunction(html);\r\n\t\tlet i = this.length,\r\n\t\t\telems = $();\r\n\r\n\t\tif (!isFunc) { // multiple arguments containing nodes?\r\n\t\t\t$.each(arguments, (i, arg) => {\r\n\t\t\t\telems.add(arg);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\twhile (i--) {\r\n\t\t\tif (isFunc) {\r\n\t\t\t\telems = $(getVal(html, this[i], i, this[i].innerHTML));\r\n\t\t\t}\r\n\t\t\tlet backwards = elems.length, // for counting down\r\n\t\t\t\tforwards = -1; // for counting up\r\n\t\t\twhile (pre ? backwards-- : ++forwards < backwards) { // insert forwards or backwards?\r\n\t\t\t\tlet obj = elems[pre ? backwards : forwards];\r\n\r\n\t\t\t\t// clone if i !== 0\r\n\t\t\t\tif (i) {\r\n\t\t\t\t\tobj = obj.cloneNode(true);\r\n\t\t\t\t}\r\n\t\t\t\tthis[i].insertAdjacentElement(pos, obj);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n$.each({\r\n\tinsertBefore: \"before\",\r\n\tprependTo: \"prepend\",\r\n\tappendTo: \"append\",\r\n\tinsertAfter: \"after\"\r\n}, (name, func) => {\r\n\t$.fn[name] = function (selector) {\r\n\t\tlet i = this.length,\r\n\t\t\tobj = $(selector);\r\n\r\n\t\twhile (i--) {\r\n\t\t\tobj[func](this[i]);\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n});\r\n\r\n[\"remove\", \"detach\"].forEach(func => {\r\n\t$.fn[func] = function (selector) {\r\n\t\tlet i = this.length,\r\n\t\t\tnodes = [],\r\n\t\t\tobj = [];\r\n\r\n\t\t// detach selected nodes\r\n\t\twhile (i--) {\r\n\t\t\tif (!selector || filterNodes(this[i], selector).length) {\r\n\t\t\t\tnodes.push(this[i].parentNode.removeChild(this[i]));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// create a new dabby object to return\r\n\t\treturn func === \"detach\" ? $(nodes) : this;\r\n\t};\r\n});\r\n\r\n$.fn.slice = function (start, end) {\r\n\treturn $(this.get().slice(start, end));\r\n};\r\n\r\n$.fn.text = function (text) {\r\n\tconst get = text === undefined;\r\n\tlet len = this.length,\r\n\t\toutput = [],\r\n\t\ti = 0;\r\n\tfor (; i < len; i++) {\r\n\t\tif (get) {\r\n\t\t\toutput.push(this[i].textContent);\r\n\t\t} else {\r\n\t\t\tthis[i].textContent = getVal(text, this[i], i);\r\n\t\t}\r\n\t}\r\n\treturn get ? output.join(\" \") : this;\r\n};\r\n\r\n$.fn.unwrap = function (selector) {\r\n\tthis.parent(selector).not(\"body\").each((key, obj) => {\r\n\t\tconst parent = obj.parentNode;\r\n\r\n\t\t$(obj.children).each((i, node) => {\r\n\t\t\tparent.insertBefore(node, obj);\r\n\t\t});\r\n\t\tparent.removeChild(obj);\r\n\t});\r\n\treturn this;\r\n};\r\n\r\n$.fn.wrap = function (html) {\r\n\tlet i = this.length;\r\n\r\n\twhile (i--) {\r\n\t\t$(this[i]).wrapAll(getVal(html, this[i], i));\r\n\t}\r\n\treturn this;\r\n}\r\n\r\n$.fn.wrapAll = function (html) {\r\n\tif (this[0]) {\r\n\r\n\t\t// set variables\r\n\t\tlet len = this.length,\r\n\t\t\ti = 0,\r\n\t\t\tnode = $(getVal(html, this[0]))[0].cloneNode(true);\r\n\r\n\t\t// insert clone into parent\r\n\t\tthis[0].parentNode.insertBefore(node, null);\r\n\r\n\t\t// find innermost child of node\r\n\t\twhile (node.firstElementChild) {\r\n\t\t\tnode = node.firstElementChild;\r\n\t\t}\r\n\r\n\t\t// attach nodes to the new node\r\n\t\tfor (; i < len; i++) {\r\n\t\t\tnode.appendChild(this[i]);\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n}\r\n\r\n$.fn.add = function (nodes, context) {\r\n\tnodes = $(nodes, context);\r\n\tlet len = this.length,\r\n\t\ti = nodes.length;\r\n\r\n\tthis.length += i;\r\n\twhile (i--) {\r\n\t\tthis[i + len] = nodes[i];\r\n\t}\r\n\treturn this;\r\n};\r\n\r\n$.fn.children = function (selector) {\r\n\tlet nodes = [],\r\n\t\ti = this.length;\r\n\r\n\twhile (i--) {\r\n\t\tnodes = nodes.concat(Array.from(this[i].children));\r\n\t}\r\n\r\n\t// filter nodes by selector\r\n\tif (selector) {\r\n\t\tnodes = filterNodes(nodes, selector);\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.closest = function (selector, context) {\r\n\tlet i = this.length,\r\n\t\tnodes = [],\r\n\t\tparents,\r\n\t\tnode;\r\n\r\n\twhile (i--) {\r\n\t\tparents = [];\r\n\t\tnode = this[i];\r\n\t\twhile (node) {\r\n\t\t\tparents.push(node);\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\tparents = filterNodes(parents, selector, context);\r\n\t\tif (parents[0]) {\r\n\t\t\tnodes.push(parents[0]);\r\n\t\t}\r\n\t}\r\n\treturn $(nodes);\r\n};\r\n\r\n$.fn.eq = function (i) {\r\n\tlet key = i < 0 ? i + this.length : i;\r\n\treturn $(this[key] || null);\r\n};\r\n\r\n[\"filter\", \"not\"].forEach(name => {\r\n\t$.fn[name] = function (selector) {\r\n\t\treturn $(filterNodes(this, selector, name === \"not\"));\r\n\t};\r\n});\r\n\r\n$.fn.find = function (selector) {\r\n\treturn $(selector, this);\r\n};\r\n\r\n$.fn.first = function () {\r\n\treturn $(this[0]);\r\n};\r\n\r\n$.fn.has = function (selector) {\r\n\treturn $(this.get().filter(node => !!$(selector, node).length));\r\n};\r\n\r\n$.fn.index = function (selector) {\r\n\tlet index = -1;\r\n\r\n\tif (this[0]) {\r\n\t\tlet nodes,\r\n\t\t\tsubject = this[0],\r\n\t\t\ttype = typeof selector,\r\n\t\t\ti;\r\n\r\n\t\t// if no selector, match against first elements siblings\r\n\t\tif (type === \"undefined\") {\r\n\t\t\tnodes = this[0].parentNode.children;\r\n\r\n\t\t// if selector is string, match first node in current collection against resulting collection\r\n\t\t} else if (type === \"string\") {\r\n\t\t\tnodes = $(selector);\r\n\r\n\t\t// if element or collection match the element or first node against current collection\r\n\t\t} else {\r\n\t\t\tnodes = this;\r\n\t\t\tsubject = $(selector)[0];\r\n\t\t}\r\n\r\n\t\ti = nodes.length;\r\n\t\twhile (i--) {\r\n\t\t\tif (nodes[i] === subject) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn index;\r\n};\r\n\r\n$.fn.is = function (selector) {\r\n\treturn !!filterNodes(this, selector).length;\r\n};\r\n\r\n$.fn.last = function () {\r\n\treturn this.eq(-1);\r\n};\r\n\r\n[\"next\", \"nextAll\", \"nextUntil\", \"prev\", \"prevAll\", \"prevUntil\"].forEach(func => {\r\n\t$.fn[func] = function (selector, filter) {\r\n\t\tconst next = func.indexOf(\"next\") > -1,\r\n\t\t\tall = func.indexOf(\"All\") > -1,\r\n\t\t\tuntil = func.indexOf(\"Until\") > -1,\r\n\t\t\tmethod = next ? \"nextElementSibling\" : \"previousElementSibling\";\r\n\t\tlet nodes = [],\r\n\t\t\ti = this.length,\r\n\t\t\tsibling;\r\n\r\n\t\t// look through each node and get siblings\r\n\t\twhile (i--) {\r\n\t\t\tsibling = this[i][method];\r\n\t\t\twhile (sibling) {\r\n\t\t\t\tnodes.push(sibling);\r\n\t\t\t\tif (all || (until && filterNodes(sibling, selector).length)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsibling = sibling[method];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// swap args for *Until methods\r\n\t\tif (until) {\r\n\t\t\tselector = filter;\r\n\t\t}\r\n\r\n\t\t// filter siblings by selector\r\n\t\tif (selector) {\r\n\t\t\tnodes = filterNodes(nodes, selector);\r\n\t\t}\r\n\r\n\t\t// return new collection\r\n\t\treturn $(nodes);\r\n\t};\r\n});\r\n\r\n[\"parent\", \"parents\", \"parentsUntil\"].forEach(func => {\r\n\t$.fn[func] = function (selector, filter) {\r\n\t\tconst all = func.indexOf(\"s\") > -1,\r\n\t\t\tuntil = func.indexOf(\"U\") > -1;\r\n\t\tlet nodes = [],\r\n\t\t\ti = this.length,\r\n\t\t\tparent;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tparent = this[i].parentNode;\r\n\t\t\twhile (parent && parent.nodeType === Node.ELEMENT_NODE) {\r\n\t\t\t\tnodes.push(parent);\r\n\t\t\t\tif (!all || (until && filterNodes(parent, selector).length)) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (selector) {\r\n\t\t\tnodes = filterNodes(nodes, selector);\r\n\t\t}\r\n\t\treturn $(nodes);\r\n\t}\r\n});\r\n\r\n$.fn.siblings = function (selector) {\r\n\tlet i = this.length,\r\n\t\tnodes = [];\r\n\r\n\twhile (i--) {\r\n\t\tArray.from(this[i].parentNode.children).forEach(child => {\r\n\t\t\tif (child !== this[i]) {\r\n\t\t\t\tnodes.push(child);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\treturn $(selector ? filterNodes(nodes, selector) : nodes);\r\n};\r\n\r\n$.extend = (obj, ...arrs) => {\r\n\tconst len = arrs.length;\r\n\tlet i = 0,\r\n\t\tkeys,\r\n\t\tk;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tkeys = Object.keys(arrs[i]);\r\n\t\tk = keys.length;\r\n\t\twhile (k--) {\r\n\t\t\tobj[keys[k]] = arrs[i][keys[k]];\r\n\t\t}\r\n\t}\r\n\treturn obj;\r\n};\r\n\r\n$.isArray = arr => Array.isArray(arr);\r\n\r\n$.isFunction = func => func && func.constructor === Function;\r\n\r\n$.isPlainObject = obj => {\r\n\t\r\n\t// Basic check for Type object that's not null\r\n\tif (typeof obj === \"object\" && obj !== null) {\r\n\r\n\t\t// If Object.getPrototypeOf supported, use it\r\n\t    if (typeof Object.getPrototypeOf == 'function') {\r\n\t\t\tlet proto = Object.getPrototypeOf(obj);\r\n\t\t\treturn proto === Object.prototype || proto === null;\r\n\t    }\r\n\r\n\t    // Otherwise, use internal class\r\n\t    // This should be reliable as if getPrototypeOf not supported, is pre-ES5\r\n\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\";\r\n \t}\r\n\r\n \t// Not an object\r\n\treturn false;\r\n};\r\n\r\n$.isWindow = obj => obj !== null && obj === obj.window;\r\n\r\n$.map = (obj, callback) => {\r\n\tconst keys = Object.keys(obj),\r\n\t\tlen = keys.length;\r\n\tlet arr = [],\r\n\t\ti = 0,\r\n\t\tresult;\r\n\r\n\tfor (; i < len; i++) {\r\n\t\tresult = callback.call(window, obj[keys[i]], keys[i])\r\n\t\tif (![null, undefined].indexOf(result) > -1) {\r\n\t\t\tarr.push(result);\r\n\t\t}\r\n\t}\r\n\treturn arr;\r\n};\r\nreturn dabby;}));\n//# sourceMappingURL=dabby.es5.js.map"]}