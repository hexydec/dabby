{"version":3,"sources":["dabby.es5.js"],"names":["global","factory","exports","module","define","amd","$","Array","from","arrayLike","mapFn","thisArg","arr","slice","call","map","window","CustomEvent","CustomEvent$1","event","params","bubbles","cancelable","detail","undefined","evt","document","createEvent","initCustomEvent","prototype","Event","Element","matches","msMatchesSelector","NodeList","forEach","callback","i","length","Object","assign","defineProperty","value","target","varArgs","TypeError","to","index","arguments","nextSource","nextKey","hasOwnProperty","writable","configurable","dabby","selector","context","filter","node","indexOf","nodeType","isWindow","nodes","match","isFunction","readyState","addEventListener","once","each","obj","concat","querySelectorAll","createElement","attr","implementation","createHTMLDocument","body","innerHTML","children","fn","isArr","isArray","keys","len","parseInt","func","constructor","Function","isPlainObject","getPrototypeOf","proto","toString","extend","arrs","merge","sources","source","shift","val","apply","param","add","key","push","encodeURIComponent","item","join","ajax","url","settings","method","cache","data","dataType","async","crossDomain","scriptCharset","jsonp","jsonpCallback","Date","now","headers","xhr","XMLHttpRequest","contentType","statusCode","username","password","xhrFields","split","pop","sync","script","FormData","charset","load","error","response","complete","src","head","appendChild","type","status","responseText","JSON","parse","e","onload","ontimeout","onabort","onerror","open","setRequestHeader","send","name","success","isFunc","toUpperCase","getScript","filterNodes","not","n","uri","html","outerHTML","tagName","toLowerCase","getAttribute","text","innerText","getVal","current","values","funcVal","objVal","funcCurrent","create","result","String","selected","checked","serialize","disabled","all","until","parent","parentNode","Node","ELEMENT_NODE","get","events","t","parents","args","preventDefault","stopPropagation","capture","prop","isObj","on","style","cssText","className","textContent","removeAttribute","setAttribute","funcs","f","substr","cls","state","classList","camelise","replace","letter","setCss","props","isNaN","css","getComputedStyle","output","ret","temp","dataset","stringify","hasClass","contains","getProp","properties","tmp","removeProp","display","offset","coords","pos","position","top","parseFloat","paddingTop","borderTopWidth","left","paddingLeft","borderLeftWidth","doc","documentElement","rect","getBoundingClientRect","scrollTop","scrollLeft","offsetParent","offsetLeft","offsetTop","tl","scroll","dim","width","wh","whu","io","DOCUMENT_NODE","trigger","dispatchEvent","off","removeEventListener","splice","clone","cloneNode","empty","firstChild","removeChild","before","prepend","append","after","pre","elems","arg","backwards","forwards","insertAdjacentElement","insertBefore","prependTo","appendTo","insertAfter","replaceChild","start","end","unwrap","wrapAll","firstElementChild","wrap","closest","eq","find","first","has","subject","last","next","sibling","siblings","child"],"mappings":"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","sourcesContent":["/*! dabbyjs v0.9.7 by Will Earp - https://github.com/hexydec/dabby */\r\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.$ = factory());\n}(this, (function () { 'use strict';\n\n    if (!Array.from) {\r\n    \tArray.from = function (arrayLike, mapFn, thisArg) {\r\n    \t\tvar arr = [].slice.call(arrayLike);\r\n    \t\tif (typeof mapFn === \"function\") {\r\n    \t\t\tarr = arr.map(mapFn, thisArg);\r\n    \t\t}\r\n    \t\treturn arr;\r\n    \t};\r\n    }\n\n    // CustomEvent is not supported in IE11\r\n    if (typeof window.CustomEvent !== \"function\") {\r\n    \tfunction CustomEvent$1(event, params) {\r\n    \t\tparams = params || {bubbles: false, cancelable: false, detail: undefined};\r\n    \t\tconst evt = document.createEvent(\"CustomEvent\");\r\n    \t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n    \t\treturn evt;\r\n    \t}\r\n\r\n    \tCustomEvent$1.prototype = window.Event.prototype;\r\n    \twindow.CustomEvent = CustomEvent$1;\r\n    }\n\n    // support Element.matches() in IE and older Webkit\r\n    if (!Element.prototype.matches) {\r\n        Element.prototype.matches = Element.prototype.msMatchesSelector;\r\n    }\n\n    if (!NodeList.prototype.forEach) {\r\n        NodeList.prototype.forEach = function (callback, thisArg) {\r\n            thisArg = thisArg || window;\r\n            for (var i = 0; i < this.length; i++) {\r\n                callback.call(thisArg, this[i], i, this);\r\n            }\r\n        };\r\n    }\n\n    if (typeof Object.assign !== \"function\") {\r\n    \tObject.defineProperty(Object, \"assign\", {\r\n    \t\tvalue: function assign(target, varArgs) { // .length of function is 2\r\n    \t\t\tif (target == null) { // TypeError if undefined or null\r\n    \t\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\r\n    \t\t\t}\r\n\r\n    \t\t\tvar to = Object(target);\r\n\r\n    \t\t\tfor (var index = 1; index < arguments.length; index++) {\r\n    \t\t\t\tvar nextSource = arguments[index];\r\n\r\n    \t\t\t\tif (nextSource != null) { // Skip over if undefined or null\r\n    \t\t\t\t\tfor (var nextKey in nextSource) {\r\n    \t\t\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\r\n    \t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n    \t\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn to;\r\n    \t\t},\r\n    \t\twritable: true,\r\n    \t\tconfigurable: true\r\n    \t});\r\n    }\n\n    const $ = function dabby(selector, context) {\r\n\r\n    \t// if no selector, return empty colletion\r\n    \tif (this instanceof dabby) {\r\n    \t\tselector = Array.from(selector).filter(node => [1, 9, 11].indexOf(node.nodeType) > -1 || $.isWindow(node)); // only element, document, documentFragment and window\r\n    \t\tthis.length = selector.length;\r\n    \t\tObject.assign(this, selector);\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// $ collection\r\n    \tif (selector instanceof dabby) {\r\n    \t\treturn selector;\r\n    \t}\r\n\r\n    \tlet nodes = [],\r\n    \t\tmatch;\r\n\r\n    \t// gather nodes\r\n    \tif (selector) {\r\n\r\n    \t\t// single node\r\n    \t\tif (selector.nodeType || $.isWindow(selector)) {\r\n    \t\t\tnodes = [selector];\r\n\r\n    \t\t// ready function\r\n    \t\t} else if ($.isFunction(selector)) {\r\n    \t\t\tif (document.readyState !== \"loading\") {\r\n    \t\t\t\tselector.call(document, $);\r\n    \t\t\t} else {\r\n    \t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", () => {selector.call(document, $);}, {once: true});\r\n    \t\t\t}\r\n\r\n    \t\t// array|NodeList|HTMLCollection of nodes\r\n    \t\t} else if (typeof selector !== \"string\") {\r\n    \t\t\tnodes = selector;\r\n\r\n    \t\t// CSS selector\r\n    \t\t} else if (selector.indexOf(\"<\") === -1) {\r\n    \t\t\t$(context || document).each((i, obj) => {\r\n    \t\t\t\tnodes = nodes.concat(Array.from(obj.querySelectorAll(selector)));\r\n    \t\t\t});\r\n\r\n    \t\t// create a single node and attach properties\r\n    \t\t} else if ((match = selector.match(/^<([a-z0-9]+)(( ?\\/)?|><\\/\\1)>$/i)) !== null) {\r\n    \t\t\tnodes = [document.createElement(match[1])];\r\n\r\n    \t\t\t// context is CSS attributes\r\n    \t\t\tif (context instanceof Object) {\r\n    \t\t\t\t$(nodes).attr(context);\r\n    \t\t\t}\r\n\r\n    \t\t// parse HTML into nodes\r\n    \t\t} else {\r\n    \t\t\tconst obj = document.implementation.createHTMLDocument(\"\");\r\n    \t\t\tobj.body.innerHTML = selector;\r\n    \t\t\tnodes = obj.body.children;\r\n    \t\t}\r\n    \t}\r\n    \treturn new dabby(nodes);\r\n    };\r\n\r\n    // alias functions\r\n    $.fn = $.prototype;\n\n    $.each = (obj, callback) => {\r\n    \tconst isArr = Array.isArray(obj),\r\n    \t\tkeys = Object.keys(obj),\r\n    \t\tlen = keys.length;\r\n\r\n    \tfor (let i = 0; i < len; i++) {\r\n    \t\tif (callback.call(obj[keys[i]], isArr ? parseInt(keys[i]) : keys[i], obj[keys[i]]) === false) {\r\n    \t\t\tbreak; // stop if callback returns false\r\n    \t\t}\r\n    \t}\r\n    \treturn obj;\r\n    };\n\n    $.fn.each = function (callback) {\r\n    \t$.each(Array.from(this), callback);\r\n    \treturn this;\r\n    };\n\n    $.isWindow = obj => obj !== null && obj === obj.window;\n\n    $.isFunction = func => func && func.constructor === Function;\n\n    //import \"../attributes/attr/attr.js\"; // must add attr yourself if you want this functionality, as it could make your build smaller\n\n    $.isPlainObject = obj => {\r\n\r\n    \t// Basic check for Type object that's not null\r\n    \tif (typeof obj === \"object\" && obj !== null) {\r\n\r\n    \t\t// If Object.getPrototypeOf supported, use it\r\n    \t    if (typeof Object.getPrototypeOf === 'function') {\r\n    \t\t\tlet proto = Object.getPrototypeOf(obj);\r\n    \t\t\treturn proto === Object.prototype || proto === null;\r\n    \t    }\r\n\r\n    \t    // Otherwise, use internal class\r\n    \t    // This should be reliable as if getPrototypeOf not supported, is pre-ES5\r\n    \t\treturn Object.prototype.toString.call(obj) === \"[object Object]\";\r\n     \t}\r\n\r\n     \t// Not an object\r\n    \treturn false;\r\n    };\n\n    $.extend = (...arrs) => {\r\n    \tif (arrs[0] === true) {\r\n\r\n    \t\t// merge function will recursively merge items\r\n    \t\tfunction merge(target, ...sources) {\r\n    \t\t\tif (sources.length) {\r\n\r\n    \t\t\t\t// work on next source\r\n    \t\t\t\tconst source = sources.shift();\r\n    \t\t\t\tif ($.isPlainObject(target) && $.isPlainObject(source)) {\r\n\r\n    \t\t\t\t\t// loop through each property\r\n    \t\t\t\t\t$.each(source, (i, val) => {\r\n\r\n    \t\t\t\t\t\t// merge recursively if source is object, if target is not object, overwrite\r\n    \t\t\t\t\t\tif ($.isPlainObject(val)) {\r\n    \t\t\t\t\t\t\ttarget[i] = $.isPlainObject(target[i]) ? merge(target[i], val) : val;\r\n\r\n    \t\t\t\t\t\t// when source property is value just overwrite\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\ttarget[i] = val;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n    \t\t\t\t}\r\n\r\n    \t\t\t\t// merge next source\r\n    \t\t\t    return merge(target, ...sources);\r\n    \t\t\t}\r\n    \t\t\treturn target;\r\n    \t\t}\r\n    \t\treturn merge.apply(null, arrs.slice(1));\r\n    \t}\r\n    \treturn Object.assign.apply(null, arrs);\r\n    };\n\n    $.param = obj => {\r\n    \tlet params = [],\r\n    \t\tadd = (key, value, params) => {\r\n    \t\t\tlet isArr = Array.isArray(value);\r\n    \t\t\tif (isArr || typeof value === \"object\") {\r\n    \t\t\t\t$.each(value, (i, val) => {\r\n    \t\t\t\t\tparams = add(`${key}[${isArr ? \"\" : i}]`, val, params);\r\n    \t\t\t\t});\r\n    \t\t\t} else {\r\n    \t\t\t\tif ($.isFunction(value)) {\r\n    \t\t\t\t\tvalue = value();\r\n    \t\t\t\t}\r\n    \t\t\t\tparams.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value === null ? \"\" : value));\r\n    \t\t\t}\r\n    \t\t\treturn params;\r\n    \t\t};\r\n\r\n    \t// process values\r\n    \t$.each(obj, (key, item) => {\r\n    \t\tparams = add(key, item, params);\r\n    \t});\r\n    \treturn params.join(\"&\");\r\n    };\n\n    $.ajax = (url, settings) => {\r\n\r\n    \t// normalise args\r\n    \tif (typeof url === \"object\") {\r\n    \t\tsettings = url;\r\n    \t} else {\r\n    \t\tif (typeof settings !== \"object\") {\r\n    \t\t\tsettings = {};\r\n    \t\t}\r\n    \t\tsettings.url = url;\r\n    \t}\r\n\r\n    \t// set default settings\r\n    \tsettings = Object.assign({\r\n    \t\tmethod: \"GET\",\r\n    \t\tcache: null, // start will null so we can see if explicitly set\r\n    \t\tdata: null,\r\n    \t\tdataType: null, // only changes behavior with json, jsonp, script\r\n    \t\tasync: true,\r\n    \t\tcrossDomain: false,\r\n    \t\tscriptCharset: null,\r\n    \t\tjsonp: \"callback\",\r\n    \t\tjsonpCallback: \"dabby\" + Date.now(),\r\n    \t\theaders: {\r\n    \t\t\t\"X-Requested-With\": \"XMLHttpRequest\"\r\n    \t\t},\r\n    \t\txhr: () => new XMLHttpRequest(),\r\n    \t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n    \t\tcontext: null,\r\n    \t\tstatusCode: {},\r\n    \t\tusername: null,\r\n    \t\tpassword: null,\r\n    \t\txhrFields: {}\r\n    \t}, settings);\r\n\r\n    \t// determine datatype\r\n    \tif (!settings.dataType && settings.url.split(\"?\")[0].split(\".\").pop() === \"js\") {\r\n    \t\tsettings.dataType = \"script\";\r\n    \t}\r\n\r\n    \tlet sync = [\"script\", \"jsonp\"].indexOf(settings.dataType) > -1,\r\n    \t\tjoin = settings.url.indexOf(\"?\") > -1 ? \"&\" : \"?\",\r\n    \t\tscript, data;\r\n\r\n    \t// add data to query string\r\n    \tif (settings.data) {\r\n    \t\tif (typeof settings.data === \"string\" || settings.data instanceof FormData) {\r\n    \t\t\tdata = settings.data;\r\n    \t\t} else {\r\n    \t\t\tdata = $.param(settings.data);\r\n    \t\t}\r\n    \t}\r\n    \tif (data && settings.method === \"GET\") {\r\n    \t\tsettings.url += join + data;\r\n    \t\tjoin = \"&\";\r\n    \t}\r\n\r\n    \t// add cache buster\r\n    \tif (settings.cache || (settings.cache === null && sync)) {\r\n    \t\tsettings.url += join + \"_=\" + (+new Date());\r\n    \t\tjoin = \"&\";\r\n    \t}\r\n\r\n    \t// fetch script\r\n    \tif (sync || settings.crossDomain) {\r\n    \t\tscript = document.createElement(\"script\");\r\n    \t\tif (settings.scriptCharset) {\r\n    \t\t\tscript.charset = settings.scriptCharset;\r\n    \t\t}\r\n\r\n    \t\t// add callback parameter\r\n    \t\tif (settings.dataType === \"jsonp\") {\r\n    \t\t\tsettings.url += join + settings.jsonp + \"=\" + settings.jsonpCallback;\r\n    \t\t}\r\n\r\n    \t\t// setup event callbacks\r\n    \t\t$.each({\r\n    \t\t\tload: \"success\",\r\n    \t\t\terror: \"error\"\r\n    \t\t}, (key, value) => {\r\n    \t\t\tscript.addEventListener(key, () => {\r\n    \t\t\t\tconst response = settings.dataType === \"jsonp\" ? window[settings.jsonpCallback] || null : null;\r\n    \t\t\t\t[settings[value], settings.complete].forEach(callback => {\r\n    \t\t\t\t\tif (callback) {\r\n    \t\t\t\t\t\tcallback.apply(settings.context || settings, callback === settings.complete ? [null, value] : [response, value]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}, {once: true});\r\n    \t\t});\r\n\r\n    \t\tscript.src = settings.url;\r\n    \t\tscript.async = settings.async;\r\n    \t\tdocument.head.appendChild(script);\r\n\r\n    \t// make xhr request\r\n    \t} else {\r\n    \t\tconst xhr = settings.xhr(),\r\n    \t\t\tcallback = (xhr, type, status) => {\r\n    \t\t\t\tlet response = xhr.responseText;\r\n\r\n    \t\t\t\t// parse JSON\r\n    \t\t\t\tif ([\"json\", null, undefined].indexOf(settings.dataType) > -1) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tresponse = JSON.parse(response);\r\n    \t\t\t\t\t} catch (e) {\r\n    \t\t\t\t\t\t// do nothing\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n\r\n    \t\t\t\t// run callbacks\r\n    \t\t\t\t[settings.statusCode[xhr.status], settings[type], settings.complete].forEach((callback, i) => {\r\n    \t\t\t\t\tif (callback) {\r\n    \t\t\t\t\t\tcallback.apply(settings.context || settings, i < 2 ? [response, status, xhr] : [xhr, status]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t};\r\n\r\n    \t\t// XHR settings\r\n    \t\tsettings.xhrFields.forEach((value, key) => xhr[key] = value);\r\n\r\n    \t\t// callbacks\r\n    \t\txhr.onload = () => {\r\n    \t\t\tconst status = [200, 204, 304].indexOf(xhr.status) > -1 ? \"success\" : \"error\";\r\n    \t\t\tcallback(xhr, status, status);\r\n    \t\t};\r\n    \t\txhr.ontimeout = () => {\r\n    \t\t\tcallback(xhr, \"error\", \"timeout\");\r\n    \t\t};\r\n    \t\txhr.onabort = () => {\r\n    \t\t\tcallback(xhr, \"error\", \"abort\");\r\n    \t\t};\r\n    \t\txhr.onerror = () => {\r\n    \t\t\tcallback(xhr, \"error\", \"error\");\r\n    \t\t};\r\n\r\n    \t\txhr.open(settings.method, settings.url, settings.async, settings.username, settings.password);\r\n\r\n    \t\t// add headers\r\n    \t\tif (settings.contentType) {\r\n    \t\t\tsettings.headers[\"Content-Type\"] = settings.contentType;\r\n    \t\t}\r\n    \t\t$.each(settings.headers, (key, value) => {\r\n    \t\t\txhr.setRequestHeader(key, value);\r\n    \t\t});\r\n\r\n    \t\t// send request\r\n    \t\txhr.send(settings.method === \"GET\" ? null : data);\r\n    \t\treturn xhr;\r\n    \t}\r\n    };\n\n    [\"get\", \"post\"].forEach(name => {\r\n    \t$[name] = (url, data, success, type) => {\r\n    \t\tconst isFunc = $.isFunction(data);\r\n    \t\tlet settings = typeof(url) === \"object\" ? url : {\r\n    \t\t\turl: url,\r\n    \t\t\tdata: isFunc ? {} : data,\r\n    \t\t\tsuccess: isFunc ? data : success,\r\n    \t\t\tdataType: isFunc ? success : type\r\n    \t\t};\r\n    \t\tsettings.method = name.toUpperCase();\r\n    \t\treturn $.ajax(settings);\r\n    \t};\r\n    });\n\n    $.getScript = (url, success) => $.ajax({\r\n    \turl: url,\r\n    \tdataType: \"script\",\r\n    \tsuccess: success\r\n    });\n\n    var filterNodes = (dabby, filter, context, not) => {\r\n    \tlet func,\r\n    \t\tnodes = dabby.nodeType ? [dabby] : Array.from(dabby);\r\n\r\n    \t// sort out args\r\n    \tif (typeof context === \"boolean\") {\r\n    \t\tnot = context;\r\n    \t\tcontext = null;\r\n    \t}\r\n\r\n    \t// custom filter function\r\n    \tif ($.isFunction(filter)) {\r\n    \t\tfunc = filter;\r\n\r\n    \t// nodes\r\n    \t} else {\r\n\r\n    \t\t// normalise filters\r\n    \t\tif (typeof filter === \"string\") {\r\n    \t\t\tfilter = [filter];\r\n    \t\t} else {\r\n    \t\t\tfilter = Array.from($(filter, context));\r\n    \t\t}\r\n\r\n    \t\t// default filter function\r\n    \t\tfunc = (n, node) => {\r\n    \t\t\tlet i = filter.length;\r\n    \t\t\twhile (i--) {\r\n    \t\t\t\tif (typeof(filter[i]) === \"string\" && node.matches ? node.matches(filter[i]) : node === filter[i]) {\r\n    \t\t\t\t\treturn true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n    \t\t};\r\n    \t}\r\n    \treturn nodes.filter((item, i) => func.call(item, i, item) === !not, nodes);\r\n    }\n\n    [\"filter\", \"not\", \"is\"].forEach(name => {\r\n    \t$.fn[name] = function (selector) {\r\n    \t\tconst nodes = filterNodes(this, selector, name === \"not\");\r\n    \t\treturn name === \"is\" ? !!nodes.length : $(nodes);\r\n    \t};\r\n    });\n\n    $.fn.load = function (url, data, success) {\r\n    \tif (this[0]) {\r\n\r\n    \t\t// get selector from URL\r\n    \t\turl = url.split(\" \", 2);\r\n    \t\tconst uri = url[0],\r\n    \t\t\tselector = url[1];\r\n\r\n    \t\t// check for data\r\n    \t\tif ($.isFunction(data)) {\r\n    \t\t\tsuccess = data;\r\n    \t\t\tdata = undefined;\r\n    \t\t}\r\n\r\n    \t\t// make AJAX request\r\n    \t\t$.ajax(uri, {\r\n    \t\t\tdata: data,\r\n    \t\t\ttype: data instanceof Object ? \"POST\" : \"GET\",\r\n    \t\t\tsuccess: (response, status, xhr) => {\r\n\r\n    \t\t\t\t// if a selector is specified, find it in the returned document\r\n    \t\t\t\tlet html = \"\",\r\n    \t\t\t\t\ti = this.length;\r\n\r\n    \t\t\t\t// refine by selector if supplied\r\n    \t\t\t\tif (selector) {\r\n    \t\t\t\t\t$(response).filter(selector).each((key, obj) => {\r\n    \t\t\t\t\t\thtml += obj.outerHTML;\r\n    \t\t\t\t\t});\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\thtml = response;\r\n    \t\t\t\t}\r\n\r\n    \t\t\t\tconst nodes = $(html).filter((i, item) => item.tagName.toLowerCase() === \"script\");\r\n\r\n    \t\t\t\t// set HTML to nodes in collection\r\n    \t\t\t\twhile (i--) {\r\n    \t\t\t\t\tthis[i].innerHTML = html;\r\n\r\n    \t\t\t\t\t// include any scripts as they won't execute with innerHTML\r\n    \t\t\t\t\tnodes.each((i, item) => {\r\n    \t\t\t\t\t\tconst src = item.getAttribute(\"src\"),\r\n    \t\t\t\t\t\t\tscript = document.createElement(\"script\");\r\n    \t\t\t\t\t\tif (src) {\r\n    \t\t\t\t\t\t\tscript.src = src;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tscript.text = item.innerText;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tdocument.head.appendChild(script);\r\n    \t\t\t\t\t});\r\n\r\n    \t\t\t\t\t// fire success callback on nodes\r\n    \t\t\t\t\tif (success) {\r\n    \t\t\t\t\t\tsuccess.call(this[i], response, status, xhr);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    var getVal = (obj, val, current) => {\r\n    \tlet i = obj.length,\r\n    \t\tvalues = [],\r\n    \t\tfuncVal = $.isFunction(val),\r\n    \t\tobjVal = funcVal ? 0 : $.isPlainObject(val),\r\n    \t\tfuncCurrent = $.isFunction(current);\r\n    \twhile (i--) {\r\n    \t\tvalues[i] = funcVal ? val.call(obj[i], i, funcCurrent ? current(obj[i]) : current) : (objVal ? Object.create(val) : val);\r\n    \t}\r\n    \treturn values;\r\n    }\n\n    $.map = (obj, callback) => {\r\n    \tlet arr = [];\r\n    \t$.each(obj, (i, item) => {\r\n    \t\tconst result = callback.call(window, item, i);\r\n    \t\tif ([null, undefined].indexOf(result) === -1) {\r\n    \t\t\tarr = arr.concat(Array.isArray(result) ? result : [result]);\r\n    \t\t}\r\n    \t});\r\n    \treturn arr;\r\n    };\n\n    $.fn.val = function (value) {\r\n\r\n    \t// set value\r\n    \tif (value !== undefined) {\r\n    \t\tlet i = this.length,\r\n    \t\t\tvalues = getVal(this, value, obj => obj.val());\r\n\r\n    \t\twhile (i--) {\r\n\r\n    \t\t\t// string value, just set to value attribute\r\n    \t\t\tif (!Array.isArray(values[i])) {\r\n    \t\t\t\tthis[i].value = values[i];\r\n\r\n    \t\t\t// array on select, set matching values to selected\r\n    \t\t\t} else if (this[i].type === \"select-multiple\") {\r\n    \t\t\t\tvalues[i] = values[i].map(val => String(val));\r\n    \t\t\t\t$(\"option\", this[i]).each((key, obj) => {\r\n    \t\t\t\t\tobj.selected = values[i].indexOf(obj.value) > -1;\r\n    \t\t\t\t});\r\n\r\n    \t\t\t// set the checked attribute for radios and checkbox\r\n    \t\t\t} else {\r\n    \t\t\t\tthis[i].checked = values[i].indexOf(this[i].value) > -1;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// read value from first node\r\n    \tif (this[0]) {\r\n\r\n    \t\t// get multiple values\r\n    \t\tif (this[0].type === \"select-multiple\") {\r\n    \t\t\tlet values = [];\r\n    \t\t\t$(\"option\", this[0]).each((key, obj) => {\r\n    \t\t\t\tif (obj.selected) {\r\n    \t\t\t\t\tvalues.push(String(obj.value));\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\treturn values;\r\n    \t\t}\r\n\r\n    \t\t// get single value\r\n    \t\tif (this[0].type !== \"checkbox\" || this[0].checked) {\r\n    \t\t\treturn String(this[0].value);\r\n    \t\t}\r\n    \t}\r\n    };\n\n    $.fn.serialize = function () {\r\n    \tconst selector = \"input[name]:not([type=file]):not([type=submit]):not([type=radio]):not([type=checkbox]),input[name]:checked,textarea[name],select[name]\",\r\n    \t\tadd = (name, value, params) => {\r\n    \t\t\tlet match;\r\n\r\n    \t\t\tif ((match = name.match(/([^\\[]*)\\[([^\\]]*)\\](.*)/)) !== null) {\r\n    \t\t\t\tname = match[1];\r\n    \t\t\t\tlet arr = add(match[2] + match[3], value, params[name] || {});\r\n    \t\t\t\tvalue = arr;\r\n    \t\t\t}\r\n\r\n    \t\t\tif (name !== \"\") {\r\n    \t\t\t\tparams[name] = value;\r\n    \t\t\t} else {\r\n    \t\t\t\tif (!Array.isArray(params)) {\r\n    \t\t\t\t\tparams = [];\r\n    \t\t\t\t}\r\n    \t\t\t\tparams = params.concat(Array.isArray(value) ? value : [value]);\r\n    \t\t\t}\r\n    \t\t\treturn params;\r\n    \t\t};\r\n    \tlet obj = this.filter(selector);\r\n\r\n    \tif (!obj.length) {\r\n    \t\tobj = $(selector, this);\r\n    \t}\r\n\r\n    \tlet params = {};\r\n\r\n    \t// process values\r\n    \tobj.each((key, obj) => {\r\n    \t\tconst value = $(obj).val();\r\n    \t\tif (!obj.disabled && value !== undefined) {\r\n    \t\t\tparams = add(obj.name, value, params);\r\n    \t\t}\r\n    \t});\r\n    \treturn $.param(params);\r\n    };\n\n    $.fn.add = function (nodes, context) {\r\n    \tnodes = $(nodes, context);\r\n    \tlet len = this.length,\r\n    \t\ti = nodes.length;\r\n\r\n    \tthis.length += i;\r\n    \twhile (i--) {\r\n    \t\tthis[i + len] = nodes[i];\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    [\"parent\", \"parents\", \"parentsUntil\"].forEach(func => {\r\n    \t$.fn[func] = function (selector, filter) {\r\n    \t\tconst all = func.indexOf(\"s\") > -1,\r\n    \t\t\tuntil = func.indexOf(\"U\") > -1;\r\n    \t\tlet nodes = [],\r\n    \t\t\ti = this.length,\r\n    \t\t\tparent;\r\n\r\n    \t\twhile (i--) {\r\n    \t\t\tparent = this[i].parentNode;\r\n    \t\t\twhile (parent && parent.nodeType === Node.ELEMENT_NODE) {\r\n    \t\t\t\tif (until && filterNodes(parent, selector).length) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tnodes.push(parent);\r\n    \t\t\t\tif (!all) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tparent = parent.parentNode;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (!until) {\r\n    \t\t\tfilter = selector;\r\n    \t\t}\r\n    \t\treturn $(filter ? filterNodes(nodes, filter) : nodes);\r\n    \t};\r\n    });\n\n    $.fn.get = function (i) {\r\n    \treturn i === undefined ? Array.from(this) : this[i >= 0 ? i : i + this.length];\r\n    };\n\n    // add and remove event handlers\r\n    [\"on\", \"one\"].forEach(name => {\r\n    \t$.fn[name] = function (events, selector, data, callback) {\r\n\r\n    \t\t// sort out args\r\n    \t\tevents = events.split(\" \");\r\n    \t\tif ($.isFunction(selector)) {\r\n    \t\t\tcallback = selector;\r\n    \t\t\tselector = undefined;\r\n    \t\t} else if ($.isFunction(data)) {\r\n    \t\t\tcallback = data;\r\n    \t\t\tdata = undefined;\r\n    \t\t}\r\n\r\n    \t\t// attach event\r\n    \t\tlet i = this.length;\r\n    \t\twhile (i--) {\r\n    \t\t\tlet e = events.length;\r\n\r\n    \t\t\t// record the original function\r\n    \t\t\tif (!this[i].events) {\r\n    \t\t\t\tthis[i].events = [];\r\n    \t\t\t}\r\n    \t\t\tlet fn = function (evt) { // delegate function\r\n    \t\t\t\tlet target = [this];\r\n    \t\t\t\tif (selector) {\r\n    \t\t\t\t\tlet t = $(evt.target);\r\n    \t\t\t\t\ttarget = t.add(t.parents()).filter(selector).get(); // is the selector in the targets parents?\r\n    \t\t\t\t}\r\n    \t\t\t\tif (target) {\r\n    \t\t\t\t\tevt.data = data; // set data to event object\r\n    \t\t\t\t\tfor (let i = 0, len = target.length; i < len; i++) {\r\n    \t\t\t\t\t\tif (callback.call(target[i], evt, evt.args) === false) {\r\n    \t\t\t\t\t\t\tevt.preventDefault();\r\n    \t\t\t\t\t\t\tevt.stopPropagation();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\tthis[i].events.push({\r\n    \t\t\t\tevents: events,\r\n    \t\t\t\tcallback: callback,\r\n    \t\t\t\tselector: selector,\r\n    \t\t\t\tfunc: fn,\r\n    \t\t\t\tonce: name === \"one\"\r\n    \t\t\t});\r\n\r\n    \t\t\t// trigger\r\n    \t\t\twhile (e--) {\r\n    \t\t\t\tthis[i].addEventListener(events[e], fn, {once: name === \"one\", capture: !!selector});\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    var events = [\"focusin\", \"focusout\", \"focus\", \"blur\", \"resize\", \"scroll\", \"unload\", \"click\", \"dblclick\", \"mousedown\", \"mouseup\", \"mousemove\", \"mouseover\", \"mouseout\", \"mouseenter\", \"mouseleave\", \"contextmenu\", \"change\", \"select\", \"keydown\", \"keypress\", \"keyup\", \"error\", \"submit\"];\n\n    $.fn.attr = function (prop, value) {\r\n    \tlet isObj = typeof prop !== \"string\",\r\n    \t\tobj = {};\r\n\r\n    \t// set properties\r\n    \tif (isObj || value !== undefined) {\r\n\r\n    \t\t// normalise to object\r\n    \t\tif (!isObj) {\r\n    \t\t\tobj[prop] = value;\r\n    \t\t\tprop = obj;\r\n    \t\t}\r\n\r\n    \t\t$.each(prop, (key, val) => {\r\n\r\n    \t\t\t// if event, hand it off to $.fn.on()\r\n    \t\t\tif (events.indexOf(key) > -1) {\r\n    \t\t\t\tthis.on(key, val);\r\n\r\n    \t\t\t// process other values\r\n    \t\t\t} else {\r\n    \t\t\t\tlet i = this.length,\r\n    \t\t\t\t\tvalues = getVal(this, val, obj => $(obj).attr(key));\r\n    \t\t\t\twhile (i--) {\r\n    \t\t\t\t\tif (key === \"style\") {\r\n    \t\t\t\t\t\tthis[i].style.cssText = values[i];\r\n    \t\t\t\t\t} else if (key === \"class\") {\r\n    \t\t\t\t\t\tthis[i].className = values[i];\r\n    \t\t\t\t\t} else if (key === \"text\") {\r\n    \t\t\t\t\t\tthis[i].textContent = values[i];\r\n    \t\t\t\t\t} else if (values[i] === null) {\r\n    \t\t\t\t\t\tthis[i].removeAttribute(key);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tthis[i].setAttribute(key, values[i]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// retrieve properties\r\n    \tif (this[0]) {\r\n    \t\tif (prop === \"style\") {\r\n    \t\t\treturn this[0].style.cssText;\r\n    \t\t}\r\n    \t\tif (prop === \"class\") {\r\n    \t\t\treturn this[0].className;\r\n    \t\t}\r\n    \t\treturn this[0].getAttribute(prop);\r\n    \t}\r\n    };\n\n    const funcs = [];\r\n    [\"removeClass\", \"addClass\", \"toggleClass\"].forEach((func, f) => {\r\n\r\n    \t// remove \"Class\" from name for classList method and remember\r\n    \tfuncs.push(func.substr(0, func.length - 5));\r\n\r\n    \t// create function\r\n    \t$.fn[func] = function (cls, state) {\r\n    \t\tlet i = this.length,\r\n    \t\t\tvalues = getVal(this, cls, obj => obj.className),\r\n    \t\t\tkey = f;\r\n\r\n    \t\tif (func === \"toggleClass\" && typeof state === \"boolean\") {\r\n    \t\t\tkey = 0 + state;\r\n    \t\t}\r\n\r\n    \t\t// manage classes on nodes\r\n    \t\twhile (i--) {\r\n    \t\t\tif (typeof values[i] === \"string\") {\r\n    \t\t\t\tvalues[i] = values[i].split(\" \");\r\n    \t\t\t}\r\n    \t\t\tfor (let n = 0, len = values[i].length; n < len; n++) {\r\n    \t\t\t\tthis[i].classList[funcs[key]](values[i][n]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    var camelise = prop => prop.replace(/-([\\w])/g, (text, letter) => letter.toUpperCase()); // matches underscore too but you shouldn't do that anyway\n\n    var setCss = (dabby, props, value) => {\r\n\r\n    \t// normalise props\r\n    \tif (typeof props === \"string\") {\r\n    \t\tconst name = props;\r\n    \t\tprops = {};\r\n    \t\tprops[name] = value;\r\n    \t}\r\n\r\n    \t// prepare values\r\n    \tlet values = {};\r\n    \t$.each(props, (i, prop) => {\r\n    \t\tvalues[camelise(i)] = getVal(dabby, prop, obj => obj.style[i]);\r\n    \t});\r\n\r\n    \t// set properties\r\n    \t$.each(values, (key, val) => {\r\n    \t\tlet i = dabby.length;\r\n    \t\twhile (i--) {\r\n    \t\t\tdabby[i].style[key] = val[i] + (!val[i] || isNaN(val[i]) ? \"\" : \"px\");\r\n    \t\t}\r\n    \t});\r\n    \treturn dabby;\r\n    }\n\n    $.fn.css = function (props, value) {\r\n\r\n    \t// set the values\r\n    \tif (value !== undefined || $.isPlainObject(props)) {\r\n    \t\treturn setCss(this, props, value);\r\n    \t}\r\n\r\n    \t// retrieve value from first property\r\n    \tif (this[0]) {\r\n    \t\tlet name = props,\r\n    \t\t\ti,\r\n    \t\t\tstyle = getComputedStyle(this[0], \"\"),\r\n    \t\t\toutput = {},\r\n    \t\t\tret = false;\r\n\r\n    \t\tif (typeof name === \"string\") {\r\n    \t\t\tprops = [name];\r\n    \t\t\tret = true;\r\n    \t\t}\r\n    \t\ti = props.length;\r\n    \t\twhile (i--) {\r\n    \t\t\toutput[props[i]] = style[camelise(props[i])];\r\n    \t\t\tif (ret) {\r\n    \t\t\t\treturn output[props[i]];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn output;\r\n    \t}\r\n    };\n\n    $.fn.data = function (name, data) {\r\n\r\n    \t// convert data to object\r\n    \tif (typeof name === \"object\") {\r\n    \t\tdata = name;\r\n    \t} else if (data !== undefined) {\r\n    \t\tlet temp = {};\r\n    \t\ttemp[name] = data;\r\n    \t\tdata = temp;\r\n    \t}\r\n\r\n    \t// set value\r\n    \tif (data !== undefined) {\r\n    \t\tlet i = this.length;\r\n    \t\twhile (i--) {\r\n    \t\t\t$.each(data, (key, value) => {\r\n    \t\t\t\tthis[i].dataset[camelise(key)] = typeof value === \"object\" ? JSON.stringify(value) : value;\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// get value\r\n    \tif (this[0] && this[0].dataset) {\r\n    \t\tlet parse = value => {\r\n    \t\t\ttry {\r\n    \t\t\t\treturn JSON.parse(value);\r\n    \t\t\t} catch (e) {\r\n    \t\t\t\treturn value;\r\n    \t\t\t}\r\n    \t\t};\r\n\r\n    \t\t// all properties\r\n    \t\tif (name === undefined) {\r\n    \t\t\tlet arr = {};\r\n    \t\t\t$.each(this[0].dataset, (key, value) => {\r\n    \t\t\t\tarr[key] = parse(value);\r\n    \t\t\t});\r\n    \t\t\treturn arr;\r\n    \t\t}\r\n\r\n    \t\t// retrieve specific property\r\n    \t\tname = camelise(name);\r\n    \t\tif (this[0].dataset.hasOwnProperty(name)) {\r\n    \t\t\treturn parse(this[0].dataset[name]);\r\n    \t\t}\r\n    \t}\r\n    };\n\n    $.fn.hasClass = function (cls) {\r\n    \tlet i = this.length;\r\n    \twhile (i--) {\r\n    \t\tif (this[i].classList.contains(cls)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \treturn false;\r\n    };\n\n    var getProp = prop => {\r\n    \tlet properties = {\r\n    \t\t\"for\": \"htmlFor\",\r\n    \t\t\"class\": \"className\",\r\n    \t\t\"tabindex\": \"tabIndex\",\r\n    \t\t\"readonly\": \"readOnly\",\r\n    \t\t\"maxlength\": \"maxLength\",\r\n    \t\t\"cellspacing\": \"cellSpacing\",\r\n    \t\t\"cellpadding\": \"cellPadding\",\r\n    \t\t\"rowspan\": \"rowSpan\",\r\n    \t\t\"colspan\": \"colSpan\",\r\n    \t\t\"usemap\": \"useMap\",\r\n    \t\t\"frameborder\": \"frameBorder\",\r\n    \t\t\"contenteditable\": \"contentEditable\"\r\n    \t};\r\n    \tprop = prop.toLowerCase();\r\n    \treturn properties[prop] || prop;\r\n    }\n\n    $.fn.prop = function (prop, value) {\r\n    \tconst isObj = $.isPlainObject(prop);\r\n\r\n    \t// set\r\n    \tif (value !== undefined || isObj) {\r\n\r\n    \t\t// normalise values\r\n    \t\tif (!isObj) {\r\n    \t\t\tconst tmp = {};\r\n    \t\t\ttmp[prop] = value;\r\n    \t\t\tprop = tmp;\r\n    \t\t}\r\n\r\n    \t\t// retrieve values\r\n    \t\tlet values = {};\r\n    \t\t$.each(prop, (key, val) => {\r\n    \t\t\tvalues[getProp(key)] = getVal(this, val, obj => obj[key]);\r\n    \t\t});\r\n\r\n    \t\t// set properties\r\n    \t\t$.each(values, (key, val) => {\r\n    \t\t\tlet i = this.length;\r\n    \t\t\twhile (i--) {\r\n    \t\t\t\tthis[i][key] = val[i];\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// get\r\n    \tif (this[0]) {\r\n    \t\treturn this[0][getProp(prop)];\r\n    \t}\r\n    };\n\n    $.fn.removeProp = function (prop) {\r\n    \tlet i = this.length;\r\n    \tprop = getProp(prop);\r\n\r\n    \twhile (i--) {\r\n    \t\tdelete this[i][prop];\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    [\"show\", \"hide\", \"toggle\"].forEach((func, n) => {\r\n    \t$.fn[func] = function () {\r\n    \t\tlet i = this.length,\r\n    \t\t\tvalues = [\"block\", \"none\"];\r\n    \t\twhile (i--) {\r\n    \t\t\tthis[i].style.display = values[n] || (getComputedStyle(this[i]).display === \"none\" ? \"block\" : \"none\");\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    $.fn.map = function (callback) {\r\n    \tlet len = this.length,\r\n    \t\tvalues = [],\r\n    \t\ti = 0;\r\n\r\n    \tfor (; i < len; i++) {\r\n    \t\tvalues.push(callback.call(this[i], i, this[i]));\r\n    \t}\r\n    \treturn values;\r\n    };\n\n    $.fn.offset = function (coords) {\r\n\r\n    \t// set\r\n    \tif (coords) {\r\n\r\n    \t\t// prepare values\r\n    \t\tlet values = getVal(this, coords, obj => obj.offset()), // copy the object\r\n    \t\t\ti = this.length;\r\n\r\n    \t\twhile (i--) {\r\n\r\n    \t\t\t// set position to relative if not positioned\r\n    \t\t\tlet pos = getComputedStyle(this[i]).position;\r\n    \t\t\tif (pos === \"static\") {\r\n    \t\t\t\tvalues[i].position = pos = \"relative\";\r\n    \t\t\t}\r\n\r\n    \t\t\t// take off offset parent position\r\n    \t\t\tconst parent = this[i][pos === \"relative\" ? \"parentNode\" : \"offsetParent\"];\r\n    \t\t\t$.each($(parent).offset(), (key, val) => values[i][key] -= val);\r\n\r\n    \t\t\t// relative add inner offset\r\n    \t\t\tif (pos === \"relative\") {\r\n    \t\t\t\tconst style = getComputedStyle(parent);\r\n    \t\t\t\tvalues[i].top -= parseFloat(style.paddingTop) + parseFloat(style.borderTopWidth);\r\n    \t\t\t\tvalues[i].left -= parseFloat(style.paddingLeft) + parseFloat(style.borderLeftWidth);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t\t// update values in one hit to prevent thrashing\r\n    \t\ti = this.length;\r\n    \t\twhile (i--) {\r\n    \t\t\t$.each(values[i], (key, val) => this[i].style[key] = val + (isNaN(val) ? \"\" : \"px\"));\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// get\r\n    \tif (this[0]) {\r\n    \t\tconst doc = document.documentElement,\r\n    \t\t\tpos = this[0].style.position === \"fixed\",\r\n    \t\t\trect = this[0].getBoundingClientRect();\r\n    \t\treturn {\r\n    \t\t\ttop: rect.top + (pos ? 0 : doc.scrollTop),\r\n    \t\t\tleft: rect.left + (pos ? 0 : doc.scrollLeft)\r\n    \t\t};\r\n    \t}\r\n    };\n\n    $.fn.offsetParent = function () {\r\n    \treturn $(this[0] ? this[0].offsetParent : null);\r\n    };\n\n    $.fn.position = function () {\r\n    \tif (this[0]) {\r\n    \t\treturn {left: this[0].offsetLeft, top: this[0].offsetTop};\r\n    \t}\r\n    };\n\n    [\"scrollLeft\", \"scrollTop\"].forEach(item => {\r\n    \t$.fn[item] = function (pos) {\r\n    \t\tconst top = item === \"scrollTop\";\r\n\r\n    \t\t// set\r\n    \t\tif (pos !== undefined) {\r\n    \t\t\tlet i = this.length,\r\n    \t\t\t\ttl = top ? \"top\" : \"left\",\r\n    \t\t\t\tvalues = getVal(this, pos, obj => obj[item]);\r\n    \t\t\t\r\n    \t\t\twhile (i--) {\r\n    \t\t\t\tif ($.isWindow(this[i])) {\r\n    \t\t\t\t\tlet obj = {};\r\n    \t\t\t\t\tobj[tl] = values[i];\r\n    \t\t\t\t\tthis[i].scroll(obj);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tthis[i][item] = values[i];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn this;\r\n    \t\t}\r\n\r\n    \t\t// get\r\n    \t\tif (this[0]) {\r\n    \t\t\tif ($.isWindow(this[0])) {\r\n    \t\t\t\titem = top ? \"pageYOffset\" : \"pageXOffset\";\r\n    \t\t\t}\r\n    \t\t\treturn this[0][item];\r\n    \t\t}\r\n    \t};\r\n    });\n\n    [\"width\", \"height\", \"innerWidth\", \"innerHeight\", \"outerWidth\", \"outerHeight\"].forEach(dim => {\r\n\r\n    \t$.fn[dim] = function (val) {\r\n    \t\tconst width = dim.indexOf(\"d\") > -1,\r\n    \t\t\twh = width ? \"width\" : \"height\", // width or height\r\n    \t\t\twhu = width ? \"Width\" : \"Height\", // with uppercase letter\r\n    \t\t\tio = dim.indexOf(\"inner\") > -1 ? \"inner\" : (dim.indexOf(\"outer\") > -1 ? \"outer\" : \"\"), // inner outer or neither\r\n    \t\t\tpos = [\r\n    \t\t\t\twidth ? \"Left\" : \"Top\", // first dimension\r\n    \t\t\t\twidth ? \"Right\" : \"Bottom\" // second dimension\r\n    \t\t\t];\r\n\r\n    \t\t// set value\r\n    \t\tif (val !== undefined && typeof(val) !== \"boolean\") {\r\n    \t\t\tlet values = getVal(this, val, obj => obj[dim]),\r\n    \t\t\t\ti = this.length,\r\n    \t\t\t\tprops = [],\r\n    \t\t\t\tstyle;\r\n    \t\t\twhile (i--) {\r\n\r\n    \t\t\t\t// add additional lengths\r\n    \t\t\t\tif (io) {\r\n\r\n    \t\t\t\t\t// fetch current style and build properties\r\n    \t\t\t\t\tpos.forEach(item => {\r\n    \t\t\t\t\t\tprops.push(\"padding\" + item);\r\n    \t\t\t\t\t\tif (io === \"outer\") {\r\n    \t\t\t\t\t\t\tprops.push(\"border\" + item + \"Width\");\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n\r\n    \t\t\t\t\t// set width to convert to a px value\r\n    \t\t\t\t\tif (isNaN(values[i]) && values[i].indexOf(\"px\") === -1) {\r\n    \t\t\t\t\t\tthis[i].style[wh] = values[i];\r\n    \t\t\t\t\t\tprops.push(wh);\r\n    \t\t\t\t\t\tvalues[i] = 0; // reset to 0\r\n    \t\t\t\t\t}\r\n\r\n    \t\t\t\t\t// add values\r\n    \t\t\t\t\tstyle = getComputedStyle(this[i]);\r\n    \t\t\t\t\tprops.forEach(val => values[i] -= parseFloat(style[val]));\r\n    \t\t\t\t}\r\n    \t\t\t\tthis[i].style[wh] = values[i] + (isNaN(values[i]) ? \"\" : \"px\");\r\n    \t\t\t}\r\n    \t\t\treturn this;\r\n    \t\t}\r\n\r\n    \t\t// get value\r\n    \t\tif (this[0]) {\r\n\r\n    \t\t\t// document\r\n    \t\t\tif (this[0].nodeType === Node.DOCUMENT_NODE) {\r\n    \t\t\t\treturn this[0].documentElement[\"scroll\" + whu];\r\n    \t\t\t}\r\n\r\n    \t\t\t// element\r\n    \t\t\tif (!$.isWindow(this[0])) {\r\n    \t\t\t\tlet value = this[0][(io === \"outer\" ? \"offset\" : \"client\") + whu];\r\n\r\n    \t\t\t\t// add padding on, or if outer and margins requested, add margins on\r\n    \t\t\t\tif (io === \"\" || (io === \"outer\" && val === true)) {\r\n    \t\t\t\t\tconst style = getComputedStyle(this[0]);\r\n    \t\t\t\t\tpos.forEach(item => value += parseFloat(style[(io ? \"margin\" : \"padding\") + item]) * (io ? 1 : -1));\r\n    \t\t\t\t}\r\n    \t\t\t\treturn value;\r\n    \t\t\t}\r\n\r\n    \t\t\t// window\r\n    \t\t\tif (io === \"inner\") {\r\n    \t\t\t\treturn this[0].document.documentElement[\"client\" + whu];\r\n    \t\t\t}\r\n\r\n    \t\t\treturn this[0][\"inner\" + whu];\r\n    \t\t}\r\n    \t};\r\n    });\n\n    $.fn.trigger = function (name, data) {\r\n    \tlet i = this.length;\r\n    \twhile (i--) {\r\n\r\n    \t\t// native submit event doesn't trigger event handlers\r\n    \t\tif (name !== \"submit\" && $.isFunction(this[i][name])) {\r\n    \t\t\tthis[i][name]();\r\n    \t\t} else {\r\n    \t\t\tconst evt = new CustomEvent(name, {bubbles: true, cancelable: true});\r\n    \t\t\tevt.args = data;\r\n    \t\t\tthis[i].dispatchEvent(evt);\r\n    \t\t}\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    events.forEach(event => {\r\n    \t$.fn[event] = function (data, callback) {\r\n    \t\treturn data ? this.on(event, data, callback) : this.trigger(event);\r\n    \t};\r\n    });\n\n    // add and remove event handlers\r\n    $.fn.off = function (events, selector, data, callback) {\r\n\r\n    \t// sort out args\r\n    \tevents = events.split(\" \");\r\n    \tif ($.isFunction(selector)) {\r\n    \t\tcallback = selector;\r\n    \t\tselector = undefined;\r\n    \t} else if ($.isFunction(data)) {\r\n    \t\tcallback = data;\r\n    \t\tdata = undefined;\r\n    \t}\r\n\r\n    \t// attach event\r\n    \tlet i = this.length;\r\n    \twhile (i--) {\r\n\r\n    \t\t// find the original function\r\n    \t\tif (this[i].events.length) {\r\n    \t\t\tlet e = events.length;\r\n    \t\t\twhile (e--) {\r\n    \t\t\t\tthis[i].events.forEach((evt, n) => {\r\n    \t\t\t\t\tconst index = evt.events.indexOf(events[e]);\r\n    \t\t\t\t\tif (index !== -1 && (!callback || evt.callback === callback) && (!selector || evt.selector === selector)) {\r\n    \t\t\t\t\t\tthis[i].removeEventListener(events[e], evt.func, {once: evt.once, capture: !!evt.selector}); // must pass same arguments\r\n    \t\t\t\t\t\tthis[i].events[n].events.splice(index, 1);\r\n    \t\t\t\t\t\tif (!this[i].events[n].events.length) {\r\n    \t\t\t\t\t\t\tthis[i].events.splice(n, 1);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    $.fn.clone = function () {\r\n    \tlet nodes = [],\r\n    \t\ti = this.length;\r\n\r\n    \twhile (i--) {\r\n    \t\tnodes[i] = this[i].cloneNode(true);\r\n    \t}\r\n    \treturn $(nodes);\r\n    };\n\n    $.fn.empty = function () {\r\n    \tlet i = this.length;\r\n    \twhile (i--) {\r\n    \t\twhile (this[i].firstChild && this[i].removeChild(this[i].firstChild));\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    $.fn.html = function (html) {\r\n\r\n    \t// set\r\n    \tif (html !== undefined) {\r\n    \t\tlet i = this.length,\r\n    \t\t\tvalues = getVal(this, html, obj => obj.innerHTML);\r\n    \t\twhile (i--) {\r\n    \t\t\tthis[i].innerHTML = values[i];\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// get\r\n    \tif (this[0]) {\r\n    \t\treturn this[0].innerHTML;\r\n    \t}\r\n    };\n\n    $.each({\r\n    \tbefore: \"beforeBegin\",\r\n    \tprepend: \"afterBegin\",\r\n    \tappend: \"beforeEnd\",\r\n    \tafter: \"afterEnd\"\r\n    }, (name, pos) => {\r\n    \t$.fn[name] = function (html) {\r\n    \t\tlet pre = [\"before\", \"prepend\"].indexOf(name) > -1,\r\n    \t\t\tarr = [],\r\n    \t\t\ti = this.length;\r\n\r\n    \t\tif ($.isFunction(html)) {\r\n    \t\t\tarr = getVal(this, html, obj => obj.innerHTML);\r\n\r\n    \t\t// multiple arguments containing nodes\r\n    \t\t} else {\r\n    \t\t\tconst elems = $();\r\n    \t\t\t$.each(arguments, (i, arg) => elems.add(arg));\r\n    \t\t\twhile (i--) {\r\n    \t\t\t\tarr[i] = i ? elems.clone() : elems;\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t\ti = this.length;\r\n    \t\twhile (i--) {\r\n    \t\t\tlet backwards = arr[i].length, // for counting down\r\n    \t\t\t\tforwards = -1; // for counting up\r\n    \t\t\twhile (pre ? backwards-- : ++forwards < backwards) { // insert forwards or backwards?\r\n    \t\t\t\tthis[i].insertAdjacentElement(pos, arr[i][pre ? backwards : forwards]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    $.each({\r\n    \tinsertBefore: \"before\",\r\n    \tprependTo: \"prepend\",\r\n    \tappendTo: \"append\",\r\n    \tinsertAfter: \"after\"\r\n    }, (name, func) => {\r\n    \t$.fn[name] = function (selector) {\r\n    \t\tlet i = this.length,\r\n    \t\t\tobj = $(selector);\r\n\r\n    \t\twhile (i--) {\r\n    \t\t\tobj[func](this[i]);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    [\"remove\", \"detach\"].forEach(func => {\r\n    \t$.fn[func] = function (selector) {\r\n    \t\tlet i = this.length,\r\n    \t\t\tnodes = [];\r\n\r\n    \t\t// detach selected nodes\r\n    \t\twhile (i--) {\r\n    \t\t\tif (!selector || filterNodes(this[i], selector).length) {\r\n    \t\t\t\tnodes.push(this[i].parentNode.removeChild(this[i]));\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t\t// create a new dabby object to return\r\n    \t\treturn func === \"detach\" ? $(nodes) : this;\r\n    \t};\r\n    });\n\n    [\"replaceWith\", \"replaceAll\"].forEach(name => {\r\n    \t$.fn[name] = function (html) {\r\n    \t\tconst all = name === \"replaceAll\",\r\n    \t\t\tsource = all ? $(html) : this;\r\n    \t\tlet target = all ? this : html,\r\n    \t\t\tisFunc = $.isFunction(target),\r\n    \t\t\ti = source.length;\r\n\r\n    \t\tif (!isFunc) {\r\n    \t\t\ttarget = $(target);\r\n    \t\t}\r\n\r\n    \t\twhile (i--) {\r\n    \t\t\tlet n = target.length,\r\n    \t\t\t\tparent = source[i].parentNode;\r\n    \t\t\twhile (n--) {\r\n    \t\t\t\tconst replace = isFunc ? getVal(target[n], n, target[n]) : target[n];\r\n    \t\t\t\tif (n) {\r\n    \t\t\t\t\tsource[i].insertAdjacentElement(\"beforebegin\", replace.cloneNode(true));\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsource[i] = parent.replaceChild(i ? replace.cloneNode(true) : replace, source[i]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t};\r\n    });\n\n    $.fn.slice = function (start, end) {\r\n    \treturn $(this.get().slice(start, end));\r\n    };\n\n    $.fn.text = function (text) {\r\n    \tlet i = this.length,\r\n    \t\toutput = [];\r\n\r\n    \t// set\r\n    \tif (text !== undefined) {\r\n    \t\tconst values = getVal(this, text, obj => obj.textContent);\r\n    \t\twhile (i--) {\r\n    \t\t\tthis[i].textContent = values[i];\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n\r\n    \t// get\r\n    \twhile (i--) {\r\n    \t\toutput[i] = this[i].textContent;\r\n    \t}\r\n    \treturn output.join(\" \");\r\n    };\n\n    $.fn.unwrap = function (selector) {\r\n    \tthis.parent(selector).not(\"body\").each((key, obj) => {\r\n    \t\t$(obj.children).each((i, node) => {\r\n    \t\t\tobj.parentNode.insertBefore(node, obj);\r\n    \t\t});\r\n    \t\tobj.parentNode.removeChild(obj);\r\n    \t});\r\n    \treturn this;\r\n    };\n\n    $.fn.wrapAll = function (html) {\r\n    \tif (this[0]) {\r\n    \t\tif ($.isFunction(html)) {\r\n    \t\t\thtml = html.call(this[0]);\r\n    \t\t}\r\n\r\n    \t\t// set variables\r\n    \t\tlet len = this.length,\r\n    \t\t\ti = 0,\r\n    \t\t\tnode = $(html)[0].cloneNode(true);\r\n\r\n    \t\t// insert clone into parent\r\n    \t\tthis[0].parentNode.insertBefore(node, null);\r\n\r\n    \t\t// find innermost child of node\r\n    \t\twhile (node.firstElementChild) {\r\n    \t\t\tnode = node.firstElementChild;\r\n    \t\t}\r\n\r\n    \t\t// attach nodes to the new node\r\n    \t\tfor (; i < len; i++) {\r\n    \t\t\tnode.appendChild(this[i]);\r\n    \t\t}\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    $.fn.wrap = function (html) {\r\n    \tlet i = this.length,\r\n    \t\tvalues = getVal(this, html);\r\n\r\n    \twhile (i--) {\r\n    \t\t$(this[i]).wrapAll(values[i]);\r\n    \t}\r\n    \treturn this;\r\n    };\n\n    $.fn.children = function (selector) {\r\n    \tlet nodes = [],\r\n    \t\ti = this.length;\r\n\r\n    \twhile (i--) {\r\n    \t\tnodes = nodes.concat(Array.from(this[i].children));\r\n    \t}\r\n\r\n    \t// filter nodes by selector\r\n    \treturn $(selector ? filterNodes(nodes, selector) : nodes);\r\n    };\n\n    $.fn.closest = function (selector, context) {\r\n    \tlet i = this.length,\r\n    \t\tnodes = [],\r\n    \t\tparents,\r\n    \t\tnode;\r\n\r\n    \twhile (i--) {\r\n    \t\tparents = [];\r\n    \t\tnode = this[i];\r\n    \t\twhile (node && node.nodeType === Node.ELEMENT_NODE) {\r\n    \t\t\tparents.push(node);\r\n    \t\t\tnode = node.parentNode;\r\n    \t\t}\r\n    \t\tparents = filterNodes(parents, selector, context);\r\n    \t\tif (parents[0]) {\r\n    \t\t\tnodes.push(parents[0]);\r\n    \t\t}\r\n    \t}\r\n    \treturn $(nodes);\r\n    };\n\n    $.fn.eq = function (i) {\r\n    \treturn $(this[i < 0 ? i + this.length : i]);\r\n    };\n\n    $.fn.find = function (selector) {\r\n    \treturn $(selector, this);\r\n    };\n\n    $.fn.first = function () {\r\n    \treturn $(this[0]);\r\n    };\n\n    $.fn.has = function (selector) {\r\n    \treturn $(this.get().filter(node => !!$(selector, node).length));\r\n    };\n\n    $.fn.index = function (selector) {\r\n\r\n    \tif (this[0]) {\r\n    \t\tlet nodes,\r\n    \t\t\tsubject = this[0],\r\n    \t\t\ti;\r\n\r\n    \t\t// if no selector, match against first elements siblings\r\n    \t\tif (selector === undefined) {\r\n    \t\t\tnodes = this[0].parentNode.children;\r\n\r\n    \t\t// if selector is string, match first node in current collection against resulting collection\r\n    \t\t} else if (typeof selector === \"string\") {\r\n    \t\t\tnodes = $(selector);\r\n\r\n    \t\t// if element or collection match the element or first node against current collection\r\n    \t\t} else {\r\n    \t\t\tnodes = this;\r\n    \t\t\tsubject = $(selector)[0];\r\n    \t\t}\r\n\r\n    \t\ti = nodes.length;\r\n    \t\twhile (i--) {\r\n    \t\t\tif (nodes[i] === subject) {\r\n    \t\t\t\treturn i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \treturn -1;\r\n    };\n\n    $.fn.last = function () {\r\n    \treturn this.eq(-1);\r\n    };\n\n    [\"next\", \"nextAll\", \"nextUntil\", \"prev\", \"prevAll\", \"prevUntil\"].forEach(func => {\r\n    \t$.fn[func] = function (selector, filter) {\r\n    \t\tconst next = func.indexOf(\"x\") > -1,\r\n    \t\t\tall = func.indexOf(\"A\") > -1,\r\n    \t\t\tuntil = func.indexOf(\"U\") > -1,\r\n    \t\t\tmethod = next ? \"nextElementSibling\" : \"previousElementSibling\";\r\n    \t\tlet nodes = [],\r\n    \t\t\ti = this.length,\r\n    \t\t\tsibling;\r\n\r\n    \t\t// look through each node and get siblings\r\n    \t\twhile (i--) {\r\n    \t\t\tsibling = this[i][method];\r\n    \t\t\twhile (sibling) {\r\n    \t\t\t\tnodes.push(sibling);\r\n    \t\t\t\tif (all || (until && filterNodes(sibling, selector).length)) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsibling = sibling[method];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    \t\t// swap args for *Until methods\r\n    \t\tif (until) {\r\n    \t\t\tselector = filter;\r\n    \t\t}\r\n\r\n    \t\t// return new collection\r\n    \t\treturn $(selector ? filterNodes(nodes, selector) : nodes);\r\n    \t};\r\n    });\n\n    $.fn.siblings = function (selector) {\r\n    \tlet i = this.length,\r\n    \t\tnodes = [];\r\n\r\n    \twhile (i--) {\r\n    \t\tArray.from(this[i].parentNode.children).forEach(child => {\r\n    \t\t\tif (child !== this[i]) {\r\n    \t\t\t\tnodes.push(child);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \treturn $(selector ? filterNodes(nodes, selector) : nodes);\r\n    };\n\n    // ajax\r\n    // attributes\r\n    // core\r\n    // dimensions\r\n    // events\r\n    // manipulation\r\n    // traversal\r\n    // utilities\r\n    //import \"./utils/isarray/isarray.js\";\n\n    return $;\n\n})));\n"],"file":"dabby.es5.js"}